(function(a){function m(a,c,f){var b=function(){},x=b.prototype=new a.constructor;c.$$scope=x;c.$$base_module=a.base;x.base=c;x.constructor=b;x.constants=[];f&&A.cdecl(a,f,c)}function r(a,c){var f=t(null,c,a);return n(a,f)}function n(a,c){function f(){}var b=function(){};b.prototype=a.constructor.prototype;f.prototype=new b;b=new f;h(b,f,a,c.prototype);b.$$alloc=c;return b.$$proto.$$class=b}function h(a,c,f,b){a.$$id=A.uid();a.$$proto=b;a.constructor=c;f===x?(a.$$is_module=!0,a.$$class=x):(a.$$is_class=
!0,a.$$class=B);a.$$super=f;a.$$parent=f;a.$$inc=[]}function l(){function a(){}var c=function(){};c.prototype=x.constructor.prototype;a.prototype=new c;c=new a;h(c,a,x,{});return c}function e(a){var c=a.$$class,f="#<Class:#<"+c.$$name+":"+c.$$id+">>",b=A.boot(c,function(){});b.$$name=f;b.$$proto=a;b.$$class=c.$$class;b.$$scope=c.$$scope;b.$$parent=c;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function d(){var a,c,b,x,g,B,E,k;if(4===arguments.length){a=arguments[0];c=arguments[1];b=arguments[2];
x=arguments[3];g=a.$$bridge.$ancestors();B=0;for(k=g.length;B<k;B++){E=g[B];if(v.call(E.$$proto,b)&&E.$$proto[b]&&!E.$$proto[b].$$donated&&!E.$$proto[b].$$stub&&E!==c)break;if(E===c){a.prototype[b]=x;break}}}else if(a=arguments[0],c=arguments[1],"function"===typeof a){b=c.$__id__();x=c.$instance_methods();for(B=x.length-1;0<=B;B--)g="$"+x[B],d(a,c,g,c.$$proto[g]);f[b]||(f[b]=[]);f[b].push(a)}else if(a=f[a.$__id__()]){for(B=a.length-1;0<=B;B--)d(a[B],c);f[c.$__id__()]=a.slice()}}function t(a,c,f){if(f){var b=
function(){};b.prototype=f.$$proto||f.prototype;a&&(b.displayName=a);c.prototype=new b}return c.prototype.constructor=c}function b(a,c,f){var b=function(){};b.prototype=f.prototype;var x=function(){};x.prototype=new b;x.displayName="#<Class:"+a+">";b=new x;h(b,x,f,c.prototype);b.$$alloc=c;b.$$name=a;c.prototype.$$class=b;A[a]=b;A.constants.push(a);return b}function w(a,c){for(var f=a.$$scope.constants,b=c.$$scope,x=b.constants,g=0,B=f.length;g<B;g++)x.push(f[g]),b[f[g]]=a.$$scope[f[g]]}function z(a,
c){var f=a.$$dep,b=a.$$proto[c],x,g,B,E,k,e,p,v,A,J;if(f){x=0;for(g=f.length;x<g;x++){B=f[x];E=B.$$proto;k=E[c];if(!E.hasOwnProperty(c)||k.$$donated||k.$$stub)if(E.hasOwnProperty(c)&&!k.$$stub){e=B.$$inc;p=0;for(v=e.length;p<v;p++)e[p]===k.$$donated&&(A=p),e[p]===a&&(J=p);A<=J&&(E[c]=b,E[c].$$donated=a)}else E[c]=b,E[c].$$donated=a;B.$$dep&&z(B,c)}}}function u(a){function c(){this.$method_missing.$$p=c.$$p;c.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(G.call(arguments)))}c.$$stub=
!0;return c}function p(a){function c(){a.$$p=c.$$p;a.$$s=c.$$s;try{return a.apply(this,G.call(arguments))}finally{c.$$s=null,c.$$p=null}}c.$$target=a;c.$$arity=a.length;return c}function q(){}function g(){}function k(){}function s(){}function y(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var A=this.Opal={},f={},c=function(){};c.prototype=A;A.constructor=c;A.constants=[];A.global=this;var v=A.hasOwnProperty,
G=A.slice=Array.prototype.slice,C=4;A.uid=function(){return C+=2};A.cvars={};A.gvars={};A.exit=function(a){A.gvars.DEBUG&&console.log("Exited with status "+a)};A.exceptions=[];A.get=function(a){var c=this[a];return null==c?this.base.$const_get(a):c};A.create_scope=m;A.klass=function(a,c,f,b){!a.$$is_class&&!a.$$is_module&&(a=a.$$class);var x=a.$$scope[f],g="function"===typeof c;if(x&&x.$$orig_scope===a.$$scope){if(!x.$$is_class)throw A.TypeError.$new(f+" is not a class");if(c&&x.$$super!==c)throw A.TypeError.$new("superclass mismatch for class "+
f);return x}null===c&&(c=E);x=g?n(E,c):r(c,b);x.$$name=f;x.$$is_class=!0;m(a.$$scope,x,f);a[f]=a.$$scope[f]=x;g?A.bridge(x,c):(c!==E&&c!==I&&w(c,x),c.$inherited&&c.$inherited(x));return x};A.boot=r;A.module=function(a,c){var f;!a.$$is_class&&!a.$$is_module&&(a=a.$$class);if(v.call(a.$$scope,c)){if(f=a.$$scope[c],!f.$$is_module&&f!==E)throw A.TypeError.$new(c+" is not a module");}else f=l(),f.$$name=c,f.$$is_module=!0,f.$$dep=[],m(a.$$scope,f,c),a[c]=a.$$scope[c]=f;return f};A.get_singleton_class=
function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var c=new A.Class.$$alloc;c.$$class=A.Class;c.$$proto=a.constructor.prototype;c.$$is_singleton=!0;c.$$singleton_of=a;c.$$inc=[];c.$$scope=a.$$scope;return a.$$meta=c}return e(a)};A.append_features=function(a,c){var f,b,x,g,B;for(B=c.$$inc.length-1;0<=B;B--)if(c.$$inc[B]===a)return;c.$$inc.push(a);a.$$dep.push(c);d(c,a);c.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:c.$$parent,$$module:a,$$iclass:!0};f=a.$$proto;b=c.$$proto;
x=a.$instance_methods();for(B=x.length-1;0<=B;B--)if(g="$"+x[B],!b.hasOwnProperty(g)||b[g].$$donated||b[g].$$stub)b[g]=f[g],b[g].$$donated=a;w(a,c)};A.bridge=function(a,c){if(c.$$bridge)throw A.ArgumentError.$new("already bridged");A.stub_subscribers.push(c.prototype);c.prototype.$$class=a;c.$$bridge=a;for(var f=a.$ancestors(),b=f.length-1;0<=b;b--)d(c,f[b]);for(var x in q.prototype){var g=q.prototype[g];g&&(g.$$stub&&!(x in c.prototype))&&(c.prototype[x]=g)}return a};A.casgn=function(a,c,f){function b(a,
c){a.$$name=c;for(c in a.$$scope){var f=a.$$scope[c];f.$$name===J&&(f.$$is_class||f.$$is_module)&&b(f,c)}}var x=a.$$scope;if(f.$$is_class||f.$$is_module){if(f.$$is_class||f.$$base_module===E)f.$$base_module=a;f.$$name===J&&f.$$base_module.$$name!==J&&b(f,c)}x.constants.push(c);return x[c]=f};A.cdecl=function(a,c,f){if((f.$$is_class||f.$$is_module)&&null==f.$$orig_scope)f.$$name=c,f.$$orig_scope=a,a.constructor[c]=f;a.constants.push(c);return a[c]=f};A.add_stubs=function(a){var c,f=A.stub_subscribers,
b,x=a.length,g,B=f.length,E,k;for(b=0;b<x;b++){E=a[b];k=u(E);for(g=0;g<B;g++)c=f[g],E in c||(c[E]=k)}};A.stub_subscribers=[q.prototype];A.add_stub_for=function(a,c){var f=u(c);a[c]=f};A.ac=function(a,c,f,b){var x="",x=f.$$is_class||f.$$is_module?x+(f.$$name+"."):x+(f.$$class.$$name+"#");throw A.ArgumentError.$new("["+(x+b)+"] wrong number of arguments("+a+" for "+c+")");};A.find_super_dispatcher=function(a,c,f,b,x){if(x)f=a.$$is_class||a.$$is_module?x.$$super:a.$$class.$$proto;else if(a.$$is_class||
a.$$is_module)f=a.$$super;else{x=a.$$meta||a.$$class;for(a="$"+c;x&&x.$$proto[a]!==f;)x=x.$$parent;if(!x)throw Error("could not find current class for super()");for(x=x.$$parent;x;){var g=x.$$proto[a];if(g&&g!==f)break;x=x.$$parent}f=x.$$proto}f=f["$"+c];f.$$p=b;return f};A.find_iter_super_dispatcher=function(a,c,f,b,x){return f.$$def?A.find_super_dispatcher(a,f.$$jsid,f,b,x):A.find_super_dispatcher(a,c,f,b,x)};A.ret=function(a){A.returner.$v=a;throw A.returner;};A.yield1=function(a,c){if("function"!==
typeof a)throw A.LocalJumpError.$new("no block given");return 1<a.length&&c.$$is_array?a.apply(null,c):a(c)};A.yieldX=function(a,c){if("function"!==typeof a)throw A.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);c.$$is_array||(c=G.call(c));return a.apply(null,c)};A.rescue=function(a,c){for(var f=0;f<c.length;f++){var b=c[f];if(b.$$is_array){if(b=A.rescue(a,b))return b}else if(b["$==="](a))return b}return null};A.is_a=function(a,c){if(a.$$meta===
c)return!0;for(var f=a.$$class;f;){if(f===c)return!0;for(var b=0,x=f.$$inc.length;b<x;b++)if(f.$$inc[b]===c)return!0;f=f.$$super}return!1};A.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]};A.to_a=function(a){return null==a||a===J?[]:a.$to_a&&!a.$to_a.$$stub?a.$to_a():[a]};A.kwrestargs=function(a,c){var f=[],b={},x=null,g=a.smap;for(x in g)c[x]||(f.push(x),b[x]=g[x]);return A.hash2(f,b)};A.send=function(a,c){var f=G.call(arguments,2),b=a["$"+c];return b?b.apply(a,
f):a.$method_missing.apply(a,[c].concat(f))};A.block_send=function(a,c,f){var b=G.call(arguments,3),x=a["$"+c];return x?(x.$$p=f,x.apply(a,b)):a.$method_missing.apply(a,[c].concat(b))};A.defn=function(a,c,b){a.$$proto[c]=b;a.$$is_module&&(z(a,c),a.$$module_function&&A.defs(a,c,b));if(a.$__id__&&!a.$__id__.$$stub){var x=f[a.$__id__()];if(x)for(var g=x.length-1;0<=g;g--)d(x[g],a,c,b)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(c.substr(1));(a=a.$$singleton_of)&&(a.$singleton_method_added&&
!a.$singleton_method_added.$$stub)&&a.$singleton_method_added(c.substr(1));return J};A.defs=function(a,c,f){A.defn(A.get_singleton_class(a),c,f)};A.def=function(a,c,f){!a.$$eval&&(a.$$is_class||a.$$is_module)?A.defn(a,c,f):A.defs(a,c,f)};A.rdef=function(a,c){if(!v.call(a.$$proto,c))throw A.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());delete a.$$proto[c];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(c.substr(1)):
a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(c.substr(1))};A.udef=function(a,c){if(!a.$$proto[c]||a.$$proto[c].$$stub)throw A.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());A.add_stub_for(a.$$proto,c);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};A.alias=function(a,c,
f){var b="$"+c,x="$"+f,g=a.$$proto["$"+f];if(a.$$eval)return A.alias(A.get_singleton_class(a),c,f);if("function"!==typeof g||g.$$stub){for(c=a.$$super;"function"!==typeof g&&c;)g=c[x],c=c.$$super;if("function"!==typeof g||g.$$stub)throw A.NameError.$new("undefined method `"+f+"' for class `"+a.$name()+"'");}A.defn(a,b,p(g));return a};A.alias_native=function(a,c,f){c="$"+c;var b=a.$$proto[f];if("function"!==typeof b||b.$$stub)throw A.NameError.$new("undefined native method `"+f+"' for class `"+a.$name()+
"'");A.defn(a,c,p(b));return a};A.hash_init=function(a){a.map={};a.smap={};a.keys=[]};A.hash_clone=function(a,c){c.none=a.none;c.proc=a.proc;for(var f=0,b=a.keys.length,x,g;f<b;f++)x=a.keys[f],x.$$is_string?g=a.smap[x]:(g=x.value,x=x.key),A.hash_put(c,x,g)};A.hash_put=function(c,f,b){if(f.$$is_string)c.smap.hasOwnProperty(f)||c.keys.push(f),c.smap[f]=b;else{var x=f.$hash(),g,B;if(c.map.hasOwnProperty(x)){for(g=c.map[x];g;){if(f===g.key||f["$eql?"](g.key)){B=a;g.value=b;break}B=g;g=g.next}B&&(g={key:f,
key_hash:x,value:b},c.keys.push(g),B.next=g)}else g={key:f,key_hash:x,value:b},c.keys.push(g),c.map[x]=g}};A.hash_get=function(a,c){if(c.$$is_string){if(a.smap.hasOwnProperty(c))return a.smap[c]}else{var f=c.$hash();if(a.map.hasOwnProperty(f))for(f=a.map[f];f;){if(c===f.key||c["$eql?"](f.key))return f.value;f=f.next}}};A.hash_delete=function(a,c){var f,b=a.keys,x=b.length,g;if(c.$$is_string){if(!a.smap.hasOwnProperty(c))return;for(f=0;f<x;f++)if(b[f]===c){b.splice(f,1);break}g=a.smap[c];delete a.smap[c];
return g}var B=c.$hash();if(a.map.hasOwnProperty(B))for(var E=a.map[B],k;E;){if(c===E.key||c["$eql?"](E.key)){g=E.value;for(f=0;f<x;f++)if(b[f]===E){b.splice(f,1);break}k&&E.next?k.next=E.next:k?delete k.next:E.next?a.map[B]=E.next:delete a.map[B];return g}k=E;E=E.next}};A.hash_rehash=function(c){for(var f=0,b=c.keys.length,x,g,B;f<b;f++)if(!c.keys[f].$$is_string&&(x=c.keys[f].key.$hash(),x!==c.keys[f].key_hash)){g=c.map[c.keys[f].key_hash];for(B=a;g;){if(g===c.keys[f]){B&&g.next?B.next=g.next:B?
delete B.next:g.next?c.map[c.keys[f].key_hash]=g.next:delete c.map[c.keys[f].key_hash];break}B=g;g=g.next}c.keys[f].key_hash=x;if(c.map.hasOwnProperty(x)){g=c.map[x];for(B=a;g;){if(g===c.keys[f]){B=a;break}B=g;g=g.next}B&&(B.next=c.keys[f])}else c.map[x]=c.keys[f]}};A.hash=function(){var a=arguments.length,c,f,b,x,g;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new A.Hash.$$alloc;A.hash_init(c);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;for(f=0;f<b;f++){if(2!==a[f].length)throw A.ArgumentError.$new("value not of length 2: "+
a[f].$inspect());x=a[f][0];g=a[f][1];A.hash_put(c,x,g)}return c}if(1===a){a=arguments[0];for(x in a)a.hasOwnProperty(x)&&(g=a[x],A.hash_put(c,x,g));return c}if(0!==a%2)throw A.ArgumentError.$new("odd number of arguments for Hash");for(f=0;f<a;f+=2)x=arguments[f],g=arguments[f+1],A.hash_put(c,x,g);return c};A.hash2=function(a,c){var f=new A.Hash.$$alloc;f.map={};f.keys=a;f.smap=c;return f};A.range=function(a,c,f){var b=new A.Range.$$alloc;b.begin=a;b.end=c;b.exclude=f;return b};A.ivar=function(a){return"constructor"===
a||"__proto__"===a||"__parent__"===a||"__noSuchMethod__"===a||"__count__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};(function(a){function c(a){var f,b=[];"."!==E&&(a=E.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var x=0,g=a.length;x<g;x++)f=a[x],""!==f&&(".."===f?b.pop():b.push(f));return b.join("/")}function f(a){var b,B,E;b=0;for(B=a.length;b<B;b++){E=c(a[b]);if(g[E])break;x.push(E);g[E]=!0}}function b(x){x=c(x);f([x]);var g=B[x];if(g)g(a);else if(g=a.dynamic_require_severity||
"warning",x="cannot load such file -- "+x,"error"===g)if(a.LoadError)a.LoadError.$new(x);else throw x;else"warning"===g&&console.warn("WARNING: LoadError: "+x);return!0}var x=["corelib/runtime"],g={"corelib/runtime":!0},B={},E=".";a.modules=B;a.loaded_features=x;a.loaded=f;a.load=b;a.require=function(a){a=c(a);return g[a]?!1:b(a)}})(A);var I,E,x,B;t("BasicObject",q);t("Object",g,q);t("Module",s,g);t("Class",k,s);I=b("BasicObject",q,k);E=b("Object",g,I.constructor);x=b("Module",s,E.constructor);B=
b("Class",k,x.constructor);I.$$class=B;E.$$class=B;x.$$class=B;B.$$class=B;I.$$super=null;E.$$super=I;x.$$super=E;B.$$super=x;I.$$parent=null;E.$$parent=I;x.$$parent=E;B.$$parent=x;A.base=E;I.$$scope=E.$$scope=A;I.$$orig_scope=E.$$orig_scope=A;x.$$scope=E.$$scope;x.$$orig_scope=E.$$orig_scope;B.$$scope=E.$$scope;B.$$orig_scope=E.$$orig_scope;E.$$proto.toString=function(){return this.$to_s()};E.$$proto.$require=A.require;A.top=new E.$$alloc;A.klass(E,E,"NilClass",y);var J=A.nil=new y;J.$$id=4;J.call=
J.apply=function(){throw A.LocalJumpError.$new("no block given");};A.breaker=Error("unexpected break");A.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.slice,n=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(h){h=n(h,"Opal");var l=h.$$scope;a.defs(h,"$bridge",function(e,d){return a.bridge(e,d)});a.defs(h,"$type_error",function(a,d,h,b){var n;null==h&&(h=m);null==b&&(b=m);return(n=!1!==h&&h!==m?b:h)!==m&&(!n.$$is_boolean||!0==n)?l.get("TypeError").$new("can't convert "+
a.$class()+" into "+d+" ("+a.$class()+"#"+h+" gives "+b.$class()):l.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+d)});a.defs(h,"$coerce_to",function(a,d,h){var b;if((b=d["$==="](a))!==m&&(!b.$$is_boolean||!0==b))return a;(b=a["$respond_to?"](h))!==m&&(!b.$$is_boolean||!0==b)||this.$raise(this.$type_error(a,d));return a.$__send__(h)});a.defs(h,"$coerce_to!",function(a,d,h){var b,l=m,l=this.$coerce_to(a,d,h);(b=d["$==="](l))!==m&&(!b.$$is_boolean||!0==b)||this.$raise(this.$type_error(a,
d,h,l));return l});a.defs(h,"$coerce_to?",function(a,d,h){var b,l=m;if(!((b=a["$respond_to?"](h))!==m&&(!b.$$is_boolean||!0==b)))return m;l=this.$coerce_to(a,d,h);if((b=l["$nil?"]())!==m&&(!b.$$is_boolean||!0==b))return m;(b=d["$==="](l))!==m&&(!b.$$is_boolean||!0==b)||this.$raise(this.$type_error(a,d,h,l));return l});a.defs(h,"$try_convert",function(a,d,h){var b;return(b=d["$==="](a))!==m&&(!b.$$is_boolean||!0==b)?a:(b=a["$respond_to?"](h))!==m&&(!b.$$is_boolean||!0==b)?a.$__send__(h):m});a.defs(h,
"$compare",function(a,d){var h,b=m,b=a["$<=>"](d);(h=b===m)!==m&&(!h.$$is_boolean||!0==h)&&this.$raise(l.get("ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return b});a.defs(h,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:r.call(a)});a.defs(h,"$respond_to?",function(a,d){return null==a||!a.$$class?!1:a["$respond_to?"](d)});a.defs(h,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(h,"$instance_variable_name!",
function(a){var d;a=l.get("Opal")["$coerce_to!"](a,l.get("String"),"to_str");(d=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))!==m&&(!d.$$is_boolean||!0==d)||this.$raise(l.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
Opal.modules["corelib/module"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.slice,n=a.klass;a.add_stubs("$equal? $< $attr_reader $attr_writer $coerce_to! $raise $new $=~ $inject $const_get $split $const_missing $to_str $=== $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(h,$super){function e(){}var d=e=n(h,$super,"Module",e),t=d.$$scope,b,w,z,u;a.defs(d,"$new",b=function(){var p=b.$$p||m;b.$$p=null;var e=a.boot(a.Module,
function(){});e.$$name=m;e.$$class=a.Module;e.$$dep=[];e.$$is_module=!0;e.$$proto={};a.create_scope(a.Module.$$scope,e);if(p!==m){var g=p.$$s;p.$$s=null;p.call(e);p.$$s=g}return e});a.defn(d,"$===",function(b){var e;return(e=null==b)!==m&&(!e.$$is_boolean||!0==e)?!1:a.is_a(b,this)});a.defn(d,"$<",function(a){var b=this;if(b===a)return!1;for(;b;){if(b===a)return!0;b=b.$$parent}return!1});a.defn(d,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==m?b:"number"===typeof this&&"number"===
typeof a?this<a:this["$<"](a)});a.defn(d,"$alias_method",function(b,e){a.alias(this,b,e);return this});a.defn(d,"$alias_native",function(b,e){null==e&&(e=b);a.alias_native(this,b,e);return this});a.defn(d,"$ancestors",function(){for(var a=this,b=[];a;){b.push(a);for(var g=0;g<a.$$inc.length;g++)b=b.concat(a.$$inc[g].$ancestors());a=a.$$is_class?a.$$super:null}return b});a.defn(d,"$append_features",function(b){a.append_features(this,b);return this});a.defn(d,"$attr_accessor",function(){var b=arguments.length-
0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];this.$attr_reader.apply(this,a.to_a(e));return this.$attr_writer.apply(this,a.to_a(e))});a.alias(d,"attr","attr_accessor");a.defn(d,"$attr_reader",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=this.$$proto;for(g=e.length-1;0<=g;g--){var k=e[g],d="$"+k,k=a.ivar(k),y=function(a){return function(){return null==this[a]?m:this[a]}}(k);b[k]=m;this.$$is_singleton?b.constructor.prototype[d]=
y:a.defn(this,d,y)}return m});a.defn(d,"$attr_writer",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=this.$$proto;for(g=e.length-1;0<=g;g--){var k=e[g],d="$"+k+"=",k=a.ivar(k),y=function(a){return function(f){return this[a]=f}}(k);b[k]=m;this.$$is_singleton?b.constructor.prototype[d]=y:a.defn(this,d,y)}return m});a.defn(d,"$autoload",function(a,b){var g;if(!(g=this.$$autoload))g=this.$$autoload={};g[a]=b;return m});a.defn(d,"$class_variable_get",
function(b){var e;b=t.get("Opal")["$coerce_to!"](b,t.get("String"),"to_str");(e=3>b.length||"@@"!==b.slice(0,2))!==m&&(!e.$$is_boolean||!0==e)&&this.$raise(t.get("NameError").$new("class vars should start with @@",b));var g=a.cvars[b.slice(2)];(e=null==g)!==m&&(!e.$$is_boolean||!0==e)&&this.$raise(t.get("NameError").$new("uninitialized class variable @@a in",b));return g});a.defn(d,"$class_variable_set",function(b,e){var g;b=t.get("Opal")["$coerce_to!"](b,t.get("String"),"to_str");(g=3>b.length||
"@@"!==b.slice(0,2))!==m&&(!g.$$is_boolean||!0==g)&&this.$raise(t.get("NameError"));return a.cvars[b.slice(2)]=e});a.defn(d,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(d,"$const_defined?",function(b,e){var g;null==e&&(e=!0);(g=b["$=~"](/^[A-Z]\w*$/))!==m&&(!g.$$is_boolean||!0==g)||this.$raise(t.get("NameError").$new("wrong constant name "+b,b));g=[this.$$scope];if(e||this===a.Object)for(var k=this.$$super;k!==a.BasicObject;)g.push(k.$$scope),k=k.$$super;for(var k=0,d=g.length;k<
d;k++)if(g[k].hasOwnProperty(b))return!0;return!1});a.defn(d,"$const_get",function(b,e){var g,k,d;null==e&&(e=!0);if((g=-1!=b.indexOf("::")&&"::"!=b)!==m&&(!g.$$is_boolean||!0==g))return(g=(k=b.$split("::")).$inject,g.$$p=(d=function(a,b){null==a&&(a=m);null==b&&(b=m);return a.$const_get(b)},d.$$s=this,d),g).call(k,this);(g=/^[A-Z]\w*$/.test(b))!==m&&(!g.$$is_boolean||!0==g)||this.$raise(t.get("NameError").$new("wrong constant name "+b,b));g=[this.$$scope];if(e||this==a.Object)for(k=this.$$super;k!==
a.BasicObject;)g.push(k.$$scope),k=k.$$super;k=0;for(d=g.length;k<d;k++)if(g[k].hasOwnProperty(b))return g[k][b];return this.$const_missing(b)});a.defn(d,"$const_missing",function(a){if(this.$$autoload){var b=this.$$autoload[a];if(b)return this.$require(b),this.$const_get(a)}return this.$raise(t.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(d,"$const_set",function(b,e){var g;(g=b["$=~"](/^[A-Z]\w*$/))!==m&&(!g.$$is_boolean||!0==g)||this.$raise(t.get("NameError").$new("wrong constant name "+
b,b));try{b=b.$to_str()}catch(k){try{this.$raise(t.get("TypeError"),"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,b,e);return e});a.defn(d,"$define_method",w=function(b,e){var g,k,d,y=this,A=w.$$p||m,f=m;w.$$p=null;(g=void 0===e&&A===m)!==m&&(!g.$$is_boolean||!0==g)&&y.$raise(t.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(g=A)&&g!==m?g:A=function(){f=e;return t.get("Proc")["$==="](f)?e:t.get("Method")["$==="](f)?e.$to_proc().$$unbound:
t.get("UnboundMethod")["$==="](f)?(k=y.$lambda,k.$$p=(d=function(c){var f=d.$$s||this,b,g=m;c=r.call(arguments,0);g=e.$bind(f);return(b=g).$call.apply(b,a.to_a(c))},d.$$s=y,d),k).call(y):y.$raise(t.get("TypeError"),"wrong argument type "+A.$class()+" (expected Proc/Method)")}();A.$$jsid=b;A.$$s=null;A.$$def=A;a.defn(y,"$"+b,A);return b});a.defn(d,"$remove_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=0;for(g=e.length;b<g;b++)a.rdef(this,
"$"+e[b]);return this});a.defn(d,"$singleton_class?",function(){return!!this.$$is_singleton});a.defn(d,"$include",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];for(a=b.length-1;0<=a;a--)g=b[a],g!==this&&(g.$append_features(this),g.$included(this));return this});a.defn(d,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var g=0;g!=b.$$inc.length;g++)if(a===b.$$inc[g])return!0;return!1});a.defn(d,"$instance_method",function(a){var b=this.$$proto["$"+
a];(!b||b.$$stub)&&this.$raise(t.get("NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return t.get("UnboundMethod").$new(this,b,a)});a.defn(d,"$instance_methods",function(b){null==b&&(b=!0);var e=[],g=this.$$proto,k;for(k in g)if("$"===k.charAt(0)&&"function"===typeof g[k]&&!g[k].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&g[k]===a.BasicObject.$$proto[k])continue;if(!b&&!g.hasOwnProperty(k))continue;if(!b&&g[k].$$donated)continue}e.push(k.substr(1))}return e});
a.defn(d,"$included",function(a){return m});a.defn(d,"$extended",function(a){return m});a.defn(d,"$method_added",function(){return m});a.defn(d,"$method_removed",function(){return m});a.defn(d,"$method_undefined",function(){return m});a.defn(d,"$module_eval",z=function(){var a=z.$$p||m;z.$$p=null;!1!==a&&a!==m||this.$raise(t.get("ArgumentError"),"no block given");var b=a.$$s,g;a.$$s=null;g=a.call(this);a.$$s=b;return g});a.alias(d,"class_eval","module_eval");a.defn(d,"$module_exec",u=function(){var a=
u.$$p||m,b=arguments.length-0;0>b&&(b=0);for(var g=Array(b),k=0;k<b;k++)g[k]=arguments[k+0];u.$$p=null;a===m&&this.$raise(t.get("LocalJumpError"),"no block given");b=a.$$s;a.$$s=null;g=a.apply(this,g);a.$$s=b;return g});a.alias(d,"class_exec","module_exec");a.defn(d,"$method_defined?",function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(d,"$module_function",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];if(0===e.length)this.$$module_function=
!0;else{b=0;for(g=e.length;b<g;b++){var k="$"+e[b];a.defs(this,k,this.$$proto[k])}}return this});a.defn(d,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],e=this;e;){if(e.$$name===m)return 0===b.length?m:b.join("::");b.unshift(e.$$name);e=e.$$base_module;if(e===a.Object)break}return 0===b.length?m:this.$$full_name=b.join("::")});a.defn(d,"$remove_class_variable",function(){return m});a.defn(d,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});
a.defn(d,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==m?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(d,"$undef_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=0;for(g=e.length;b<g;b++)a.udef(this,"$"+e[b]);return this}),m)&&"undef_method"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var m=a.top,r=a.nil,n=a.klass;a.add_stubs(["$require","$raise","$allocate"]);m.$require("corelib/module");return function(h,$super){function e(){}var d=e=n(h,$super,"Class",e),t=d.$$scope,b,m;a.defs(d,"$new",b=function(e){var d=b.$$p||r;null==e&&(e=t.get("Object"));b.$$p=null;e.$$is_class||this.$raise(t.get("TypeError"),"superclass must be a Class");var p=a.boot(e,function(){});p.$$name=r;p.$$parent=e;p.$$is_class=!0;a.create_scope(e.$$scope,
p);e.$inherited(p);d!==r&&(e=d.$$s,d.$$s=null,d.call(p),d.$$s=e);return p});a.defn(d,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(d,"$inherited",function(a){return r});a.defn(d,"$new",m=function(){var a=m.$$p||r,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),d=0;d<b;d++)e[d]=arguments[d+0];m.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,e);return b});return(a.defn(d,"$superclass",function(){return this.$$super||r}),r)&&"superclass"}(a.base,
null)};
Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass;a.add_stubs(["$==","$!","$raise","$new","$inspect"]);return function(n,$super){function l(){}var e=l=r(n,$super,"BasicObject",l),d=e.$$scope,t,b,w,z;a.defn(e,"$initialize",function(){return m});a.defn(e,"$==",function(a){return this===a});a.defn(e,"$eql?",function(a){return this["$=="](a)});a.defn(e,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(e,"$__send__",t=function(a){var b=t.$$p||
m,e=arguments.length-1;0>e&&(e=0);for(var g=Array(e),k=0;k<e;k++)g[k]=arguments[k+1];t.$$p=null;if(e=this["$"+a])return b!==m&&(e.$$p=b),e.apply(this,g);b!==m&&(this.$method_missing.$$p=b);return this.$method_missing.apply(this,[a].concat(g))});a.defn(e,"$!",function(){return!1});a.defn(e,"$!=",function(a){return this["$=="](a)["$!"]()});a.alias(e,"equal?","==");a.defn(e,"$instance_eval",b=function(){var a=b.$$p||m;b.$$p=null;!1!==a&&a!==m||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");
var e=a.$$s,l;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{l=a.call(this,this)}finally{this.$$eval=!1}}else l=a.call(this,this);a.$$s=e;return l});a.defn(e,"$instance_exec",w=function(){var a=w.$$p||m,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];w.$$p=null;!1!==a&&a!==m||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");var b=a.$$s,k;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{k=a.apply(this,e)}finally{this.$$eval=
!1}}else k=a.apply(this,e);a.$$s=b;return k});a.defn(e,"$singleton_method_added",function(){return m});a.defn(e,"$singleton_method_removed",function(){return m});a.defn(e,"$singleton_method_undefined",function(){return m});return(a.defn(e,"$method_missing",z=function(a){var b,e=arguments.length-1;0>e&&(e=0);for(var g=Array(e),k=0;k<e;k++)g[k]=arguments[k+1];z.$$p=null;return d.get("Kernel").$raise(d.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)!==m&&(!b.$$is_boolean||!0==b)?"undefined method `"+
a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class,a))}),m)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var r=a.nil,n=a.breaker,h=a.module,l=a.gvars,e=a.hash2,d=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $each $reverse $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));(function(d){d=
h(d,"Kernel");var b=d.$$scope,w,z,u,p,q,g,k,s,y;a.defn(d,"$method_missing",w=function(a){var f=arguments.length-1;0>f&&(f=0);for(var c=Array(f),g=0;g<f;g++)c[g]=arguments[g+1];w.$$p=null;return this.$raise(b.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,c))});a.defn(d,"$=~",function(a){return!1});a.defn(d,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(d,"$===",function(a){var f;return!1!==(f=this.$object_id()["$=="](a.$object_id()))&&f!==r?f:this["$=="](a)});
a.defn(d,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==r?0:r});a.defn(d,"$method",function(a){var f=this["$"+a];(!f||f.$$stub)&&this.$raise(b.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return b.get("Method").$new(this,f,a)});a.defn(d,"$methods",function(b){null==b&&(b=!0);var f=[],c;for(c in this)"$"==c[0]&&"function"===typeof this[c]&&(!(!1==b||b===r)||a.hasOwnProperty.call(this,c))&&void 0===this[c].$$stub&&f.push(c.substr(1));return f});
a.alias(d,"public_methods","methods");a.defn(d,"$Array",function(a){var f;if(a===r)return[];if(a.$$is_array)return a;f=b.get("Opal")["$coerce_to?"](a,b.get("Array"),"to_ary");if(f!==r)return f;f=b.get("Opal")["$coerce_to?"](a,b.get("Array"),"to_a");return f!==r?f:[a]});a.defn(d,"$at_exit",z=function(){var a,f=z.$$p||r;null==l.__at_exit__&&(l.__at_exit__=r);z.$$p=null;!1!==(a=l.__at_exit__)&&a!==r?a:l.__at_exit__=[];return l.__at_exit__["$<<"](f)});a.defn(d,"$caller",function(){return[]});a.defn(d,
"$class",function(){return this.$$class});a.defn(d,"$copy_instance_variables",function(a){for(var f in a)"$"!==f.charAt(0)&&(this[f]=a[f])});a.defn(d,"$copy_singleton_methods",function(b){var f;if(b.hasOwnProperty("$$meta")){var c=a.get_singleton_class(b).$$proto,g=a.get_singleton_class(this).$$proto;for(f in c)"$"===f.charAt(0)&&c.hasOwnProperty(f)&&(g[f]=c[f])}for(f in b)"$"===f.charAt(0)&&("$"!==f.charAt(1)&&b.hasOwnProperty(f))&&(this[f]=b[f])});a.defn(d,"$clone",function(){var a=r,a=this.$class().$allocate();
a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(d,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(d,"$define_singleton_method",u=function(a,f){var c,b,g=u.$$p||r;u.$$p=null;return(c=(b=this.$singleton_class()).$define_method,c.$$p=g.$to_proc(),c).call(b,a,f)});a.defn(d,"$dup",function(){var a=r,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(d,"$initialize_dup",
function(a){return this.$initialize_copy(a)});a.defn(d,"$enum_for",p=function(g){var f,c,e=p.$$p||r,k=arguments.length-1;0>k&&(k=0);for(var d=Array(k),s=0;s<k;s++)d[s]=arguments[s+1];null==g&&(g="each");p.$$p=null;return(f=(c=b.get("Enumerator")).$for,f.$$p=e.$to_proc(),f).apply(c,[this,g].concat(a.to_a(d)))});a.alias(d,"to_enum","enum_for");a.defn(d,"$equal?",function(a){return this===a});a.defn(d,"$exit",function(b){var f,c;null==l.__at_exit__&&(l.__at_exit__=r);null==b&&(b=!0);if((f=l.__at_exit__)!==
r&&(!f.$$is_boolean||!0==f))(f=(c=l.__at_exit__.$reverse()).$each,f.$$p="call".$to_proc(),f).call(c);if((f=!0===b)!==r&&(!f.$$is_boolean||!0==f))b=0;a.exit(b);return r});a.defn(d,"$extend",function(){var a=arguments.length-0;0>a&&(a=0);for(var f=Array(a),c=0;c<a;c++)f[c]=arguments[c+0];a=this.$singleton_class();for(c=f.length-1;0<=c;c--){var b=f[c];b.$append_features(a);b.$extended(this)}return this});a.defn(d,"$format",function(a){function f(){F&ba&&J.$raise(b.get("ArgumentError"),"flag after width");
F&H&&J.$raise(b.get("ArgumentError"),"flag after precision")}function c(){F&ba&&J.$raise(b.get("ArgumentError"),"width given twice");F&H&&J.$raise(b.get("ArgumentError"),"width after precision")}function g(a){a>=D.length&&J.$raise(b.get("ArgumentError"),"too few arguments");return D[a]}function e(){switch(T){case -1:J.$raise(b.get("ArgumentError"),"unnumbered("+W+") mixed with numbered");case -2:J.$raise(b.get("ArgumentError"),"unnumbered("+W+") mixed with named")}T=W++;return g(T-1)}function k(a){0<
T&&J.$raise(b.get("ArgumentError"),"numbered("+a+") after unnumbered("+T+")");-2===T&&J.$raise(b.get("ArgumentError"),"numbered("+a+") after named");1>a&&J.$raise(b.get("ArgumentError"),"invalid index - "+a+"$");T=-1;return g(a-1)}function d(){return void 0===Q?e():Q}function E(c){var f;for(f="";;y++){y===h&&J.$raise(b.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(y)||57<a.charCodeAt(y))return y--,f=parseInt(f,10)||0,2147483647<f&&J.$raise(b.get("ArgumentError"),""+
c+" too big"),f;f+=a.charAt(y)}}function x(c){c=E(c);"$"===a.charAt(y+1)?(y++,c=k(c)):c=e();return c.$to_int()}var B,J=this,s=r;null==l.DEBUG&&(l.DEBUG=r);s=arguments.length-1;0>s&&(s=0);for(var D=Array(s),p=0;p<s;p++)D[p]=arguments[p+1];if((B=D.$length()["$=="](1)?D["$[]"](0)["$respond_to?"]("to_ary"):D.$length()["$=="](1))!==r&&(!B.$$is_boolean||!0==B))if(s=b.get("Opal")["$coerce_to?"](D["$[]"](0),b.get("Array"),"to_ary"),!((B=s["$nil?"]())!==r&&(!B.$$is_boolean||!0==B)))D=s.$to_a();B="";var s=
0,y,h=a.length,q,m,n,t,w,u,z,Y,V,Q,W=1,T=0,F,ba=32,H=128;for(y=a.indexOf("%");-1!==y;y=a.indexOf("%",y)){m=void 0;F=0;w=t=-1;Q=void 0;p=y;y++;switch(a.charAt(y)){case "%":s=y;case "":case "\n":case "\x00":y++;continue}a:for(;y<h;y++)switch(a.charAt(y)){case " ":f();F|=16;continue a;case "#":f();F|=1;continue a;case "+":f();F|=4;continue a;case "-":f();F|=2;continue a;case "0":f();F|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":q=E("width");if("$"===
a.charAt(y+1)){if(y+2===h){m="%";y++;break a}void 0!==Q&&J.$raise(b.get("ArgumentError"),"value given twice - %"+q+"$");Q=k(q);y++}else c(),F|=ba,t=q;continue a;case "<":case "{":n="<"===a.charAt(y)?">":"}";q="";for(y++;;y++){y===h&&J.$raise(b.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(y)===n)if(0<T&&J.$raise(b.get("ArgumentError"),"named "+q+" after unnumbered("+T+")"),-1===T&&J.$raise(b.get("ArgumentError"),"named "+q+" after numbered"),T=-2,(void 0===D[0]||!D[0].$$is_hash)&&
J.$raise(b.get("ArgumentError"),"one hash required"),Q=D[0].$fetch(q),">"===n)continue a;else{m=Q.toString();-1!==w&&(m=m.slice(0,w));if(F&2)for(;m.length<t;)m+=" ";else for(;m.length<t;)m=" "+m;break a}q+=a.charAt(y)}case "*":y++;c();F|=ba;t=x("width");0>t&&(F|=2,t=-t);continue a;case ".":F&H&&J.$raise(b.get("ArgumentError"),"precision given twice");F|=64|H;w=0;y++;if("*"===a.charAt(y)){y++;w=x("precision");0>w&&(F&=-65);continue a}w=E("precision");continue a;case "d":case "i":case "u":q=J.$Integer(d());
if(0<=q){for(m=q.toString();m.length<w;)m="0"+m;if(F&2){if(F&4||F&16)m=(F&4?"+":" ")+m;for(;m.length<t;)m+=" "}else if(F&8&&-1===w){for(;m.length<t-(F&4||F&16?1:0);)m="0"+m;if(F&4||F&16)m=(F&4?"+":" ")+m}else{if(F&4||F&16)m=(F&4?"+":" ")+m;for(;m.length<t;)m=" "+m}}else{for(m=(-q).toString();m.length<w;)m="0"+m;if(F&2)for(m="-"+m;m.length<t;)m+=" ";else if(F&8&&-1===w){for(;m.length<t-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<t;)m=" "+m}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(y)){case "b":case "B":u=
2;z="0b";Y=/^1+/;V="1";break;case "o":u=8;z="0";Y=/^3?7+/;V="7";break;case "x":case "X":u=16,z="0x",Y=/^f+/,V="f"}q=J.$Integer(d());if(0<=q){for(m=q.toString(u);m.length<w;)m="0"+m;if(F&2){if(F&4||F&16)m=(F&4?"+":" ")+m;for(F&1&&0!==q&&(m=z+m);m.length<t;)m+=" "}else if(F&8&&-1===w){for(;m.length<t-(F&4||F&16?1:0)-(F&1&&0!==q?z.length:0);)m="0"+m;F&1&&0!==q&&(m=z+m);if(F&4||F&16)m=(F&4?"+":" ")+m}else{F&1&&0!==q&&(m=z+m);if(F&4||F&16)m=(F&4?"+":" ")+m;for(;m.length<t;)m=" "+m}}else if(F&4||F&16){for(m=
(-q).toString(u);m.length<w;)m="0"+m;if(F&2){F&1&&(m=z+m);for(m="-"+m;m.length<t;)m+=" "}else if(F&8&&-1===w){for(;m.length<t-1-(F&1?2:0);)m="0"+m;F&1&&(m=z+m);m="-"+m}else{F&1&&(m=z+m);for(m="-"+m;m.length<t;)m=" "+m}}else{for(m=(q>>>0).toString(u).replace(Y,V);m.length<w-2;)m=V+m;if(F&2){m=".."+m;for(F&1&&(m=z+m);m.length<t;)m+=" "}else if(F&8&&-1===w){for(;m.length<t-2-(F&1?z.length:0);)m=V+m;m=".."+m;F&1&&(m=z+m)}else{m=".."+m;for(F&1&&(m=z+m);m.length<t;)m=" "+m}}a.charAt(y)===a.charAt(y).toUpperCase()&&
(m=m.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":q=J.$Float(d());if(0<=q||isNaN(q)){if(Infinity===q)m="Inf";else switch(a.charAt(y)){case "f":m=q.toFixed(-1===w?6:w);break;case "e":case "E":m=q.toExponential(-1===w?6:w);break;case "g":case "G":if(m=q.toExponential(),n=parseInt(m.split("e")[1],10),!(-4>n||n>=(-1===w?6:w)))m=q.toPrecision(-1===w?F&1?6:void 0:w)}if(F&2){if(F&4||F&16)m=(F&4?"+":" ")+m;for(;m.length<t;)m+=" "}else if(F&8&&Infinity!==q&&!isNaN(q)){for(;m.length<
t-(F&4||F&16?1:0);)m="0"+m;if(F&4||F&16)m=(F&4?"+":" ")+m}else{if(F&4||F&16)m=(F&4?"+":" ")+m;for(;m.length<t;)m=" "+m}}else{if(-Infinity===q)m="Inf";else switch(a.charAt(y)){case "f":m=(-q).toFixed(-1===w?6:w);break;case "e":case "E":m=(-q).toExponential(-1===w?6:w);break;case "g":case "G":if(m=(-q).toExponential(),n=parseInt(m.split("e")[1],10),!(-4>n||n>=(-1===w?6:w)))m=(-q).toPrecision(-1===w?F&1?6:void 0:w)}if(F&2)for(m="-"+m;m.length<t;)m+=" ";else if(F&8&&-Infinity!==q){for(;m.length<t-1;)m=
"0"+m;m="-"+m}else for(m="-"+m;m.length<t;)m=" "+m}a.charAt(y)===a.charAt(y).toUpperCase()&&(Infinity!==q&&-Infinity!==q&&!isNaN(q))&&(m=m.toUpperCase());m=m.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":J.$raise(b.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":q=d();q["$respond_to?"]("to_ary")&&(q=q.$to_ary()[0]);m=q["$respond_to?"]("to_str")?q.$to_str():String.fromCharCode(b.get("Opal").$coerce_to(q,b.get("Integer"),"to_int"));
1!==m.length&&J.$raise(b.get("ArgumentError"),"%c requires a character");if(F&2)for(;m.length<t;)m+=" ";else for(;m.length<t;)m=" "+m;break a;case "p":m=d().$inspect();-1!==w&&(m=m.slice(0,w));if(F&2)for(;m.length<t;)m+=" ";else for(;m.length<t;)m=" "+m;break a;case "s":m=d().$to_s();-1!==w&&(m=m.slice(0,w));if(F&2)for(;m.length<t;)m+=" ";else for(;m.length<t;)m=" "+m;break a;default:J.$raise(b.get("ArgumentError"),"malformed format string - %"+a.charAt(y))}void 0===m&&J.$raise(b.get("ArgumentError"),
"malformed format string - %");B+=a.slice(s,p)+m;s=y+1}l.DEBUG&&(0<=T&&W<D.length)&&J.$raise(b.get("ArgumentError"),"too many arguments for format string");return B+a.slice(s)});a.defn(d,"$hash",function(){return""+this.$class()+":"+this.$class().$__id__()+":"+this.$__id__()});a.defn(d,"$initialize_copy",function(a){return r});a.defn(d,"$inspect",function(){return this.$to_s()});a.defn(d,"$instance_of?",function(a){!a.$$is_class&&!a.$$is_module&&this.$raise(b.get("TypeError"),"class or module required");
return this.$$class===a});a.defn(d,"$instance_variable_defined?",function(g){g=b.get("Opal")["$instance_variable_name!"](g);return a.hasOwnProperty.call(this,g.substr(1))});a.defn(d,"$instance_variable_get",function(a){a=b.get("Opal")["$instance_variable_name!"](a);a=this[a.substr(1)];return null==a?r:a});a.defn(d,"$instance_variable_set",function(a,f){a=b.get("Opal")["$instance_variable_name!"](a);return this[a.substr(1)]=f});a.defn(d,"$instance_variables",function(){var a=[],f;for(f in this)"$"!==
f.charAt(0)&&"$$class"!==f&&"$$id"!==f&&a.push("@"+f);return a});a.defn(d,"$Integer",function(a,f){var c=this,g,e;if(!a.$$is_string)return void 0!==f&&c.$raise(b.get("ArgumentError"),"base specified for non string value"),a===r&&c.$raise(b.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(b.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(g=a.$to_int(),g!==r)?g:b.get("Opal")["$coerce_to!"](a,b.get("Integer"),
"to_i");void 0===f?f=0:(f=b.get("Opal").$coerce_to(f,b.get("Integer"),"to_int"),(1===f||0>f||36<f)&&c.$raise(b.get("ArgumentError"),"invalid radix "+f));g=a.toLowerCase();g=g.replace(/(\d)_(?=\d)/g,"$1");g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(g,e,E){switch(E){case "0b":if(0===f||2===f)return f=2,e;case "0":case "0o":if(0===f||8===f)return f=8,e;case "0d":if(0===f||10===f)return f=10,e;case "0x":if(0===f||16===f)return f=16,e}c.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+
'"')});f=0===f?10:f;e="0-"+(10>=f?f-1:"9a-"+String.fromCharCode(97+(f-11)));RegExp("^\\s*[+-]?["+e+"]+\\s*$").test(g)||c.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');g=parseInt(g,f);isNaN(g)&&c.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return g});a.defn(d,"$Float",function(a){var f;a===r&&this.$raise(b.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){f=a.toString();f=f.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(f))return this.$Integer(f);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(f)||this.$raise(b.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(f)}return b.get("Opal")["$coerce_to!"](a,b.get("Float"),"to_f")});a.defn(d,"$Hash",function(a){var f,c;return(f=!1!==(c=a["$nil?"]())&&c!==r?c:a["$=="]([]))!==r&&(!f.$$is_boolean||!0==f)?e([],{}):(f=b.get("Hash")["$==="](a))!==r&&(!f.$$is_boolean||!0==f)?a:b.get("Opal")["$coerce_to!"](a,b.get("Hash"),"to_hash")});a.defn(d,"$is_a?",function(g){!g.$$is_class&&
!g.$$is_module&&this.$raise(b.get("TypeError"),"class or module required");return a.is_a(this,g)});a.alias(d,"kind_of?","is_a?");a.defn(d,"$lambda",q=function(){var a=q.$$p||r;q.$$p=null;a.$$is_lambda=!0;return a});a.defn(d,"$load",function(g){g=b.get("Opal")["$coerce_to!"](g,b.get("String"),"to_str");return a.load(g)});a.defn(d,"$loop",g=function(){var a=g.$$p||r;for(g.$$p=null;;)if(a()===n)return n.$v;return this});a.defn(d,"$nil?",function(){return!1});a.alias(d,"object_id","__id__");a.defn(d,
"$printf",function(){var b=arguments.length-0;0>b&&(b=0);for(var f=Array(b),c=0;c<b;c++)f[c]=arguments[c+0];b=f.$length();("number"===typeof b?0<b:b["$>"](0))&&this.$print(this.$format.apply(this,a.to_a(f)));return r});a.defn(d,"$proc",k=function(){var a=k.$$p||r;k.$$p=null;!1!==a&&a!==r||this.$raise(b.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(d,"$puts",function(){var b;null==l.stdout&&(l.stdout=r);var f=arguments.length-0;0>f&&(f=0);for(var c=
Array(f),g=0;g<f;g++)c[g]=arguments[g+0];return(b=l.stdout).$puts.apply(b,a.to_a(c))});a.defn(d,"$p",function(){var a,f,c=arguments.length-0;0>c&&(c=0);for(var b=Array(c),g=0;g<c;g++)b[g]=arguments[g+0];(a=b.$each,a.$$p=(f=function(a){null==l.stdout&&(l.stdout=r);null==a&&(a=r);return l.stdout.$puts(a.$inspect())},f.$$s=this,f),a).call(b);return m(b.$length(),1)?b["$[]"](0):b});a.defn(d,"$print",function(){var b;null==l.stdout&&(l.stdout=r);var f=arguments.length-0;0>f&&(f=0);for(var c=Array(f),g=
0;g<f;g++)c[g]=arguments[g+0];return(b=l.stdout).$print.apply(b,a.to_a(c))});a.defn(d,"$warn",function(){var b,f;null==l.VERBOSE&&(l.VERBOSE=r);null==l.stderr&&(l.stderr=r);var c=arguments.length-0;0>c&&(c=0);for(var g=Array(c),e=0;e<c;e++)g[e]=arguments[e+0];return(b=!1!==(f=l.VERBOSE["$nil?"]())&&f!==r?f:g["$empty?"]())!==r&&(!b.$$is_boolean||!0==b)?r:(b=l.stderr).$puts.apply(b,a.to_a(g))});a.defn(d,"$raise",function(g,f,c){null==l["!"]&&(l["!"]=r);null==f&&(f=r);if(null==g&&l["!"]!==r)throw l["!"];
null==g?g=b.get("RuntimeError").$new():g.$$is_string?g=b.get("RuntimeError").$new(g):g.$$is_class&&g["$respond_to?"]("exception")?g=g.$exception(f):g["$kind_of?"](b.get("Exception"))||(g=b.get("TypeError").$new("exception class/object expected"));l["!"]!==r&&a.exceptions.push(l["!"]);l["!"]=g;throw g;});a.alias(d,"fail","raise");a.defn(d,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var f=a.begin,c=a.end-f;a.exclude||c++;return this.$rand(c)+f}return Math.floor(Math.random()*
Math.abs(b.get("Opal").$coerce_to(a,b.get("Integer"),"to_int")))});a.defn(d,"$respond_to?",function(a,f){var c;null==f&&(f=!1);if((c=this["$respond_to_missing?"](a,f))!==r&&(!c.$$is_boolean||!0==c))return!0;c=this["$"+a];return"function"===typeof c&&!c.$$stub?!0:!1});a.defn(d,"$respond_to_missing?",function(a,f){return!1});a.defn(d,"$require",function(g){g=b.get("Opal")["$coerce_to!"](g,b.get("String"),"to_str");return a.require(g)});a.defn(d,"$require_relative",function(g){b.get("Opal")["$try_convert!"](g,
b.get("String"),"to_str");g=b.get("File").$expand_path(b.get("File").$join(a.current_file,"..",g));return a.require(g)});a.defn(d,"$require_tree",function(g){g=b.get("File").$expand_path(g);g["$=="](".")&&(g="");for(var f in a.modules)f["$start_with?"](g)&&a.require(f);return r});a.alias(d,"send","__send__");a.alias(d,"public_send","__send__");a.defn(d,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(d,"$sleep",function(a){null==a&&(a=r);a===r&&this.$raise(b.get("TypeError"),
"can't convert NilClass into time interval");a.$$is_number||this.$raise(b.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(b.get("ArgumentError"),"time interval must be positive");for(var f=new Date;new Date-f<=1E3*a;);return a});a.alias(d,"sprintf","format");a.alias(d,"srand","rand");a.defn(d,"$String",function(a){var f;return!1!==(f=b.get("Opal")["$coerce_to?"](a,b.get("String"),"to_str"))&&f!==r?f:b.get("Opal")["$coerce_to!"](a,b.get("String"),"to_s")});a.defn(d,
"$tap",s=function(){var b=s.$$p||r;s.$$p=null;return a.yield1(b,this)===n?n.$v:this});a.defn(d,"$to_proc",function(){return this});a.defn(d,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(d,"$catch",y=function(g){var f,c=y.$$p||r,e=r;y.$$p=null;try{return f=a.yieldX(c,[]),f}catch(k){if(a.rescue(k,[b.get("UncaughtThrowError")])){e=k;try{return e.$sym()["$=="](g)?e.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw k;}});a.defn(d,
"$throw",function(){var a=arguments.length-0;0>a&&(a=0);for(var f=Array(a),c=0;c<a;c++)f[c]=arguments[c+0];return this.$raise(b.get("UncaughtThrowError").$new(f))})})(a.base);return function(a,$super){function e(){}var h=e=d(a,$super,"Object",e);return h.$include(h.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass,n=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(h,$super){function e(){}var d=e=r(h,$super,"Exception",e);d.$$proto.message=m;a.defs(d,"$new",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];a=new this.$$alloc(0<b.length?b[0]:m);Error.captureStackTrace&&Error.captureStackTrace(a);a.name=
this.$$name;a.$initialize.apply(a,b);return a});a.defs(d,"$exception",function(){var e=arguments.length-0;0>e&&(e=0);for(var b=Array(e),d=0;d<e;d++)b[d]=arguments[d+0];return this.$new.apply(this,a.to_a(b))});a.defn(d,"$initialize",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.message=0<b.length?b[0]:m});a.defn(d,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]});a.defn(d,
"$exception",function(a){null==a&&(a=m);if(a===m||this===a)return this;var b=this.$clone();b.message=a;return b});a.defn(d,"$message",function(){return this.$to_s()});a.defn(d,"$inspect",function(){var a,b=m,b=this.$to_s();return(a=b["$empty?"]())!==m&&(!a.$$is_boolean||!0==a)?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"});return(a.defn(d,"$to_s",function(){var a,b;return!1!==(a=(b=this.message,!1!==b&&b!==m?this.message.$to_s():b))&&a!==m?a:this.$class().$to_s()}),m)&&"to_s"})(a.base,
Error);(function(a,$super){function e(){}e=r(a,$super,"ScriptError",e);return m})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"SyntaxError",e);return m})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=r(a,$super,"LoadError",e);return m})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=r(a,$super,"NotImplementedError",e);return m})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=r(a,$super,"SystemExit",e);return m})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"NoMemoryError",e);return m})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"SignalException",e);return m})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"Interrupt",e);return m})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"SecurityError",e);return m})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"StandardError",e);return m})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=r(a,$super,"ZeroDivisionError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"NameError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"NoMethodError",e);return m})(a.base,a.get("NameError"));(function(a,$super){function e(){}e=r(a,$super,"RuntimeError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"LocalJumpError",
e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"TypeError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"ArgumentError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"IndexError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"StopIteration",e);return m})(a.base,a.get("IndexError"));(function(a,$super){function e(){}
e=r(a,$super,"KeyError",e);return m})(a.base,a.get("IndexError"));(function(a,$super){function e(){}e=r(a,$super,"RangeError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"FloatDomainError",e);return m})(a.base,a.get("RangeError"));(function(a,$super){function e(){}e=r(a,$super,"IOError",e);return m})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=r(a,$super,"SystemCallError",e);return m})(a.base,a.get("StandardError"));(function(h){h=
n(h,"Errno").$$scope;(function(h,$super){function d(){}var n=d=r(h,$super,"EINVAL",d),b;return(a.defs(n,"$new",b=function(){b.$$p=null;return a.find_super_dispatcher(this,"new",b,null,d).apply(this,["Invalid argument"])}),m)&&"new"})(h.base,h.get("SystemCallError"))})(a.base);(function(h,$super){function e(){}var d=e=r(h,$super,"UncaughtThrowError",e),n;d.$$proto.sym=m;d.$attr_reader("sym","arg");return(a.defn(d,"$initialize",n=function(b){n.$$p=null;this.sym=b["$[]"](0);var e=b.$length();if("number"===
typeof e?1<e:e["$>"](1))this.arg=b["$[]"](1);return a.find_super_dispatcher(this,"initialize",n,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),m)&&"initialize"})(a.base,a.get("ArgumentError"));(function(h,$super){function e(){}var d=e=r(h,$super,"NameError",e),n;d.$attr_reader("name");return(a.defn(d,"$initialize",n=function(b,e){null==e&&(e=m);n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,[b]);return this.name=e}),m)&&"initialize"})(a.base,null);return function(h,
$super){function e(){}var d=e=r(h,$super,"NoMethodError",e),n;d.$attr_reader("args");return(a.defn(d,"$initialize",n=function(b,e,d){null==d&&(d=[]);n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,[b,e]);return this.args=d}),m)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.1.5");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.0.beta2");a.cdecl(a,"RUBY_RELEASE_DATE","2015-11-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var m=a.top;a.add_stubs(["$require"]);m.$require("corelib/runtime");m.$require("corelib/helpers");m.$require("corelib/module");m.$require("corelib/class");m.$require("corelib/basic_object");m.$require("corelib/kernel");m.$require("corelib/error");return m.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(n,$super){function l(){}var e=l=r(n,$super,"NilClass",l),d=e.$$scope;e.$$proto.$$meta=e;a.defn(e,"$!",function(){return!0});a.defn(e,"$&",function(a){return!1});a.defn(e,"$|",function(a){return!1!==a&&a!==m});a.defn(e,"$^",function(a){return!1!==a&&a!==m});a.defn(e,"$==",function(a){return a===m});a.defn(e,"$dup",function(){return this.$raise(d.get("TypeError"),
"can't dup "+this.$class())});a.defn(e,"$clone",function(){return this.$raise(d.get("TypeError"),"can't clone "+this.$class())});a.defn(e,"$inspect",function(){return"nil"});a.defn(e,"$nil?",function(){return!0});a.defn(e,"$singleton_class",function(){return d.get("NilClass")});a.defn(e,"$to_a",function(){return[]});a.defn(e,"$to_h",function(){return a.hash()});a.defn(e,"$to_i",function(){return 0});a.alias(e,"to_f","to_i");a.defn(e,"$to_s",function(){return""});a.defn(e,"$to_c",function(){return d.get("Complex").$new(0,
0)});a.defn(e,"$rationalize",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];a=b.$length();("number"===typeof a?1<a:a["$>"](1))&&this.$raise(d.get("ArgumentError"));return this.$Rational(0,1)});return(a.defn(e,"$to_r",function(){return this.$Rational(0,1)}),m)&&"to_r"})(a.base,null);return a.cdecl(a,"NIL",m)};
Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass;a.add_stubs(["$raise","$class"]);(function(n,$super){function l(){}var e=l=r(n,$super,"Boolean",l),d=e.$$proto,t=e.$$scope;d.$$is_boolean=!0;d.$$meta=e;a.defn(e,"$__id__",function(){return this.valueOf()?2:0});a.alias(e,"object_id","__id__");a.defn(e,"$!",function(){return!0!=this});a.defn(e,"$&",function(a){return!0==this?!1!==a&&a!==m:!1});a.defn(e,"$|",function(a){return!0==this?!0:!1!==a&&a!==
m});a.defn(e,"$^",function(a){return!0==this?!1===a||a===m:!1!==a&&a!==m});a.defn(e,"$==",function(a){return!0==this===a.valueOf()});a.alias(e,"equal?","==");a.alias(e,"eql?","==");a.defn(e,"$singleton_class",function(){return t.get("Boolean")});a.defn(e,"$to_s",function(){return!0==this?"true":"false"});a.defn(e,"$dup",function(){return this.$raise(t.get("TypeError"),"can't dup "+this.$class())});return(a.defn(e,"$clone",function(){return this.$raise(t.get("TypeError"),"can't clone "+this.$class())}),
m)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}function r(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var n=a.nil,h=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(l){l=h(l,"Comparable");var e=l.$$scope;a.defs(l,"$normalize",function(a){var h;return(h=e.get("Integer")["$==="](a))!==n&&(!h.$$is_boolean||!0==h)?
a:m(a,0)?1:r(a,0)?-1:0});a.defn(l,"$==",function(d){var h,b=n;try{return(h=this["$equal?"](d))!==n&&(!h.$$is_boolean||!0==h)?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):!((h=b=this["$<=>"](d))!==n&&(!h.$$is_boolean||!0==h))?!1:0==e.get("Comparable").$normalize(b)}catch(l){if(a.rescue(l,[e.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw l;}});a.defn(l,"$>",function(a){var h,b=n;(h=b=this["$<=>"](a))!==n&&(!h.$$is_boolean||
!0==h)||this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<e.get("Comparable").$normalize(b)});a.defn(l,"$>=",function(a){var h,b=n;(h=b=this["$<=>"](a))!==n&&(!h.$$is_boolean||!0==h)||this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=e.get("Comparable").$normalize(b)});a.defn(l,"$<",function(a){var h,b=n;(h=b=this["$<=>"](a))!==n&&(!h.$$is_boolean||!0==h)||this.$raise(e.get("ArgumentError"),
"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>e.get("Comparable").$normalize(b)});a.defn(l,"$<=",function(a){var h,b=n;(h=b=this["$<=>"](a))!==n&&(!h.$$is_boolean||!0==h)||this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=e.get("Comparable").$normalize(b)});a.defn(l,"$between?",function(a,e){return r(this,a)||m(this,e)?!1:!0})}(a.base)};
Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.slice,n=a.klass,h=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function d(){}d=n(a,$super,"RegexpError",d);return m})(a.base,a.get("StandardError"));(function(l,$super){function d(){}var t=d=n(l,$super,"Regexp",d),b=t.$$proto,w=t.$$scope,z;a.cdecl(w,
"IGNORECASE",1);a.cdecl(w,"MULTILINE",4);b.$$is_regexp=!0;(function(b){var d=b.$$scope,l;a.defn(b,"$allocate",l=function(){var b=r.call(arguments,0),k=l.$$p,d=m;l.$$p=null;d=a.find_super_dispatcher(this,"allocate",l,k).apply(this,b);d.uninitialized=!0;return d});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;null==h["~"]&&(h["~"]=
m);null==a&&(a=m);return(b=a["$nil?"]())!==m&&(!b.$$is_boolean||!0==b)?h["~"]:h["~"]["$[]"](a)});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),s=0;s<a;s++)b[s]=arguments[s+0];var y,h;if(0==b.length)return/(?!)/;a=b[0].$$is_array;1<b.length&&a&&this.$raise(d.get("TypeError"),"no implicit conversion of Array into String");a&&(b=b[0]);y=void 0;for(var a=[],f=0;f<b.length;f++)s=b[f],s.$$is_string?a.push(this.$escape(s)):s.$$is_regexp?(h=
s.$options(),void 0!=y&&y!=h&&this.$raise(d.get("TypeError"),"All expressions must use the same options"),y=h,a.push("("+s.source+")")):a.push(this.$escape(s.$to_str()));return this.$new(a.$join("|"),y)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return RegExp(a);a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(d.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return RegExp(a);if(b.$$is_number){var s=
"";d.get("IGNORECASE")&b&&(s+="i");d.get("MULTILINE")&b&&(s+="m");b=s}else b="i";return RegExp(a,b)}),m)&&"new"})(a.get_singleton_class(t));a.defn(t,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(t,"$===",function(a){return this.$match(w.get("Opal")["$coerce_to?"](a,w.get("String"),"to_str"))!==m});a.defn(t,"$=~",function(a){var b;null==h["~"]&&(h["~"]=m);return b=this.$match(a),!1!==b&&b!==m?h["~"].$begin(0):b});a.alias(t,"eql?","==");a.defn(t,"$inspect",
function(){return this.toString()});a.defn(t,"$match",z=function(a,b){var d=z.$$p||m;null==h["~"]&&(h["~"]=m);z.$$p=null;this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:w.get("Opal").$coerce_to(b,w.get("Integer"),"to_int");if(a===m)return h["~"]=m;a=w.get("Opal").$coerce_to(a,w.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return h["~"]=m;var g=this.source,k="g";this.multiline&&(g=g.replace(".","[\\s\\S]"),k+="m");for(k=RegExp(g,k+(this.ignoreCase?"i":
""));;){g=k.exec(a);if(null===g)return h["~"]=m;if(g.index>=b)return h["~"]=w.get("MatchData").$new(k,g),d===m?h["~"]:d.$call(h["~"]);k.lastIndex=g.index+1}});a.defn(t,"$~",function(){null==h._&&(h._=m);return this["$=~"](h._)});a.defn(t,"$source",function(){return this.source});a.defn(t,"$options",function(){this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=w.get("MULTILINE"));this.ignoreCase&&(a|=w.get("IGNORECASE"));return a});a.defn(t,"$casefold?",
function(){return this.ignoreCase});return a.alias(t,"to_s","source")})(a.base,RegExp);return function(l,$super){function d(){}var r=d=n(l,$super,"MatchData",d),b=r.$$scope;r.$$proto.matches=m;r.$attr_reader("post_match","pre_match","regexp","string");a.defn(r,"$initialize",function(a,b){h["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var d=0,p=b.length;d<p;d++){var l=b[d];
null==l?this.matches.push(m):this.matches.push(l)}});a.defn(r,"$[]",function(){var b,d=arguments.length-0;0>d&&(d=0);for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+0];return(b=this.matches)["$[]"].apply(b,a.to_a(h))});a.defn(r,"$offset",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(r,"$==",function(a){var d,h,p,l;return!((d=b.get("MatchData")["$==="](a))!==m&&(!d.$$is_boolean||!0==
d))?!1:(d=(h=(p=(l=this.string==a.string,!1!==l&&l!==m?this.regexp.toString()==a.regexp.toString():l),!1!==p&&p!==m?this.pre_match==a.pre_match:p),!1!==h&&h!==m?this.post_match==a.post_match:h),!1!==d&&d!==m?this.begin==a.begin:d)});a.alias(r,"eql?","==");a.defn(r,"$begin",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(r,"$end",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#end only supports 0th element");
return this.begin+this.matches[a].length});a.defn(r,"$captures",function(){return this.matches.slice(1)});a.defn(r,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(r,"$length",function(){return this.matches.length});a.alias(r,"size","length");a.defn(r,"$to_a",function(){return this.matches});a.defn(r,"$to_s",function(){return this.matches[0]});return(a.defn(r,"$values_at",function(){var a=
arguments.length-0;0>a&&(a=0);for(var d=Array(a),h=0;h<a;h++)d[h]=arguments[h+0];for(var p,h=[],a=0;a<d.length;a++){d[a].$$is_range&&(p=d[a].$to_a(),p.unshift(a,1),Array.prototype.splice.apply(d,p));p=b.get("Opal")["$coerce_to!"](d[a],b.get("Integer"),"to_int");if(0>p&&(p+=this.matches.length,0>p)){h.push(m);continue}h.push(this.matches[p])}return h}),m)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a/e:a["$/"](e)}function r(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}a.dynamic_require_severity="warning";var n=a.top,h=a.nil,l=a.breaker,e=a.slice,d=a.klass,t=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
n.$require("corelib/comparable");n.$require("corelib/regexp");(function(b,$super){function n(){}function u(a){function c(a){var f="",b,x=a.length,e,B;for(b=0;b<x;b++)if(e=a.charAt(b),"-"===e&&0<b&&b<x-1&&!B){B=a.charCodeAt(b-1);e=a.charCodeAt(b+1);B>e&&p.$raise(g.get("ArgumentError"),'invalid range "'+B+"-"+e+'" in string transliteration');for(B+=1;B<e+1;B++)f+=String.fromCharCode(B);B=!0;b++}else B="\\"===e,f+=e;return f}function f(a,c){if(0===a.length)return c;var b="",x,g=a.length,e;for(x=0;x<
g;x++)e=a.charAt(x),-1!==c.indexOf(e)&&(b+=e);return b}var b,e,k,d,v="",s="";b=0;for(e=a.length;b<e;b++)k=g.get("Opal").$coerce_to(a[b],g.get("String"),"to_str"),d="^"===k.charAt(0)&&1<k.length,k=c(d?k.slice(1):k),d?s=f(s,k):v=f(v,k);if(0<v.length&&0<s.length){k="";b=0;for(e=v.length;b<e;b++)a=v.charAt(b),-1===s.indexOf(a)&&(k+=a);v=k;s=""}return 0<v.length?"["+g.get("Regexp").$escape(v)+"]":0<s.length?"[^"+g.get("Regexp").$escape(s)+"]":null}var p=n=d(b,$super,"String",n),q=p.$$proto,g=p.$$scope,
k,s,y,A,f,c,v,G,C;q.length=h;p.$include(g.get("Comparable"));q.$$is_string=!0;a.defn(p,"$__id__",function(){return this.toString()});a.alias(p,"object_id","__id__");a.defs(p,"$try_convert",function(a){return g.get("Opal")["$coerce_to?"](a,g.get("String"),"to_str")});a.defs(p,"$new",function(a){null==a&&(a="");a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return new String(a)});a.defn(p,"$initialize",function(a){return void 0===a?this:this.$raise(g.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
a.defn(p,"$%",function(c){var f;return(f=g.get("Array")["$==="](c))!==h&&(!f.$$is_boolean||!0==f)?(f=this).$format.apply(f,[this].concat(a.to_a(c))):this.$format(this,c)});a.defn(p,"$*",function(a){a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&this.$raise(g.get("ArgumentError"),"negative argument");if(0===a)return"";var c="",f=this.toString();for(268435456<=f.length*a&&this.$raise(g.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=f);a>>>=
1;if(0===a)break;f+=f}return c});a.defn(p,"$+",function(a){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return this+a.$to_s()});a.defn(p,"$<=>",function(a){var c;if((c=a["$respond_to?"]("to_str"))!==h&&(!c.$$is_boolean||!0==c))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===h?h:0<a?-1:0>a?1:0});a.defn(p,"$==",function(a){return a.$$is_string?this.toString()===a.toString():g.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(p,"eql?","==");
a.alias(p,"===","==");a.defn(p,"$=~",function(a){a.$$is_string&&this.$raise(g.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(p,"$[]",function(a,c){var f=this.length,b;if(a.$$is_range){b=a.exclude;c=g.get("Opal").$coerce_to(a.end,g.get("Integer"),"to_int");a=g.get("Opal").$coerce_to(a.begin,g.get("Integer"),"to_int");if(Math.abs(a)>f)return h;0>a&&(a+=f);0>c&&(c+=f);b||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(g.get("TypeError")),
-1!==this.indexOf(a)?a:h;if(a.$$is_regexp){f=this.match(a);if(null===f)return t["~"]=h;t["~"]=g.get("MatchData").$new(a,f);if(null==c)return f[0];c=g.get("Opal").$coerce_to(c,g.get("Integer"),"to_int");return 0>c&&-c<f.length?f[c+f.length]:0<=c&&c<f.length?f[c]:h}a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&(a+=f);if(null==c)return a>=f||0>a?h:this.substr(a,1);c=g.get("Opal").$coerce_to(c,g.get("Integer"),"to_int");return 0>c||a>f||0>a?h:this.substr(a,c)});a.alias(p,"byteslice","[]");
a.defn(p,"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(p,"$casecmp",function(a){var c=this;a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();var f=/^[\x00-\x7F]*$/;f.test(c)&&f.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)});a.defn(p,"$center",function(a,c){var f;null==c&&(c=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str").$to_s();(f=c["$empty?"]())!==
h&&(!f.$$is_boolean||!0==f)&&this.$raise(g.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==h&&(!f.$$is_boolean||!0==f))return this;f=this.$ljust(m(r(a,this.length),2).$ceil(),c);return this.$rjust(m(r(a,this.length),2).$floor(),c)+f.slice(this.length)});a.defn(p,"$chars",k=function(){var a,c=k.$$p||h;k.$$p=null;return!(!1!==c&&c!==h)?this.$each_char().$to_a():(a=this.$each_char,a.$$p=c.$to_proc(),a).call(this)});a.defn(p,"$chomp",function(a){var c;null==t["/"]&&(t["/"]=h);null==
a&&(a=t["/"]);if((c=a===h||0===this.length)!==h&&(!c.$$is_boolean||!0==c))return this;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(p,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(p,
"$chr",function(){return this.charAt(0)});a.defn(p,"$clone",function(){var a=h,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(p,"$dup",function(){var a=h,a=this.slice();a.$initialize_dup(this);return a});a.defn(p,"$count",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];0===c.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(c);return null===a?0:this.length-
this.replace(RegExp(a,"g"),"").length});a.defn(p,"$delete",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];0===c.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(c);return null===a?this:this.replace(RegExp(a,"g"),"")});a.defn(p,"$downcase",function(){return this.toLowerCase()});a.defn(p,"$each_char",s=function(){var c,f,b=s.$$p||h;s.$$p=null;if(b===h)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||
this).$size()},f.$$s=this,f),c).call(this,"each_char");c=0;for(var g=this.length;c<g;c++)if(a.yield1(b,this.charAt(c))===l)return l.$v;return this});a.defn(p,"$each_line",y=function(c){var f=y.$$p||h;null==t["/"]&&(t["/"]=h);null==c&&(c=t["/"]);y.$$p=null;if(f===h)return this.$enum_for("each_line",c);var b;if(c===h)return b=a.yield1(f,this),b===l?b.$v:this;c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str");var e,k,d,v;if(0===c.length){c=this.split(/(\n{2,})/);e=0;for(k=c.length;e<k;e+=2)if(c[e]||
c[e+1])if(b=a.yield1(f,(c[e]||"")+(c[e+1]||"")),b===l)return b.$v;return this}b=this.$chomp(c);k=this.length!=b.length;v=b.split(c);e=0;for(d=v.length;e<d;e++)if(b=e<d-1||k?a.yield1(f,v[e]+c):a.yield1(f,v[e]),b===l)return b.$v;return this});a.defn(p,"$empty?",function(){return 0===this.length});a.defn(p,"$end_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];a=0;for(f=c.length;a<f;a++){var b=g.get("Opal").$coerce_to(c[a],g.get("String"),"to_str").$to_s();
if(this.length>=b.length&&this.substr(this.length-b.length,b.length)==b)return!0}return!1});a.alias(p,"eql?","==");a.alias(p,"equal?","===");a.defn(p,"$gsub",A=function(a,c){var f=this,b=A.$$p||h;A.$$p=null;if(void 0===c&&b===h)return f.$enum_for("gsub",a);var e="",k=h,d=0,v,s;a.$$is_regexp?a=RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){v=a.exec(f);if(null===v){t["~"]=h;e+=f.slice(d);
break}k=g.get("MatchData").$new(a,v);void 0===c?s=b(v[0]):c.$$is_hash?s=c["$[]"](v[0]).$to_s():(c.$$is_string||(c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str")),s=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=v.length-1;0<a;a--)if(void 0!==v[a])return c.slice(1)+v[a];return"";case "&":return c.slice(1)+v[0];case "`":return c.slice(1)+f.slice(0,v.index);case "'":return c.slice(1)+f.slice(v.index+v[0].length);default:return c.slice(1)+(v[b]||
"")}}).replace(/\\\\/g,"\\"));a.lastIndex===v.index?(e+=s+f.slice(d,v.index+1),a.lastIndex+=1):e+=f.slice(d,v.index)+s;d=a.lastIndex}t["~"]=k;return e});a.defn(p,"$hash",function(){return this.toString()});a.defn(p,"$hex",function(){return this.$to_i(16)});a.defn(p,"$include?",function(a){var c;if(a.$$is_string)return-1!==this.indexOf(a);(c=a["$respond_to?"]("to_str"))!==h&&(!c.$$is_boolean||!0==c)||this.$raise(g.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==
this.indexOf(a.$to_str())});a.defn(p,"$index",function(a,c){var f,b,e;if(void 0===c)c=0;else if(c=g.get("Opal").$coerce_to(c,g.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return h;if(a.$$is_regexp)for(e=RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){b=e.exec(this);if(null===b){t["~"]=h;f=-1;break}if(b.index>=c){t["~"]=g.get("MatchData").$new(e,b);f=b.index;break}e.lastIndex=b.index+1}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),f=0===a.length&&c>this.length?-1:this.indexOf(a,
c);return-1===f?h:f});a.defn(p,"$inspect",function(){var a={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(p,"$intern",function(){return this});a.defn(p,"$lines",
f=function(a){var c,b=f.$$p||h,g=h;null==t["/"]&&(t["/"]=h);null==a&&(a=t["/"]);f.$$p=null;g=(c=this.$each_line,c.$$p=b.$to_proc(),c).call(this,a);return!1!==b&&b!==h?this:g.$to_a()});a.defn(p,"$length",function(){return this.length});a.defn(p,"$ljust",function(a,c){var f;null==c&&(c=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str").$to_s();(f=c["$empty?"]())!==h&&(!f.$$is_boolean||!0==f)&&this.$raise(g.get("ArgumentError"),"zero width padding");
if((f=a<=this.length)!==h&&(!f.$$is_boolean||!0==f))return this;f=-1;var b="";for(a-=this.length;++f<a;)b+=c;return this+b.slice(0,a)});a.defn(p,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(p,"$match",c=function(a,f){var b,e,k=c.$$p||h;c.$$p=null;if((b=!1!==(e=g.get("String")["$==="](a))&&e!==h?e:a["$respond_to?"]("to_str"))!==h&&(!b.$$is_boolean||!0==b))a=g.get("Regexp").$new(a.$to_str());(b=g.get("Regexp")["$==="](a))!==h&&(!b.$$is_boolean||!0==b)||this.$raise(g.get("TypeError"),
"wrong argument type "+a.$class()+" (expected Regexp)");return(b=(e=a).$match,b.$$p=k.$to_proc(),b).call(e,this,f)});a.defn(p,"$next",function(){var a=this.length;if(0===a)return"";for(var c=this,f=this.search(/[a-zA-Z0-9]/),b=!1,g;a--;){g=this.charCodeAt(a);if(48<=g&&57>=g||65<=g&&90>=g||97<=g&&122>=g)switch(g){case 57:b=!0;g=48;break;case 90:b=!0;g=65;break;case 122:b=!0;g=97;break;default:b=!1,g+=1}else-1===f?255===g?(b=!0,g=0):(b=!1,g+=1):b=!0;c=c.slice(0,a)+String.fromCharCode(g)+c.slice(a+1);
if(b&&(0===a||a===f)){switch(g){case 65:break;case 97:break;default:g+=1}c=0===a?String.fromCharCode(g)+c:c.slice(0,a)+String.fromCharCode(g)+c.slice(a);b=!1}if(!b)break}return c});a.defn(p,"$oct",function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,f,b,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===b)return a}switch(b){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=
16}return f+g});a=parseInt(a.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a});a.defn(p,"$ord",function(){return this.charCodeAt(0)});a.defn(p,"$partition",function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(g.get("MatchData").$new(a,c),a=c[0],c=c.index)):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]});a.defn(p,"$reverse",function(){return this.split("").reverse().join("")});
a.defn(p,"$rindex",function(a,c){var f,b,e;if(void 0===c)c=this.length;else if(c=g.get("Opal").$coerce_to(c,g.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return h;if(a.$$is_regexp){f=null;for(b=RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=b.exec(this);if(null===e||e.index>c)break;f=e;b.lastIndex=f.index+1}null===f?(t["~"]=h,f=-1):(g.get("MatchData").$new(b,f),f=f.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),f=this.lastIndexOf(a,c);return-1===f?h:f});a.defn(p,"$rjust",
function(a,c){var f;null==c&&(c=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str").$to_s();(f=c["$empty?"]())!==h&&(!f.$$is_boolean||!0==f)&&this.$raise(g.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==h&&(!f.$$is_boolean||!0==f))return this;f=Math.floor(a-this.length);var b=Array(Math.floor(f/c.length)+1).join(c);return b+c.slice(0,f-b.length)+this});a.defn(p,"$rpartition",function(a){var c,f,b;if(a.$$is_regexp){c=
null;for(f=RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){b=f.exec(this);if(null===b)break;c=b;f.lastIndex=c.index+1}null===c?c=-1:(g.get("MatchData").$new(f,c),a=c[0],c=c.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]});a.defn(p,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(p,"$scan",v=function(a){var c=v.$$p||h;v.$$p=null;var f=[],b=h,e;a.$$is_regexp?
a=RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(e=a.exec(this));)b=g.get("MatchData").$new(a,e),c===h?1==e.length?f.push(e[0]):f.push(b.$captures()):1==e.length?c(e[0]):c.call(this,b.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);t["~"]=b;return c!==h?this:f});a.alias(p,"size","length");a.alias(p,"slice","[]");a.defn(p,"$split",function(a,c){var f;null==t[";"]&&(t[";"]=h);
if(0===this.length)return[];if(void 0===c)c=0;else if(c=g.get("Opal")["$coerce_to!"](c,g.get("Integer"),"to_int"),1===c)return[this];if(void 0===a||a===h)a=!1!==(f=t[";"])&&f!==h?f:" ";f=[];var b=this.toString(),e=0,k,d;a.$$is_regexp?a=RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,b=b.replace(/^\s+/,"")):a=RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));f=b.split(a);if(1===f.length&&f[0]===b)return f;for(;-1!==
(d=f.indexOf(void 0));)f.splice(d,1);if(0===c){for(;""===f[f.length-1];)f.length-=1;return f}k=a.exec(b);if(0>c){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(d=0;d<k.length;d++)f.push("");return f}if(null!==k&&""===k[0])return f.splice(c-1,f.length-1,f.slice(c-1).join("")),f;for(d=0;null!==k;){d++;e=a.lastIndex;if(d+1===c)break;k=a.exec(b)}f.splice(c-1,f.length-1,b.slice(e));return f});a.defn(p,"$squeeze",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=
arguments[f+0];if(0===c.length)return this.replace(/(.)\1+/g,"$1");a=u(c);return null===a?this:this.replace(RegExp("("+a+")\\1+","g"),"$1")});a.defn(p,"$start_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];a=0;for(f=c.length;a<f;a++){var b=g.get("Opal").$coerce_to(c[a],g.get("String"),"to_str").$to_s();if(0===this.indexOf(b))return!0}return!1});a.defn(p,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(p,
"$sub",G=function(a,c){var f=this,b=G.$$p||h;G.$$p=null;a.$$is_regexp||(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var e=a.exec(f);if(null===e)return t["~"]=h,f.toString();g.get("MatchData").$new(a,e);if(void 0===c)return b===h&&f.$raise(g.get("ArgumentError"),"wrong number of arguments (1 for 2)"),f.slice(0,e.index)+b(e[0])+f.slice(e.index+e[0].length);if(c.$$is_hash)return f.slice(0,e.index)+c["$[]"](e[0]).$to_s()+f.slice(e.index+e[0].length);
c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=e.length-1;0<a;a--)if(void 0!==e[a])return c.slice(1)+e[a];return"";case "&":return c.slice(1)+e[0];case "`":return c.slice(1)+f.slice(0,e.index);case "'":return c.slice(1)+f.slice(e.index+e[0].length);default:return c.slice(1)+(e[b]||"")}}).replace(/\\\\/g,"\\");return f.slice(0,e.index)+c+f.slice(e.index+e[0].length)});a.alias(p,"succ","next");
a.defn(p,"$sum",function(a){null==a&&(a=16);a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");for(var c=0,f=this.length,b=0;b<f;b++)c+=this.charCodeAt(b);return 0>=a?c:c&Math.pow(2,a)-1});a.defn(p,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,f){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(p,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||
Infinity==a||-Infinity==a?0:a});a.defn(p,"$to_i",function(a){null==a&&(a=10);var c=this.toLowerCase(),f=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");(1===f||0>f||36<f)&&this.$raise(g.get("ArgumentError"),"invalid radix "+f);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,b,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===b&&(0===f||16===f))return a}switch(b){case "0b":if(0===f||2===f)return f=2,c+g;break;case "0":case "0o":if(0===
f||8===f)return f=8,c+g;break;case "0d":if(0===f||10===f)return f=10,c+g;break;case "0x":if(0===f||16===f)return f=16,c+g}return a});a=parseInt(c.replace(/_(?!_)/g,""),f);return isNaN(a)?0:a});a.defn(p,"$to_proc",function(){var c,f,b=h,b=this;return(c=this.$proc,c.$$p=(f=function(c){var k=f.$$s||this,d,v,s,y=h;c=e.call(arguments,0);d=f.$$p||h;f.$$p=null;(v=c["$empty?"]())!==h&&(!v.$$is_boolean||!0==v)&&k.$raise(g.get("ArgumentError"),"no receiver given");y=c.$shift();return(v=(s=y).$__send__,v.$$p=
d.$to_proc(),v).apply(s,[b].concat(a.to_a(c)))},f.$$s=this,f),c).call(this)});a.defn(p,"$to_s",function(){return this.toString()});a.alias(p,"to_str","to_s");a.alias(p,"to_sym","intern");a.defn(p,"$tr",function(a,c){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str").$to_s();if(0==a.length||a===c)return this;var f,b,e,k,d,v={};d=a.split("");var s=d.length,y=c.split(""),p=y.length,h=!1,l=null;"^"===d[0]&&1<d.length&&(h=!0,d.shift(),
l=y[p-1],s-=1);var m=[];e=null;b=!1;for(f=0;f<s;f++)if(k=d[f],null==e)e=k,m.push(k);else if("-"===k)"-"===e?(m.push("-"),m.push("-")):f==s-1?m.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)m.push(String.fromCharCode(e));m.push(k);e=b=null}else m.push(k);d=m;s=d.length;if(h)for(f=0;f<s;f++)v[d[f]]=!0;else{if(0<p){m=[];b=!1;for(f=
0;f<p;f++)if(k=y[f],null==e)e=k,m.push(k);else if("-"===k)f==p-1?m.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)m.push(String.fromCharCode(e));m.push(k);e=b=null}else m.push(k);y=m;p=y.length}k=s-p;if(0<k){p=0<p?y[p-1]:"";for(f=0;f<k;f++)y.push(p)}for(f=0;f<s;f++)v[d[f]]=y[f]}s="";f=0;for(d=this.length;f<d;f++)k=this.charAt(f),
y=v[k],s=h?s+(null==y?l:k):s+(null!=y?y:k);return s});a.defn(p,"$tr_s",function(a,c){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();c=g.get("Opal").$coerce_to(c,g.get("String"),"to_str").$to_s();if(0==a.length)return this;var f,b,e,k,d,v={};d=a.split("");var s=d.length,y=c.split(""),p=y.length,h=!1,l=null;"^"===d[0]&&1<d.length&&(h=!0,d.shift(),l=y[p-1],s-=1);var m=[];e=null;b=!1;for(f=0;f<s;f++)if(k=d[f],null==e)e=k,m.push(k);else if("-"===k)"-"===e?(m.push("-"),m.push("-")):f==s-
1?m.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)m.push(String.fromCharCode(e));m.push(k);e=b=null}else m.push(k);d=m;s=d.length;if(h)for(f=0;f<s;f++)v[d[f]]=!0;else{if(0<p){m=[];b=!1;for(f=0;f<p;f++)if(k=y[f],null==e)e=k,m.push(k);else if("-"===k)f==p-1?m.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),
'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)m.push(String.fromCharCode(e));m.push(k);e=b=null}else m.push(k);y=m;p=y.length}k=s-p;if(0<k){p=0<p?y[p-1]:"";for(f=0;f<k;f++)y.push(p)}for(f=0;f<s;f++)v[d[f]]=y[f]}s="";y=null;f=0;for(d=this.length;f<d;f++)if(k=this.charAt(f),p=v[k],h)null==p?null==y&&(s+=l,y=!0):(s+=k,y=null);else if(null!=p){if(null==y||y!==p)s+=p,y=p}else s+=k,y=null;return s});a.defn(p,"$upcase",function(){return this.toUpperCase()});
a.defn(p,"$upto",C=function(a,c){var f=C.$$p||h;null==c&&(c=!1);C.$$p=null;if(f===h)return this.$enum_for("upto",a,c);a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");var b,e;b=this.toString();if(1===b.length&&1===a.length){b=b.charCodeAt(0);for(e=a.charCodeAt(0);b<=e&&!(c&&b===e);)f(String.fromCharCode(b)),b+=1}else if(parseInt(b,10).toString()===b&&parseInt(a,10).toString()===a){b=parseInt(b,10);for(e=parseInt(a,10);b<=e&&!(c&&b===e);)f(b.toString()),b+=1}else for(;b.length<=a.length&&b<=
a&&!(c&&b===a);)f(b),b=b.$succ();return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.breaker,n=a.slice,h=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(l){l=h(l,"Enumerable");var e=l.$$scope,d,t,b,w,z,u,p,q,g,k,s,
y,A,f,c,v,G,C,I,E,x,B,J,M,D,L,R,ga,X,$,aa,S,Z,K,N;a.defn(l,"$all?",d=function(){var c,f=d.$$p||m;d.$$p=null;var b=!0;this.$each.$$p=f!==m?function(){var g=a.yieldX(f,arguments);if(g===r)return b=r.$v,r;if((c=g)===m||c.$$is_boolean&&!1==c)return b=!1,r}:function(a){if(1==arguments.length&&((c=a)===m||c.$$is_boolean&&!1==c))return b=!1,r};this.$each();return b});a.defn(l,"$any?",t=function(){var c,f=t.$$p||m;t.$$p=null;var b=!1;this.$each.$$p=f!==m?function(){var g=a.yieldX(f,arguments);if(g===r)return b=
r.$v,r;if((c=g)!==m&&(!c.$$is_boolean||!0==c))return b=!0,r}:function(a){if(1!=arguments.length||(c=a)!==m&&(!c.$$is_boolean||!0==c))return b=!0,r};this.$each();return b});a.defn(l,"$chunk",b=function(c){var f,g,k,d=b.$$p||m;b.$$p=null;!1!==d&&d!==m||e.get("Kernel").$raise(e.get("ArgumentError"),"no block given");return(f=(g=a.get("Enumerator")).$new,f.$$p=(k=function(f){function b(){0<y.length&&f.$yield(E,y)}var g=k.$$s||this,x,B,v;null==f&&(f=m);var s,E=m,y=[];s=void 0==c||c===m?d:(x=(B=e.get("Proc")).$new,
x.$$p=(v=function(a){null==a&&(a=m);return d.$yield(a,c.$dup())},v.$$s=g,v),x).call(B);g.$each.$$p=function(c){var f=a.yield1(s,c);if(f===r)return r;f===m?(b(),y=[],E=m):(E===m||E===f?y.push(c):(b(),y=[c]),E=f)};g.$each();b()},k.$$s=this,k),f).call(g)});a.defn(l,"$collect",w=function(){var c,f,b=w.$$p||m;w.$$p=null;if(b===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"collect");var g=[];this.$each.$$p=function(){var c=a.yieldX(b,arguments);
if(c===r)return g=r.$v,r;g.push(c)};this.$each();return g});a.defn(l,"$collect_concat",z=function(){var c,f,b,g=z.$$p||m;z.$$p=null;return g===m?(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"collect_concat"):(c=this.$map,c.$$p=(b=function(c){var f;null==c&&(c=m);return f=a.yield1(g,c),f},b.$$s=this,b),c).call(this).$flatten(1)});a.defn(l,"$count",u=function(c){var f,b=u.$$p||m;u.$$p=null;var g=0;null!=c?b=function(){return e.get("Opal").$destructure(arguments)["$=="](c)}:
b===m&&(b=function(){return!0});this.$each.$$p=function(){var c=a.yieldX(b,arguments);if(c===r)return g=r.$v,r;(f=c)!==m&&(!f.$$is_boolean||!0==f)&&g++};this.$each();return g});a.defn(l,"$cycle",p=function(c){var f,b,g=p.$$p||m;null==c&&(c=m);p.$$p=null;if(g===m)return(f=this.$enum_for,f.$$p=(b=function(){var a=b.$$s||this,f;if(c["$=="](m))return(f=a["$respond_to?"]("size"))!==m&&(!f.$$is_boolean||!0==f)?e.get("Float").$$scope.get("INFINITY"):m;c=e.get("Opal")["$coerce_to!"](c,e.get("Integer"),"to_int");
return("number"===typeof c?0<c:c["$>"](0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},b.$$s=this,b),f).call(this,"cycle",c);if(!((f=c["$nil?"]())!==m&&(!f.$$is_boolean||!0==f)))if(c=e.get("Opal")["$coerce_to!"](c,e.get("Integer"),"to_int"),(f=0>=c)!==m&&(!f.$$is_boolean||!0==f))return m;var k,d=[],x,B;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(a.yield1(g,c)===r)return k=r.$v,r;d.push(c)};this.$each();if(void 0!==k)return k;if(0===
d.length)return m;if(c===m)for(;;){f=0;for(x=d.length;f<x;f++)if(B=a.yield1(g,d[f]),B===r)return r.$v}else for(;1<c;){f=0;for(x=d.length;f<x;f++)if(B=a.yield1(g,d[f]),B===r)return r.$v;c--}});a.defn(l,"$detect",q=function(c){var f,b=q.$$p||m;q.$$p=null;if(b===m)return this.$enum_for("detect",c);var g;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),k=a.yield1(b,c);if(k===r)return g=r.$v,r;if((f=k)!==m&&(!f.$$is_boolean||!0==f))return g=c,r};this.$each();void 0===g&&void 0!==c&&
(g="function"===typeof c?c():c);return void 0===g?m:g});a.defn(l,"$drop",function(a){var c;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(c=0>a)!==m&&(!c.$$is_boolean||!0==c)&&this.$raise(e.get("ArgumentError"),"attempt to drop negative size");var f=[],b=0;this.$each.$$p=function(){a<=b&&f.push(e.get("Opal").$destructure(arguments));b++};this.$each();return f});a.defn(l,"$drop_while",g=function(){var c,f=g.$$p||m;g.$$p=null;if(f===m)return this.$enum_for("drop_while");var b=[],k=!0;this.$each.$$p=
function(){var g=e.get("Opal").$destructure(arguments);if(k){var d=a.yield1(f,g);if(d===r)return b=r.$v,r;if((c=d)===m||c.$$is_boolean&&!1==c)k=!1,b.push(g)}else b.push(g)};this.$each();return b});a.defn(l,"$each_cons",k=function(c){var f,b,g=k.$$p||m;k.$$p=null;(f=1!=arguments.length)!==m&&(!f.$$is_boolean||!0==f)&&this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=e.get("Opal").$try_convert(c,e.get("Integer"),"to_int");(f=0>=c)!==m&&(!f.$$is_boolean||
!0==f)&&this.$raise(e.get("ArgumentError"),"invalid size");if(g===m)return(f=this.$enum_for,f.$$p=(b=function(){var a,f,g=m,g=(b.$$s||this).$enumerator_size();if((a=g["$nil?"]())!==m&&(!a.$$is_boolean||!0==a))return m;if((a=!1!==(f=g["$=="](0))&&f!==m?f:"number"===typeof g&&"number"===typeof c?g<c:g["$<"](c))!==m&&(!a.$$is_boolean||!0==a))return 0;a="number"===typeof g&&"number"===typeof c?g-c:g["$-"](c);return"number"===typeof a?a+1:a["$+"](1)},b.$$s=this,b),f).call(this,"each_cons",c);var d=[],
x=m;this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);d.push(f);d.length>c&&d.shift();if(d.length==c&&a.yield1(g,d.slice(0,c))==r)return x=r.$v,r};this.$each();return x});a.defn(l,"$each_entry",s=function(){s.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(l,"$each_slice",y=function(c){var f,b,g=y.$$p||m;y.$$p=null;c=e.get("Opal").$coerce_to(c,e.get("Integer"),"to_int");(f=0>=c)!==m&&(!f.$$is_boolean||!0==f)&&this.$raise(e.get("ArgumentError"),"invalid slice size");
if(g===m)return(f=this.$enum_for,f.$$p=(b=function(){var a=b.$$s||this,f;return(f=a["$respond_to?"]("size"))!==m&&(!f.$$is_boolean||!0==f)?(a=a.$size(),("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()):m},b.$$s=this,b),f).call(this,"each_slice",c);var k,d=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);d.push(f);if(d.length===c){if(a.yield1(g,d)===r)return k=r.$v,r;d=[]}};this.$each();return void 0!==k?k:0<d.length&&a.yield1(g,d)===r?r.$v:m});a.defn(l,"$each_with_index",
A=function(){var c,f,b=A.$$p||m,g=arguments.length-0;0>g&&(g=0);for(var k=Array(g),d=0;d<g;d++)k[d]=arguments[d+0];A.$$p=null;if(b===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).apply(this,["each_with_index"].concat(a.to_a(k)));var x,B=0;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(b(a,B)===r)return x=r.$v,r;B++};this.$each.apply(this,k);return void 0!==x?x:this});a.defn(l,"$each_with_object",f=function(a){var c,
b,g=f.$$p||m;f.$$p=null;if(g===m)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"each_with_object",a);var k;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(g(c,a)===r)return k=r.$v,r};this.$each();return void 0!==k?k:a});a.defn(l,"$entries",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];var b=[];this.$each.$$p=function(){b.push(e.get("Opal").$destructure(arguments))};
this.$each.apply(this,c);return b});a.alias(l,"find","detect");a.defn(l,"$find_all",c=function(){var f,b,g=c.$$p||m;c.$$p=null;if(g===m)return(f=this.$enum_for,f.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),f).call(this,"find_all");var k=[];this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),b=a.yield1(g,c);if(b===r)return k=r.$v,r;(f=b)!==m&&(!f.$$is_boolean||!0==f)&&k.push(c)};this.$each();return k});a.defn(l,"$find_index",v=function(c){var f,b=v.$$p||
m;v.$$p=null;if((f=void 0===c&&b===m)!==m&&(!f.$$is_boolean||!0==f))return this.$enum_for("find_index");var g=m,k=0;null!=c?this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](c))return g=k,r;k+=1}:b!==m&&(this.$each.$$p=function(){var c=a.yieldX(b,arguments);if(c===r)return g=r.$v,r;if((f=c)!==m&&(!f.$$is_boolean||!0==f))return g=k,r;k+=1});this.$each();return g});a.defn(l,"$first",function(a){var c,f=m;if((c=void 0===a)!==m&&(!c.$$is_boolean||!0==c))f=m,this.$each.$$p=function(){f=
e.get("Opal").$destructure(arguments);return r};else{f=[];a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(c=0>a)!==m&&(!c.$$is_boolean||!0==c)&&this.$raise(e.get("ArgumentError"),"attempt to take negative size");if((c=0==a)!==m&&(!c.$$is_boolean||!0==c))return[];var b=0;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");this.$each.$$p=function(){f.push(e.get("Opal").$destructure(arguments));if(a<=++b)return r}}this.$each();return f});a.alias(l,"flat_map","collect_concat");a.defn(l,"$grep",
G=function(c){var f,b=G.$$p||m;G.$$p=null;var g=[];this.$each.$$p=b!==m?function(){var k=e.get("Opal").$destructure(arguments),d=c["$==="](k);if((f=d)!==m&&(!f.$$is_boolean||!0==f)){d=a.yield1(b,k);if(d===r)return g=r.$v,r;g.push(d)}}:function(){var a=e.get("Opal").$destructure(arguments);(f=c["$==="](a))!==m&&(!f.$$is_boolean||!0==f)&&g.push(a)};this.$each();return g});a.defn(l,"$group_by",C=function(){var c,f,b,g,k=C.$$p||m,d=m;C.$$p=null;if(k===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||
this).$enumerator_size()},f.$$s=this,f),c).call(this,"group_by");var d=e.get("Hash").$new(),x;this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments),B=a.yield1(k,f);if(B===r)return x=r.$v,r;(c=B,b=d,!1!==(g=b["$[]"](c))&&g!==m?g:b["$[]="](c,[]))["$<<"](f)};this.$each();return void 0!==x?x:d});a.defn(l,"$include?",function(a){var c=!1;this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](a))return c=!0,r};this.$each();return c});a.defn(l,"$inject",I=function(c,f){var b=
I.$$p||m;I.$$p=null;var g=c;b!==m&&void 0===f?this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(void 0!==g&&(c=a.yieldX(b,[g,c]),c===r))return g=r.$v,r;g=c}:(void 0===f&&(e.get("Symbol")["$==="](c)||this.$raise(e.get("TypeError"),""+c.$inspect()+" is not a Symbol"),f=c,g=void 0),this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(f,a)});this.$each();return void 0==g?m:g});a.defn(l,"$lazy",function(){var c,f,b;return(c=(f=e.get("Enumerator").$$scope.get("Lazy")).$new,
c.$$p=(b=function(c,f){var b;null==c&&(c=m);f=n.call(arguments,1);return(b=c).$yield.apply(b,a.to_a(f))},b.$$s=this,b),c).call(f,this,this.$enumerator_size())});a.defn(l,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))!==m&&(!a.$$is_boolean||!0==a)?this.$size():m});a.alias(l,"map","collect");a.defn(l,"$max",E=function(){var a=this,c=E.$$p||m;E.$$p=null;var f;a.$each.$$p=c!==m?function(){var b=e.get("Opal").$destructure(arguments);if(void 0===f)f=b;else{var g=c(b,f);if(g===
r)return f=r.$v,r;g===m&&a.$raise(e.get("ArgumentError"),"comparison failed");0<g&&(f=b)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===f?f=a:0<e.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?m:f});a.defn(l,"$max_by",x=function(){var c,f,b=x.$$p||m;x.$$p=null;if(!(!1!==b&&b!==m))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"max_by");var g,k;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),
f=a.yield1(b,c);if(void 0===g)g=c,k=f;else{if(f===r)return g=r.$v,r;0<f["$<=>"](k)&&(g=c,k=f)}};this.$each();return void 0===g?m:g});a.alias(l,"member?","include?");a.defn(l,"$min",B=function(){var a=this,c=B.$$p||m;B.$$p=null;var f;a.$each.$$p=c!==m?function(){var b=e.get("Opal").$destructure(arguments);if(void 0===f)f=b;else{var g=c(b,f);if(g===r)return f=r.$v,r;g===m&&a.$raise(e.get("ArgumentError"),"comparison failed");0>g&&(f=b)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===
f?f=a:0>e.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?m:f});a.defn(l,"$min_by",J=function(){var c,f,b=J.$$p||m;J.$$p=null;if(!(!1!==b&&b!==m))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"min_by");var g,k;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),f=a.yield1(b,c);if(void 0===g)g=c,k=f;else{if(f===r)return g=r.$v,r;0>f["$<=>"](k)&&(g=c,k=f)}};this.$each();return void 0===g?m:g});a.defn(l,
"$minmax",M=function(){var a,c,f,b=this,g=M.$$p||m;M.$$p=null;!1!==(a=g)&&a!==m?a:g=(c=b.$proc,c.$$p=(f=function(a,c){null==a&&(a=m);null==c&&(c=m);return a["$<=>"](c)},f.$$s=b,f),c).call(b);var k=m,d=m,x=!0;b.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(x)k=d=a,x=!1;else{var c=g.$call(k,a);c===m?b.$raise(e.get("ArgumentError"),"comparison failed"):0<c&&(k=a);c=g.$call(d,a);c===m?b.$raise(e.get("ArgumentError"),"comparison failed"):0>c&&(d=a)}};b.$each();return[k,d]});a.defn(l,
"$minmax_by",D=function(){D.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(l,"$none?",L=function(){var c,f=L.$$p||m;L.$$p=null;var b=!0;this.$each.$$p=f!==m?function(){var g=a.yieldX(f,arguments);if(g===r)return b=r.$v,r;if((c=g)!==m&&(!c.$$is_boolean||!0==c))return b=!1,r}:function(){if((c=e.get("Opal").$destructure(arguments))!==m&&(!c.$$is_boolean||!0==c))return b=!1,r};this.$each();return b});a.defn(l,"$one?",R=function(){var c,f=R.$$p||m;R.$$p=null;var b=!1;this.$each.$$p=
f!==m?function(){var g=a.yieldX(f,arguments);if(g===r)return b=r.$v,r;if((c=g)!==m&&(!c.$$is_boolean||!0==c)){if(!0===b)return b=!1,r;b=!0}}:function(){if((c=e.get("Opal").$destructure(arguments))!==m&&(!c.$$is_boolean||!0==c)){if(!0===b)return b=!1,r;b=!0}};this.$each();return b});a.defn(l,"$partition",ga=function(){var c,f,b=ga.$$p||m;ga.$$p=null;if(b===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"partition");var g=[],k=[];this.$each.$$p=
function(){var f=e.get("Opal").$destructure(arguments),d=a.yield1(b,f);if(d===r)return r;(c=d)!==m&&(!c.$$is_boolean||!0==c)?g.push(f):k.push(f)};this.$each();return[g,k]});a.alias(l,"reduce","inject");a.defn(l,"$reject",X=function(){var c,f,b=X.$$p||m;X.$$p=null;if(b===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"reject");var g=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments),k=a.yield1(b,f);if(k===r)return g=
r.$v,r;((c=k)===m||c.$$is_boolean&&!1==c)&&g.push(f)};this.$each();return g});a.defn(l,"$reverse_each",$=function(){var c,f,b=$.$$p||m;$.$$p=null;if(b===m)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),c).call(this,"reverse_each");var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(c=g.length-1;0<=c;c--)a.yieldX(b,g[c]);return g});a.alias(l,"select","find_all");a.defn(l,"$slice_before",aa=function(c){var f,b,g,k=aa.$$p||m;aa.$$p=
null;(f=void 0===c&&k===m||1<arguments.length)!==m&&(!f.$$is_boolean||!0==f)&&this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");return(f=(b=e.get("Enumerator")).$new,f.$$p=(g=function(f){var b=g.$$s||this,d;null==f&&(f=m);var x=[];b.$each.$$p=k!==m?void 0===c?function(){var c=e.get("Opal").$destructure(arguments);if((d=a.yield1(k,c))!==m&&(!d.$$is_boolean||!0==d)&&0<x.length)f["$<<"](x),x=[];x.push(c)}:function(){var a=e.get("Opal").$destructure(arguments);
if((d=k(a,c.$dup()))!==m&&(!d.$$is_boolean||!0==d)&&0<x.length)f["$<<"](x),x=[];x.push(a)}:function(){var a=e.get("Opal").$destructure(arguments);if((d=c["$==="](a))!==m&&(!d.$$is_boolean||!0==d)&&0<x.length)f["$<<"](x),x=[];x.push(a)};b.$each();if(0<x.length)f["$<<"](x)},g.$$s=this,g),f).call(b)});a.defn(l,"$sort",S=function(){var a,c,f=S.$$p||m,b=m;S.$$p=null;b=this.$to_a();f===m&&(f=(a=this.$lambda,a.$$p=(c=function(a,c){null==a&&(a=m);null==c&&(c=m);return a["$<=>"](c)},c.$$s=this,c),a).call(this));
return b.sort(f)});a.defn(l,"$sort_by",Z=function(){var a,c,f,b,g,k,d,x=Z.$$p||m,B=m;Z.$$p=null;if(x===m)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c),a).call(this,"sort_by");B=(a=this.$map,a.$$p=(f=function(){var a=m,a=e.get("Opal").$destructure(arguments);return[x.$call(a),a]},f.$$s=this,f),a).call(this);(a=(b=B)["$sort!"],a.$$p=(g=function(a,c){null==a&&(a=m);null==c&&(c=m);return a[0]["$<=>"](c[0])},g.$$s=this,g),a).call(b);return(a=(k=B)["$map!"],
a.$$p=(d=function(a){null==a&&(a=m);return a[1]},d.$$s=this,d),a).call(k)});a.defn(l,"$take",function(a){return this.$first(a)});a.defn(l,"$take_while",K=function(){var c,f=K.$$p||m;K.$$p=null;if(!(!1!==f&&f!==m))return this.$enum_for("take_while");var b=[];this.$each.$$p=function(){var g=e.get("Opal").$destructure(arguments),k=a.yield1(f,g);if(k===r)return b=r.$v,r;if((c=k)===m||c.$$is_boolean&&!1==c)return r;b.push(g)};this.$each();return b});a.alias(l,"to_a","entries");a.defn(l,"$zip",N=function(){var c,
f=arguments.length-0;0>f&&(f=0);for(var b=Array(f),g=0;g<f;g++)b[g]=arguments[g+0];N.$$p=null;return(c=this.$to_a()).$zip.apply(c,a.to_a(b))})}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var n=a.top,h=a.nil,l=a.breaker,e=a.slice,d=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));n.$require("corelib/enumerable");
return function(n,$super){function w(){}var z=w=d(n,$super,"Enumerator",w),u=z.$$proto,p=z.$$scope,q,g,k,s;u.size=u.args=u.object=u.method=h;z.$include(p.get("Enumerable"));a.defs(z,"$for",q=function(a,g){var f=q.$$p||h,c=arguments.length-2;0>c&&(c=0);for(var e=Array(c),k=0;k<c;k++)e[k]=arguments[k+2];null==g&&(g="each");q.$$p=null;c=this.$allocate();c.object=a;c.size=f;c.method=g;c.args=e;return c});a.defn(z,"$initialize",g=function(){var a,k,f=g.$$p||h;g.$$p=null;if(!1!==f&&f!==h)return this.object=
(a=(k=p.get("Generator")).$new,a.$$p=f.$to_proc(),a).call(k),this.method="each",this.args=[],this.size=arguments[0]||h,(a=this.size)!==h&&(!a.$$is_boolean||!0==a)?this.size=p.get("Opal").$coerce_to(this.size,p.get("Integer"),"to_int"):h;this.object=arguments[0];this.method=arguments[1]||"each";this.args=e.call(arguments,2);return this.size=h});a.defn(z,"$each",k=function(){var g,e,f,c=k.$$p||h,d=arguments.length-0;0>d&&(d=0);for(var s=Array(d),p=0;p<d;p++)s[p]=arguments[p+0];k.$$p=null;if((g=(e=c["$nil?"](),
!1!==e&&e!==h?s["$empty?"]():e))!==h&&(!g.$$is_boolean||!0==g))return this;s=m(this.args,s);return(g=c["$nil?"]())!==h&&(!g.$$is_boolean||!0==g)?(g=this.$class()).$new.apply(g,[this.object,this.method].concat(a.to_a(s))):(e=(f=this.object).$__send__,e.$$p=c.$to_proc(),e).apply(f,[this.method].concat(a.to_a(s)))});a.defn(z,"$size",function(){var g;return(g=p.get("Proc")["$==="](this.size))!==h&&(!g.$$is_boolean||!0==g)?(g=this.size).$call.apply(g,a.to_a(this.args)):this.size});a.defn(z,"$with_index",
s=function(a){var g,f,c=s.$$p||h;null==a&&(a=0);s.$$p=null;a=!1!==a&&a!==h?p.get("Opal").$coerce_to(a,p.get("Integer"),"to_int"):0;if(!(!1!==c&&c!==h))return(g=this.$enum_for,g.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),g).call(this,"with_index",a);var e,k=a;this.$each.$$p=function(){var a=p.get("Opal").$destructure(arguments),a=c(a,k);if(a===l)return e=l.$v,l;k++;return a};this.$each();return void 0!==e?e:this.object});a.alias(z,"with_object","each_with_object");a.defn(z,"$inspect",
function(){var a,g=h,g="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if(!((a=this.args["$empty?"]())!==h&&(!a.$$is_boolean||!0==a)))g=m(g,"("+this.args.$inspect()["$[]"](p.get("Range").$new(1,-2))+")");return m(g,">")});(function(g,$super){function f(){}var c=f=d(g,$super,"Generator",f),e=c.$$scope,k,s;c.$$proto.block=h;c.$include(e.get("Enumerable"));a.defn(c,"$initialize",k=function(){var a=k.$$p||h;k.$$p=null;!1!==a&&a!==h||this.$raise(e.get("LocalJumpError"),"no block given");
return this.block=a});return(a.defn(c,"$each",s=function(){var c,f,g=s.$$p||h,k=h,k=arguments.length-0;0>k&&(k=0);for(var d=Array(k),y=0;y<k;y++)d[y]=arguments[y+0];s.$$p=null;k=(c=(f=e.get("Yielder")).$new,c.$$p=g.$to_proc(),c).call(f);try{if(d.unshift(k),a.yieldX(this.block,d)===l)return l.$v}catch(p){if(p===l)return l.$v;throw p;}return this}),h)&&"each"})(p.base,null);(function(g,$super){function f(){}var c=f=d(g,$super,"Yielder",f),e;c.$$proto.block=h;a.defn(c,"$initialize",e=function(){var a=
e.$$p||h;e.$$p=null;return this.block=a});a.defn(c,"$yield",function(){var c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+0];c=a.yieldX(this.block,f);if(c===l)throw l;return c});return(a.defn(c,"$<<",function(){var c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+0];this.$yield.apply(this,a.to_a(f));return this}),h)&&"<<"})(p.base,null);return function(g,$super){function f(){}var c=f=d(g,$super,"Lazy",f),k=c.$$scope,s,p,q,E,x,B,J,M,D;
c.$$proto.enumerator=h;(function(a,$super){function c(){}c=d(a,$super,"StopLazyError",c);return h})(k.base,k.get("Exception"));a.defn(c,"$initialize",s=function(c,f){var g,d=s.$$p||h;null==f&&(f=h);s.$$p=null;d===h&&this.$raise(k.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=c;return a.find_super_dispatcher(this,"initialize",s,(g=function(f,x){var B=g.$$s||this,s,E;null==f&&(f=h);x=e.call(arguments,1);try{return(s=c.$each,s.$$p=(E=function(c){c=e.call(arguments,0);
c.unshift(f);if(a.yieldX(d,c)===l)return l},E.$$s=B,E),s).apply(c,a.to_a(x))}catch(y){if(a.rescue(y,[k.get("Exception")]))try{return h}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw y;}},g.$$s=this,g)).apply(this,[f])});a.alias(c,"force","to_a");a.defn(c,"$lazy",function(){return this});a.defn(c,"$collect",p=function(){var c,f,g,d=p.$$p||h;p.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,
f){null==c&&(c=h);f=e.call(arguments,1);var g=a.yieldX(d,f);if(g===l)return l;c.$yield(g)},g.$$s=this,g),c).call(f,this,this.$enumerator_size())});a.defn(c,"$collect_concat",q=function(){var c,f,g,d=q.$$p||h;q.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,f){var x=g.$$s||this,B,s,E,y,p;null==c&&(c=h);f=e.call(arguments,1);var J=a.yieldX(d,f);if(J===l)return l;J["$respond_to?"]("force")&&J["$respond_to?"]("each")?
(B=(s=J).$each,B.$$p=(E=function(a){null==a&&(a=h);return c.$yield(a)},E.$$s=x,E),B).call(s):k.get("Opal").$try_convert(J,k.get("Array"),"to_ary")===h?c.$yield(J):(B=(y=J).$each,B.$$p=(p=function(a){null==a&&(a=h);return c.$yield(a)},p.$$s=x,p),B).call(y)},g.$$s=this,g),c).call(f,this,h)});a.defn(c,"$drop",function(c){var f,g,d,x=h,B=x=h;c=k.get("Opal").$coerce_to(c,k.get("Integer"),"to_int");r(c,0)&&this.$raise(k.get("ArgumentError"),"attempt to drop negative size");x=this.$enumerator_size();x=(f=
k.get("Integer")["$==="](x))!==h&&(!f.$$is_boolean||!0==f)?r(c,x)?c:x:x;B=0;return(f=(g=k.get("Lazy")).$new,f.$$p=(d=function(f,g){var k;null==f&&(f=h);g=e.call(arguments,1);return r(B,c)?B=m(B,1):(k=f).$yield.apply(k,a.to_a(g))},d.$$s=this,d),f).call(g,this,x)});a.defn(c,"$drop_while",E=function(){var c,f,g,d=E.$$p||h,x=h;E.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy drop_while without a block");x=!0;return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,f){var g,
k;null==c&&(c=h);f=e.call(arguments,1);if(!1!==x&&x!==h){k=a.yieldX(d,f);if(k===l)return l;if((g=k)===h||g.$$is_boolean&&!1==g)x=!1,(g=c).$yield.apply(g,a.to_a(f))}else return(k=c).$yield.apply(k,a.to_a(f))},g.$$s=this,g),c).call(f,this,h)});a.defn(c,"$enum_for",x=function(c){var f,g,e=x.$$p||h,k=arguments.length-1;0>k&&(k=0);for(var d=Array(k),B=0;B<k;B++)d[B]=arguments[B+1];null==c&&(c="each");x.$$p=null;return(f=(g=this.$class()).$for,f.$$p=e.$to_proc(),f).apply(g,[this,c].concat(a.to_a(d)))});
a.defn(c,"$find_all",B=function(){var c,f,g,d=B.$$p||h;B.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy select without a block");return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,f){var g;null==c&&(c=h);f=e.call(arguments,1);var k=a.yieldX(d,f);if(k===l)return l;if((g=k)!==h&&(!g.$$is_boolean||!0==g))(g=c).$yield.apply(g,a.to_a(f))},g.$$s=this,g),c).call(f,this,h)});a.alias(c,"flat_map","collect_concat");a.defn(c,"$grep",J=function(c){var f,g,d,x,B,s=J.$$p||h;J.$$p=
null;return!1!==s&&s!==h?(f=(g=k.get("Lazy")).$new,f.$$p=(d=function(f,g){var d;null==f&&(f=h);g=e.call(arguments,1);var x=k.get("Opal").$destructure(g),B=c["$==="](x);if((d=B)!==h&&(!d.$$is_boolean||!0==d)){B=a.yield1(s,x);if(B===l)return l;f.$yield(a.yield1(s,x))}},d.$$s=this,d),f).call(g,this,h):(f=(x=k.get("Lazy")).$new,f.$$p=(B=function(a,f){var g;null==a&&(a=h);f=e.call(arguments,1);var d=k.get("Opal").$destructure(f);(g=c["$==="](d))!==h&&(!g.$$is_boolean||!0==g)&&a.$yield(d)},B.$$s=this,B),
f).call(x,this,h)});a.alias(c,"map","collect");a.alias(c,"select","find_all");a.defn(c,"$reject",M=function(){var c,f,g,d=M.$$p||h;M.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy reject without a block");return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,f){var g;null==c&&(c=h);f=e.call(arguments,1);var k=a.yieldX(d,f);if(k===l)return l;if((g=k)===h||g.$$is_boolean&&!1==g)(g=c).$yield.apply(g,a.to_a(f))},g.$$s=this,g),c).call(f,this,h)});a.defn(c,"$take",function(c){var f,
g,d,x=h,B=x=h;c=k.get("Opal").$coerce_to(c,k.get("Integer"),"to_int");r(c,0)&&this.$raise(k.get("ArgumentError"),"attempt to take negative size");x=this.$enumerator_size();x=(f=k.get("Integer")["$==="](x))!==h&&(!f.$$is_boolean||!0==f)?r(c,x)?c:x:x;B=0;return(f=(g=k.get("Lazy")).$new,f.$$p=(d=function(f,g){var x=d.$$s||this,s;null==f&&(f=h);g=e.call(arguments,1);return r(B,c)?((s=f).$yield.apply(s,a.to_a(g)),B=m(B,1)):x.$raise(k.get("StopLazyError"))},d.$$s=this,d),f).call(g,this,x)});a.defn(c,"$take_while",
D=function(){var c,f,g,d=D.$$p||h;D.$$p=null;!1!==d&&d!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy take_while without a block");return(c=(f=k.get("Lazy")).$new,c.$$p=(g=function(c,f){var x=g.$$s||this,B;null==c&&(c=h);f=e.call(arguments,1);var s=a.yieldX(d,f);if(s===l)return l;(B=s)!==h&&(!B.$$is_boolean||!0==B)?(B=c).$yield.apply(B,a.to_a(f)):x.$raise(k.get("StopLazyError"))},g.$$s=this,g),c).call(f,this,h)});a.alias(c,"to_enum","enum_for");return(a.defn(c,"$inspect",function(){return"#<"+
this.$class()+": "+this.enumerator.$inspect()+">"}),h)&&"inspect"}(p.base,z)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,d=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
l.$require("corelib/comparable");return function(l,$super){function w(){}var z=w=d(l,$super,"Numeric",w),u=z.$$scope;z.$include(u.get("Comparable"));a.defn(z,"$coerce",function(a){var d;return(d=a["$instance_of?"](this.$class()))!==e&&(!d.$$is_boolean||!0==d)?[a,this]:[this.$Float(a),this.$Float(this)]});a.defn(z,"$__coerced__",function(d,h){var g,k=e,s=e,y=e;try{g=a.to_ary(h.$coerce(this)),k=null==g[0]?e:g[0],s=null==g[1]?e:g[1]}catch(m){try{y=d,"+"["$==="](y)||"-"["$==="](y)||"*"["$==="](y)||"/"["$==="](y)||
"%"["$==="](y)||"&"["$==="](y)||"|"["$==="](y)||"^"["$==="](y)||"**"["$==="](y)?this.$raise(u.get("TypeError"),""+h.$class()+" can't be coerce into Numeric"):(">"["$==="](y)||">="["$==="](y)||"<"["$==="](y)||"<="["$==="](y)||"<=>"["$==="](y))&&this.$raise(u.get("ArgumentError"),"comparison of "+this.$class()+" with "+h.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return k.$__send__(d,s)});a.defn(z,"$<=>",function(a){var d;return(d=this["$equal?"](a))!==e&&(!d.$$is_boolean||
!0==d)?0:e});a.defn(z,"$[]",function(a){var d=e,g=e;a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int");d=2["$**"](30)["$-@"]();g=m(2["$**"](30),1);return a<d||a>g?0:(this>>a)%2});a.defn(z,"$+@",function(){return this});a.defn(z,"$-@",function(){return m(0,this)});a.defn(z,"$%",function(a){return m(this,r(a,this.$div(a)))});a.defn(z,"$abs",function(){return n(this,0)?this["$-@"]():this});a.defn(z,"$abs2",function(){return r(this,this)});a.defn(z,"$angle",function(){return n(this,0)?u.get("Math").$$scope.get("PI"):
0});a.alias(z,"arg","angle");a.defn(z,"$ceil",function(){return this.$to_f().$ceil()});a.defn(z,"$conj",function(){return this});a.alias(z,"conjugate","conj");a.defn(z,"$denominator",function(){return this.$to_r().$denominator()});a.defn(z,"$div",function(a){a["$=="](0)&&this.$raise(u.get("ZeroDivisionError"),"divided by o");return h(this,a).$floor()});a.defn(z,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(z,"$fdiv",function(a){return h(this.$to_f(),a)});a.defn(z,"$floor",function(){return this.$to_f().$floor()});
a.defn(z,"$i",function(){return this.$Complex(0,this)});a.defn(z,"$imag",function(){return 0});a.alias(z,"imaginary","imag");a.defn(z,"$integer?",function(){return!1});a.alias(z,"magnitude","abs");a.alias(z,"modulo","%");a.defn(z,"$nonzero?",function(){var a;return(a=this["$zero?"]())!==e&&(!a.$$is_boolean||!0==a)?e:this});a.defn(z,"$numerator",function(){return this.$to_r().$numerator()});a.alias(z,"phase","arg");a.defn(z,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(z,"$quo",function(a){return h(u.get("Opal")["$coerce_to!"](this,
u.get("Rational"),"to_r"),a)});a.defn(z,"$real",function(){return this});a.defn(z,"$real?",function(){return!0});a.defn(z,"$rect",function(){return[this,0]});a.alias(z,"rectangular","rect");a.defn(z,"$round",function(a){return this.$to_f().$round(a)});a.defn(z,"$to_c",function(){return this.$Complex(this,0)});a.defn(z,"$to_int",function(){return this.$to_i()});a.defn(z,"$truncate",function(){return this.$to_f().$truncate()});a.defn(z,"$zero?",function(){return this["$=="](0)});a.defn(z,"$positive?",
function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(z,"$negative?",function(){return n(this,0)});a.defn(z,"$dup",function(){return this.$raise(u.get("TypeError"),"can't dup "+this.$class())});return(a.defn(z,"$clone",function(){return this.$raise(u.get("TypeError"),"can't clone "+this.$class())}),e)&&"clone"}(a.base,null)};
Opal.modules["corelib/array"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var r=a.top,n=a.nil,h=a.breaker,l=a.klass,e=a.hash2,d=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
r.$require("corelib/enumerable");r.$require("corelib/numeric");return function(r,$super){function w(){}function z(a,c){return a===c||0===c?1:0<c&&a>c?z(a-1,c-1)+z(a-1,c):0}var u=w=l(r,$super,"Array",w),p=u.$$proto,q=u.$$scope,g,k,s,y,A,f,c,v,G,C,I,E,x,B,J,M,D,L,R,ga,X,$,aa,S,Z,K,N,Y,V;p.length=n;u.$include(q.get("Enumerable"));p.$$is_array=!0;a.defs(u,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];return c});a.defn(u,"$initialize",g=function(a,
c){var f,e=g.$$p||n;null==a&&(a=n);null==c&&(c=n);g.$$p=null;(f=2<arguments.length)!==n&&(!f.$$is_boolean||!0==f)&&this.$raise(q.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((f=1===arguments.length)!==n&&(!f.$$is_boolean||!0==f)){if((f=q.get("Array")["$==="](a))!==n&&(!f.$$is_boolean||!0==f))return a.$to_a();if((f=a["$respond_to?"]("to_ary"))!==n&&(!f.$$is_boolean||!0==f))return a.$to_ary()}a=q.get("Opal").$coerce_to(a,
q.get("Integer"),"to_int");(f=0>a)!==n&&(!f.$$is_boolean||!0==f)&&this.$raise(q.get("ArgumentError"),"negative array size");this.splice(0,this.length);var k;if(e===n)for(f=0;f<a;f++)this.push(c);else{f=0;for(k;f<a;f++){k=e(f);if(k===h)return h.$v;this[f]=k}}return this});a.defs(u,"$new",k=function(){var c,f,g=k.$$p||n,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),x=0;x<e;x++)d[x]=arguments[x+0];k.$$p=null;return(c=(f=[]).$initialize,c.$$p=g.$to_proc(),c).apply(f,a.to_a(d))});a.defs(u,"$try_convert",
function(a){return q.get("Opal")["$coerce_to?"](a,q.get("Array"),"to_ary")});a.defn(u,"$&",function(c){var f;c=(f=q.get("Array")["$==="](c))!==n&&(!f.$$is_boolean||!0==f)?c.$to_a():q.get("Opal").$coerce_to(c,q.get("Array"),"to_ary").$to_a();f=[];var g=e([],{}),k,d;k=0;for(d=c.length;k<d;k++)a.hash_put(g,c[k],!0);k=0;for(d=this.length;k<d;k++)c=this[k],void 0!==a.hash_delete(g,c)&&f.push(c);return f});a.defn(u,"$|",function(c){var f;c=(f=q.get("Array")["$==="](c))!==n&&(!f.$$is_boolean||!0==f)?c.$to_a():
q.get("Opal").$coerce_to(c,q.get("Array"),"to_ary").$to_a();f=e([],{});var g,k;g=0;for(k=this.length;g<k;g++)a.hash_put(f,this[g],!0);g=0;for(k=c.length;g<k;g++)a.hash_put(f,c[g],!0);return f.$keys()});a.defn(u,"$*",function(a){var c;if((c=a["$respond_to?"]("to_str"))!==n&&(!c.$$is_boolean||!0==c))return this.$join(a.$to_str());(c=a["$respond_to?"]("to_int"))!==n&&(!c.$$is_boolean||!0==c)||this.$raise(q.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=q.get("Opal").$coerce_to(a,
q.get("Integer"),"to_int");(c=0>a)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("ArgumentError"),"negative argument");c=[];for(var f=0;f<a;f++)c=c.concat(this);return c});a.defn(u,"$+",function(a){var c;a=(c=q.get("Array")["$==="](a))!==n&&(!c.$$is_boolean||!0==c)?a.$to_a():q.get("Opal").$coerce_to(a,q.get("Array"),"to_ary").$to_a();return this.concat(a)});a.defn(u,"$-",function(c){var f;c=(f=q.get("Array")["$==="](c))!==n&&(!f.$$is_boolean||!0==f)?c.$to_a():q.get("Opal").$coerce_to(c,q.get("Array"),
"to_ary").$to_a();if((f=0===this.length)!==n&&(!f.$$is_boolean||!0==f))return[];if((f=0===c.length)!==n&&(!f.$$is_boolean||!0==f))return this.$clone();f=[];var g=e([],{}),k,d;k=0;for(d=c.length;k<d;k++)a.hash_put(g,c[k],!0);k=0;for(d=this.length;k<d;k++)c=this[k],void 0===a.hash_get(g,c)&&f.push(c);return f});a.defn(u,"$<<",function(a){this.push(a);return this});a.defn(u,"$<=>",function(a){var c;if((c=q.get("Array")["$==="](a))!==n&&(!c.$$is_boolean||!0==c))a=a.$to_a();else if((c=a["$respond_to?"]("to_ary"))!==
n&&(!c.$$is_boolean||!0==c))a=a.$to_ary().$to_a();else return n;if(this.$hash()===a.$hash())return 0;c=Math.min(this.length,a.length);for(var f=0;f<c;f++){var g=this[f]["$<=>"](a[f]);if(0!==g)return g}return this.length["$<=>"](a.length)});a.defn(u,"$==",function(a){function c(a,g){var e,k,d,x;if(!g.$$is_array)return q.get("Opal")["$respond_to?"](g,"to_ary")?g["$=="](a):!1;g=g.$to_a();if(a.length!==g.length)return!1;f[a.$object_id()]=!0;e=0;for(k=a.length;e<k;e++)if(d=a[e],x=g[e],d.$$is_array){if(x.$$is_array&&
x.length!==d.length||!f.hasOwnProperty(d.$object_id())&&!c(d,x))return!1}else if(!d["$=="](x))return!1;return!0}var f={};return c(this,a)});a.defn(u,"$[]",function(a,c){var f=this.length,g,e,k;if(a.$$is_range){g=a.exclude;e=q.get("Opal").$coerce_to(a.begin,q.get("Integer"),"to_int");k=q.get("Opal").$coerce_to(a.end,q.get("Integer"),"to_int");if(0>e&&(e+=f,0>e)||e>f)return n;if(0>k&&(k+=f,0>k))return[];g||(k+=1);return this.slice(e,k)}a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");if(0>a&&
(a+=f,0>a))return n;if(void 0===c)return a>=f||0>a?n:this[a];c=q.get("Opal").$coerce_to(c,q.get("Integer"),"to_int");return 0>c||a>f||0>a?n:this.slice(a,a+c)});a.defn(u,"$[]=",function(a,c,f){var g,e=n,k=n,d;d=this.length;if((g=q.get("Range")["$==="](a))!==n&&(!g.$$is_boolean||!0==g)){e=(g=q.get("Array")["$==="](c))!==n&&(!g.$$is_boolean||!0==g)?c.$to_a():(g=c["$respond_to?"]("to_ary"))!==n&&(!g.$$is_boolean||!0==g)?c.$to_ary().$to_a():[c];g=a.exclude;f=q.get("Opal").$coerce_to(a.begin,q.get("Integer"),
"to_int");k=q.get("Opal").$coerce_to(a.end,q.get("Integer"),"to_int");0>f&&(f+=d,0>f&&this.$raise(q.get("RangeError"),""+a.$inspect()+" out of range"));0>k&&(k+=d);g||(k+=1);if(f>d)for(;d<f;d++)this[d]=n;0>k?this.splice.apply(this,[f,0].concat(e)):this.splice.apply(this,[f,k-f].concat(e))}else{(g=void 0===f)!==n&&(!g.$$is_boolean||!0==g)?k=1:(k=c,c=f,e=(g=q.get("Array")["$==="](c))!==n&&(!g.$$is_boolean||!0==g)?c.$to_a():(g=c["$respond_to?"]("to_ary"))!==n&&(!g.$$is_boolean||!0==g)?c.$to_ary().$to_a():
[c]);a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");k=q.get("Opal").$coerce_to(k,q.get("Integer"),"to_int");0>a&&(g=a,a+=d,0>a&&this.$raise(q.get("IndexError"),"index "+g+" too small for array; minimum "+-this.length));0>k&&this.$raise(q.get("IndexError"),"negative length ("+k+")");if(a>d)for(;d<a;d++)this[d]=n;void 0===f?this[a]=c:this.splice.apply(this,[a,k].concat(e))}return c});a.defn(u,"$assoc",function(a){for(var c=0,f=this.length,g;c<f;c++)if(g=this[c],g.length&&g[0]["$=="](a))return g;
return n});a.defn(u,"$at",function(a){a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?n:this[a]});a.defn(u,"$bsearch",s=function(){var a=s.$$p||n;s.$$p=null;if(a===n)return this.$enum_for("bsearch");for(var c=0,f=this.length,g,e,k,d=!1,x=n;c<f;){g=c+Math.floor((f-c)/2);e=this[g];k=a(e);if(k===h)return h.$v;if(!0===k)x=e,d=!0;else if(!1===k||k===n)d=!1;else if(k.$$is_number){if(0===k)return e;d=0>k}else this.$raise(q.get("TypeError"),"wrong argument type "+
k.$class()+" (must be numeric, true, false or nil)");d?f=g:c=g+1}return x});a.defn(u,"$cycle",y=function(c){var f,g,e,k=y.$$p||n;null==c&&(c=n);y.$$p=null;if(k===n)return(f=this.$enum_for,f.$$p=(g=function(){var a=g.$$s||this;if(c["$=="](n))return q.get("Float").$$scope.get("INFINITY");c=q.get("Opal")["$coerce_to!"](c,q.get("Integer"),"to_int");return m(c,0)?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},g.$$s=this,g),f).call(this,"cycle",c);if((f=!1!==(e=this["$empty?"]())&&
e!==n?e:c["$=="](0))!==n&&(!f.$$is_boolean||!0==f))return n;var d;if(c===n)for(;;){f=0;for(e=this.length;f<e;f++)if(d=a.yield1(k,this[f]),d===h)return h.$v}else{c=q.get("Opal")["$coerce_to!"](c,q.get("Integer"),"to_int");if(0>=c)return this;for(;0<c;){f=0;for(e=this.length;f<e;f++)if(d=a.yield1(k,this[f]),d===h)return h.$v;c--}}return this});a.defn(u,"$clear",function(){this.splice(0,this.length);return this});a.defn(u,"$clone",function(){var a=n,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);
return a});a.defn(u,"$dup",function(){var a=n,a=[];a.$initialize_dup(this);return a});a.defn(u,"$initialize_copy",function(a){return this.$replace(a)});a.defn(u,"$collect",A=function(){var c,f,g=A.$$p||n;A.$$p=null;if(g===n)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"collect");c=[];for(var e=0,k=this.length;e<k;e++){var d=a.yield1(g,this[e]);if(d===h)return h.$v;c.push(d)}return c});a.defn(u,"$collect!",f=function(){var c,g,e=f.$$p||n;f.$$p=
null;if(e===n)return(c=this.$enum_for,c.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=this,g),c).call(this,"collect!");c=0;for(var k=this.length;c<k;c++){var d=a.yield1(e,this[c]);if(d===h)return h.$v;this[c]=d}return this});a.defn(u,"$combination",c=function(f){var g,e,k=c.$$p||n,d=n;c.$$p=null;d=q.get("Opal")["$coerce_to!"](f,q.get("Integer"),"to_int");if(k===n)return(g=this.$enum_for,g.$$p=(e=function(){return z((e.$$s||this).length,d)},e.$$s=this,e),g).call(this,"combination",d);var x,
B,s;if(0===d)(g=a.yield1(k,[]))===h?h.$v:g;else if(1===d){x=0;for(f=this.length;x<f;x++)(g=a.yield1(k,[this[x]]))===h?h.$v:g}else if(d===this.length)(g=a.yield1(k,this.slice()))===h?h.$v:g;else if(0<=d&&d<this.length){f=[];for(x=0;x<=d+1;x++)f.push(0);x=[];B=0;s=!1;for(f[0]=-1;!s;){for(x[B]=this[f[B+1]];B<d-1;)B++,s=f[B+1]=f[B]+1,x[B]=this[s];(g=a.yield1(k,x.slice()))===h?h.$v:g;B++;do s=0===B,f[B]++,B--;while(f[B+1]+d===this.length+B+1)}}return this});a.defn(u,"$compact",function(){for(var a=[],
c=0,f=this.length,g;c<f;c++)(g=this[c])!==n&&a.push(g);return a});a.defn(u,"$compact!",function(){for(var a=this.length,c=0,f=this.length;c<f;c++)this[c]===n&&(this.splice(c,1),f--,c--);return this.length===a?n:this});a.defn(u,"$concat",function(a){var c;a=(c=q.get("Array")["$==="](a))!==n&&(!c.$$is_boolean||!0==c)?a.$to_a():q.get("Opal").$coerce_to(a,q.get("Array"),"to_ary").$to_a();c=0;for(var f=a.length;c<f;c++)this.push(a[c]);return this});a.defn(u,"$delete",v=function(c){var f,g=v.$$p||n;v.$$p=
null;for(var e=this.length,k=0,d=e;k<d;k++)this[k]["$=="](c)&&(this.splice(k,1),d--,k--);return this.length===e?g!==n?(f=a.yieldX(g,[]))===h?h.$v:f:n:c});a.defn(u,"$delete_at",function(a){a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return n;var c=this[a];this.splice(a,1);return c});a.defn(u,"$delete_if",G=function(){var a,c,f=G.$$p||n;G.$$p=null;if(f===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),
a).call(this,"delete_if");a=0;for(var g=this.length,e;a<g;a++){if((e=f(this[a]))===h)return h.$v;!1!==e&&e!==n&&(this.splice(a,1),g--,a--)}return this});a.defn(u,"$drop",function(a){0>a&&this.$raise(q.get("ArgumentError"));return this.slice(a)});a.defn(u,"$each",C=function(){var c,f,g=C.$$p||n;C.$$p=null;if(g===n)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"each");c=0;for(var e=this.length;c<e;c++)if(a.yield1(g,this[c])==h)return h.$v;return this});
a.defn(u,"$each_index",I=function(){var c,f,g=I.$$p||n;I.$$p=null;if(g===n)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"each_index");c=0;for(var e=this.length;c<e;c++)if(a.yield1(g,c)===h)return h.$v;return this});a.defn(u,"$empty?",function(){return 0===this.length});a.defn(u,"$eql?",function(a){function c(a,g){var e,k,d,x;if(!g.$$is_array)return!1;g=g.$to_a();if(a.length!==g.length)return!1;f[a.$object_id()]=!0;e=0;for(k=a.length;e<k;e++)if(d=
a[e],x=g[e],d.$$is_array){if(x.$$is_array&&x.length!==d.length||!f.hasOwnProperty(d.$object_id())&&!c(d,x))return!1}else if(!d["$eql?"](x))return!1;return!0}var f={};return c(this,a)});a.defn(u,"$fetch",E=function(a,c){var f=E.$$p||n;E.$$p=null;var g=a;a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(f!==n)return f(g);if(null!=c)return c;0===this.length?this.$raise(q.get("IndexError"),"index "+g+" outside of array bounds: 0...0"):
this.$raise(q.get("IndexError"),"index "+g+" outside of array bounds: -"+this.length+"..."+this.length)});a.defn(u,"$fill",x=function(){var c,f=x.$$p||n,g=n,e=n,k=n,d=n,e=n,d=arguments.length-0;0>d&&(d=0);e=Array(d);for(g=0;g<d;g++)e[g]=arguments[g+0];x.$$p=null;!1!==f&&f!==n?((c=2<e.length)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)"),c=a.to_ary(e),g=null==c[0]?n:c[0],e=null==c[1]?n:c[1]):((c=0==e.length)!==n&&(!c.$$is_boolean||
!0==c)?this.$raise(q.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"):(c=3<e.length)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("ArgumentError"),"wrong number of arguments ("+e.$length()+" for 1..3)"),c=a.to_ary(e),k=null==c[0]?n:c[0],g=null==c[1]?n:c[1],e=null==c[2]?n:c[2]);if((c=q.get("Range")["$==="](g))!==n&&(!c.$$is_boolean||!0==c)){!1!==e&&e!==n&&this.$raise(q.get("TypeError"),"length invalid with range");d=q.get("Opal").$coerce_to(g.$begin(),q.get("Integer"),"to_int");if((c=
0>d)!==n&&(!c.$$is_boolean||!0==c))d+=this.length;(c=0>d)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("RangeError"),""+g.$inspect()+" out of range");e=q.get("Opal").$coerce_to(g.$end(),q.get("Integer"),"to_int");if((c=0>e)!==n&&(!c.$$is_boolean||!0==c))e+=this.length;if(!((c=g["$exclude_end?"]())!==n&&(!c.$$is_boolean||!0==c)))e+=1;if((c=e<=d)!==n&&(!c.$$is_boolean||!0==c))return this}else if(!1!==g&&g!==n){d=q.get("Opal").$coerce_to(g,q.get("Integer"),"to_int");if((c=0>d)!==n&&(!c.$$is_boolean||
!0==c))d+=this.length;if((c=0>d)!==n&&(!c.$$is_boolean||!0==c))d=0;if(!1!==e&&e!==n){e=q.get("Opal").$coerce_to(e,q.get("Integer"),"to_int");if((c=0==e)!==n&&(!c.$$is_boolean||!0==c))return this;e+=d}else e=this.length}else d=0,e=this.length;if((c=d>this.length)!==n&&(!c.$$is_boolean||!0==c))for(g=this.length;g<e;g++)this[g]=n;if((c=e>this.length)!==n&&(!c.$$is_boolean||!0==c))this.length=e;if(!1!==f&&f!==n)for(;d<e;d++){c=f(d);if(c===h)return h.$v;this[d]=c}else for(;d<e;d++)this[d]=k;return this});
a.defn(u,"$first",function(a){if(null==a)return 0===this.length?n:this[0];a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");0>a&&this.$raise(q.get("ArgumentError"),"negative array size");return this.slice(0,a)});a.defn(u,"$flatten",function(a){function c(a,g){var e=[],k,d,x,B;a=a.$to_a();k=0;for(d=a.length;k<d;k++)if(x=a[k],q.get("Opal")["$respond_to?"](x,"to_ary"))if(B=x.$to_ary(),B===n)e.push(x);else switch(B.$$is_array||f.$raise(q.get("TypeError")),B===f&&f.$raise(q.get("ArgumentError")),
g){case void 0:e.push.apply(e,c(B));break;case 0:e.push(B);break;default:e.push.apply(e,c(B,g-1))}else e.push(x);return e}var f=this;void 0!==a&&(a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int"));return c(f,a)});a.defn(u,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var c=0,f=this.length;c<f&&this[c]===a[c];c++);if(c==f)return n}this.$replace(a);return this});a.defn(u,"$hash",function(){var c=void 0==a.hash_ids,f=["A"],g=this.$object_id(),e,k,d;try{c&&(a.hash_ids=
{});if(a.hash_ids.hasOwnProperty(g))return"self";for(d in a.hash_ids)if(a.hash_ids.hasOwnProperty(d)&&(e=a.hash_ids[d],this["$eql?"](e)))return"self";a.hash_ids[g]=this;for(k=0;k<this.length;k++)e=this[k],f.push(e.$hash());return f.join(",")}finally{c&&delete a.hash_ids}});a.defn(u,"$include?",function(a){for(var c=0,f=this.length;c<f;c++)if(this[c]["$=="](a))return!0;return!1});a.defn(u,"$index",B=function(a){var c=B.$$p||n;B.$$p=null;var f,g;if(null!=a){f=0;for(g=this.length;f<g;f++)if(this[f]["$=="](a))return f}else if(c!==
n){f=0;for(g=this.length;f<g;f++){if((a=c(this[f]))===h)return h.$v;if(!1!==a&&a!==n)return f}}else return this.$enum_for("index");return n});a.defn(u,"$insert",function(a){var c=arguments.length-1;0>c&&(c=0);for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+1];a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");if(0<f.length){0>a&&(a+=this.length+1,0>a&&this.$raise(q.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(c=this.length;c<a;c++)this.push(n);this.splice.apply(this,[a,0].concat(f))}return this});
a.defn(u,"$inspect",function(){for(var a=[],c=this.$__id__(),f=0,g=this.length;f<g;f++){var e=this["$[]"](f);e.$__id__()===c?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"});a.defn(u,"$join",function(a){var c;null==d[","]&&(d[","]=n);null==a&&(a=n);if((c=0===this.length)!==n&&(!c.$$is_boolean||!0==c))return"";if((c=a===n)!==n&&(!c.$$is_boolean||!0==c))a=d[","];c=[];var f,g,e,k;f=0;for(g=this.length;f<g;f++){e=this[f];if(q.get("Opal")["$respond_to?"](e,"to_str")&&(k=e.$to_str(),k!==
n)){c.push(k.$to_s());continue}if(q.get("Opal")["$respond_to?"](e,"to_ary")&&(k=e.$to_ary(),k===this&&this.$raise(q.get("ArgumentError")),k!==n)){c.push(k.$join(a));continue}if(q.get("Opal")["$respond_to?"](e,"to_s")&&(k=e.$to_s(),k!==n)){c.push(k);continue}this.$raise(q.get("NoMethodError").$new(""+q.get("Opal").$inspect(e)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===n?c.join(""):c.join(q.get("Opal")["$coerce_to!"](a,q.get("String"),"to_str").$to_s())});a.defn(u,"$keep_if",
J=function(){var a,c,f=J.$$p||n;J.$$p=null;if(f===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"keep_if");a=0;for(var g=this.length,e;a<g;a++){if((e=f(this[a]))===h)return h.$v;if(!1===e||e===n)this.splice(a,1),g--,a--}return this});a.defn(u,"$last",function(a){if(null==a)return 0===this.length?n:this[this.length-1];a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");0>a&&this.$raise(q.get("ArgumentError"),"negative array size");a>this.length&&
(a=this.length);return this.slice(this.length-a,this.length)});a.defn(u,"$length",function(){return this.length});a.alias(u,"map","collect");a.alias(u,"map!","collect!");a.defn(u,"$permutation",M=function(c){var f,g,e,k=this,d=M.$$p||n,x=n,B=n;M.$$p=null;if(d===n)return(f=(g=k).$enum_for,f.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=k,e),f).call(g,"permutation",c);var s,v;c=void 0===c?k.length:q.get("Opal").$coerce_to(c,q.get("Integer"),"to_int");if(!(0>c||k.length<c))if(0===c)(f=a.yield1(d,
[]))===h?h.$v:f;else if(1===c)for(c=0;c<k.length;c++)(f=a.yield1(d,[k[c]]))===h?h.$v:f;else x=q.get("Array").$new(c),B=q.get("Array").$new(k.length,!1),s=function(c,f,g,e,d){k=this;for(var x=0;x<k.length;x++)if(e["$[]"](x)["$!"]())if(f[g]=x,g<c-1)e[x]=!0,s.call(k,c,f,g+1,e,d),e[x]=!1;else{v=[];for(var B=0;B<f.length;B++)v.push(k[f[B]]);a.yield1(d,v)}},d!==n?(f=k.slice(),s.call(f,c,x,0,B,d)):s.call(k,c,x,0,B,d);return k});a.defn(u,"$pop",function(a){var c;if((c=void 0===a)!==n&&(!c.$$is_boolean||!0==
c))return(c=0===this.length)!==n&&(!c.$$is_boolean||!0==c)?n:this.pop();a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");(c=0>a)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("ArgumentError"),"negative array size");return(c=0===this.length)!==n&&(!c.$$is_boolean||!0==c)?[]:(c=a>this.length)!==n&&(!c.$$is_boolean||!0==c)?this.splice(0,this.length):this.splice(this.length-a,this.length)});a.defn(u,"$product",D=function(){var c,f=D.$$p||n,g=arguments.length-0;0>g&&(g=0);for(var e=Array(g),
k=0;k<g;k++)e[k]=arguments[k+0];D.$$p=null;var g=f!==n?null:[],k=e.length+1,d=Array(k),x=Array(k),B=Array(k),s,v=1;B[0]=this;for(s=1;s<k;s++)B[s]=q.get("Opal").$coerce_to(e[s-1],q.get("Array"),"to_ary");for(s=0;s<k;s++){e=B[s].length;if(0===e)return g||this;v*=e;2147483647<v&&this.$raise(q.get("RangeError"),"too big to product");x[s]=e;d[s]=0}a:for(;;){e=[];for(s=0;s<k;s++)e.push(B[s][d[s]]);g?g.push(e):(c=a.yield1(f,e))===h?h.$v:c;e=k-1;for(d[e]++;d[e]===x[e];){d[e]=0;if(0>--e)break a;d[e]++}}return g||
this});a.defn(u,"$push",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];a=0;for(f=c.length;a<f;a++)this.push(c[a]);return this});a.defn(u,"$rassoc",function(a){for(var c=0,f=this.length,g;c<f;c++)if(g=this[c],g.length&&void 0!==g[1]&&g[1]["$=="](a))return g;return n});a.defn(u,"$reject",L=function(){var a,c,f=L.$$p||n;L.$$p=null;if(f===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reject");a=
[];for(var g=0,e=this.length,k;g<e;g++){if((k=f(this[g]))===h)return h.$v;(!1===k||k===n)&&a.push(this[g])}return a});a.defn(u,"$reject!",R=function(){var a,c,f=R.$$p||n,g=n;R.$$p=null;if(f===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reject!");g=this.$length();(a=this.$delete_if,a.$$p=f.$to_proc(),a).call(this);return this.$length()["$=="](g)?n:this});a.defn(u,"$replace",function(a){var c;a=(c=q.get("Array")["$==="](a))!==n&&(!c.$$is_boolean||
!0==c)?a.$to_a():q.get("Opal").$coerce_to(a,q.get("Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(u,"$reverse",function(){return this.slice(0).reverse()});a.defn(u,"$reverse!",function(){return this.reverse()});a.defn(u,"$reverse_each",ga=function(){var a,c,f,g=ga.$$p||n;ga.$$p=null;if(g===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reverse_each");(a=(f=this.$reverse()).$each,a.$$p=g.$to_proc(),
a).call(f);return this});a.defn(u,"$rindex",X=function(a){var c=X.$$p||n;X.$$p=null;var f;if(null!=a)for(f=this.length-1;0<=f&&!(f>=this.length);f--){if(this[f]["$=="](a))return f}else if(c!==n)for(f=this.length-1;0<=f&&!(f>=this.length);f--){if((a=c(this[f]))===h)return h.$v;if(!1!==a&&a!==n)return f}else if(null==a)return this.$enum_for("rindex");return n});a.defn(u,"$rotate",function(a){null==a&&(a=1);a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");var c,f;if(1===this.length)return this.slice();
if(0===this.length)return[];c=this.slice();f=a%c.length;a=c.slice(f);c=c.slice(0,f);return a.concat(c)});a.defn(u,"$rotate!",function(a){var c=n;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)});(function(c,$super){function f(){}var g=f=l(c,$super,"SampleRandom",f),e=g.$$scope;g.$$proto.rng=n;a.defn(g,"$initialize",function(a){return this.rng=a});return(a.defn(g,"$rand",function(a){var c,
f=n,f=e.get("Opal").$coerce_to(this.rng.$rand(a),e.get("Integer"),"to_int");(c=0>f)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(e.get("RangeError"),"random value must be >= 0");(c=f<a)!==n&&(!c.$$is_boolean||!0==c)||this.$raise(e.get("RangeError"),"random value must be less than Array size");return f}),n)&&"rand"})(q.base,null);a.defn(u,"$sample",function(a,c){var f,g=n,e=n;if((f=void 0===a)!==n&&(!f.$$is_boolean||!0==f))return this.$at(q.get("Kernel").$rand(this.length));(f=void 0===c)!==n&&(!f.$$is_boolean||
!0==f)?(f=g=q.get("Opal")["$coerce_to?"](a,q.get("Hash"),"to_hash"))!==n&&(!f.$$is_boolean||!0==f)?(c=g,a=n):(c=n,a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int")):(a=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int"),c=q.get("Opal").$coerce_to(c,q.get("Hash"),"to_hash"));(f=!1!==a&&a!==n?0>a:a)!==n&&(!f.$$is_boolean||!0==f)&&this.$raise(q.get("ArgumentError"),"count must be greater than 0");!1!==c&&c!==n&&(e=c["$[]"]("random"));e=(f=!1!==e&&e!==n?e["$respond_to?"]("rand"):e)!==n&&(!f.$$is_boolean||
!0==f)?q.get("SampleRandom").$new(e):q.get("Kernel");if(!(!1!==a&&a!==n))return this[e.$rand(this.length)];var k,d,x,B;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:return d=e.$rand(this.length),x=e.$rand(this.length),d===x&&(x=0===d?d+1:d-1),[this[d],this[x]];default:if(3<this.length/a){g=!1;k=0;f=q.get("Array").$new(a);d=1;for(f[0]=e.$rand(this.length);d<a;){B=e.$rand(this.length);for(x=0;x<d;){for(;B===f[x];){k++;if(100<k){g=!0;break}B=
e.$rand(this.length)}if(g)break;x++}if(g)break;f[d]=B;d++}if(!g){for(d=0;d<a;)f[d]=this[f[d]],d++;return f}}f=this.slice();for(d=0;d<a;d++)g=e.$rand(this.length),k=f[d],f[d]=f[g],f[g]=k;return a===this.length?f:f["$[]"](0,a)}});a.defn(u,"$select",$=function(){var c,f,g=$.$$p||n;$.$$p=null;if(g===n)return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"select");c=[];for(var e=0,k=this.length,d,x;e<k;e++){d=this[e];if((x=a.yield1(g,d))===h)return h.$v;!1!==
x&&x!==n&&c.push(d)}return c});a.defn(u,"$select!",aa=function(){var a,c,f=aa.$$p||n;aa.$$p=null;if(f===n)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"select!");var g=this.length;(a=this.$keep_if,a.$$p=f.$to_proc(),a).call(this);return this.length===g?n:this});a.defn(u,"$shift",function(a){var c;if((c=void 0===a)!==n&&(!c.$$is_boolean||!0==c))return(c=0===this.length)!==n&&(!c.$$is_boolean||!0==c)?n:this.shift();a=q.get("Opal").$coerce_to(a,
q.get("Integer"),"to_int");(c=0>a)!==n&&(!c.$$is_boolean||!0==c)&&this.$raise(q.get("ArgumentError"),"negative array size");return(c=0===this.length)!==n&&(!c.$$is_boolean||!0==c)?[]:this.splice(0,a)});a.alias(u,"size","length");a.defn(u,"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(u,"$shuffle!",function(a){var c,f=this.length,g;void 0!==a&&(a=q.get("Opal")["$coerce_to?"](a,q.get("Hash"),"to_hash"),a!==n&&(a=a["$[]"]("random"),a!==n&&a["$respond_to?"]("rand")&&(c=a)));for(;f;)c?
(a=c.$rand(f).$to_int(),0>a&&this.$raise(q.get("RangeError"),"random number too small "+a),a>=f&&this.$raise(q.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*f),g=this[--f],this[f]=this[a],this[a]=g;return this});a.alias(u,"slice","[]");a.defn(u,"$slice!",function(a,c){0>a&&(a+=this.length);return null!=c?this.splice(a,c):0>a||a>=this.length?n:this.splice(a,1)[0]});a.defn(u,"$sort",S=function(){var a,c=this,f=S.$$p||n;S.$$p=null;if(!((a=1<c.length)!==n&&(!a.$$is_boolean||
!0==a)))return c;f===n&&(f=function(a,c){return a["$<=>"](c)});try{return c.slice().sort(function(a,g){var e=f(a,g);if(e===h)throw h;e===n&&c.$raise(q.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+g.$inspect()+" failed");return m(e,0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})}catch(g){if(g===h)return h.$v;throw g;}});a.defn(u,"$sort!",Z=function(){var a,c,f=Z.$$p||n;Z.$$p=null;f=f!==n?(a=(c=this.slice()).$sort,a.$$p=f.$to_proc(),a).call(c):this.slice().$sort();a=this.length=0;for(c=
f.length;a<c;a++)this.push(f[a]);return this});a.defn(u,"$take",function(a){0>a&&this.$raise(q.get("ArgumentError"));return this.slice(0,a)});a.defn(u,"$take_while",K=function(){var a=K.$$p||n;K.$$p=null;for(var c=[],f=0,g=this.length,e,k;f<g;f++){e=this[f];if((k=a(e))===h)return h.$v;if(!1===k||k===n)break;c.push(e)}return c});a.defn(u,"$to_a",function(){return this});a.alias(u,"to_ary","to_a");a.defn(u,"$to_h",function(){var c,f=this.length,g,k,d=e([],{});for(c=0;c<f;c++)g=q.get("Opal")["$coerce_to?"](this[c],
q.get("Array"),"to_ary"),g.$$is_array||this.$raise(q.get("TypeError"),"wrong element type "+g.$class()+" at "+c+" (expected array)"),2!==g.length&&this.$raise(q.get("ArgumentError"),"wrong array length at "+c+" (expected 2, was "+g.$length()+")"),k=g[0],g=g[1],a.hash_put(d,k,g);return d});a.alias(u,"to_s","inspect");a.defn(u,"$transpose",function(){var a,c,f=n,g=n;if((a=this["$empty?"]())!==n&&(!a.$$is_boolean||!0==a))return[];f=[];g=n;(a=this.$each,a.$$p=(c=function(a){var e=c.$$s||this,k,d,x;null==
a&&(a=n);a=(k=q.get("Array")["$==="](a))!==n&&(!k.$$is_boolean||!0==k)?a.$to_a():q.get("Opal").$coerce_to(a,q.get("Array"),"to_ary").$to_a();!1!==(k=g)&&k!==n?k:g=a.length;(k=a.length["$!="](g))!==n&&(!k.$$is_boolean||!0==k)&&e.$raise(q.get("IndexError"),"element size differs ("+a.length+" should be "+g);return(k=(d=a.length).$times,k.$$p=(x=function(c){var g,e,k,d=n;null==c&&(c=n);d=(g=c,e=f,!1!==(k=e["$[]"](g))&&k!==n?k:e["$[]="](g,[]));return d["$<<"](a.$at(c))},x.$$s=e,x),k).call(d)},c.$$s=this,
c),a).call(this);return f});a.defn(u,"$uniq",N=function(){var c=N.$$p||n;N.$$p=null;var f=e([],{}),g,k,d,x;if(c===n){g=0;for(k=this.length;g<k;g++)d=this[g],void 0===a.hash_get(f,d)&&a.hash_put(f,d,d)}else{g=0;for(k=this.length;g<k;g++)d=this[g],x=a.yield1(c,d),void 0===a.hash_get(f,x)&&a.hash_put(f,x,d)}return f.$values()});a.defn(u,"$uniq!",Y=function(){var c=Y.$$p||n;Y.$$p=null;var f=this.length,g=e([],{}),k,d,x,B;k=0;for(d=f;k<d;k++)x=this[k],B=c===n?x:a.yield1(c,x),void 0===a.hash_get(g,B)?a.hash_put(g,
B,x):(this.splice(k,1),d--,k--);return this.length===f?n:this});a.defn(u,"$unshift",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];for(a=c.length-1;0<=a;a--)this.unshift(c[a]);return this});a.defn(u,"$values_at",function(){var a,c,f=n,g=arguments.length-0;0>g&&(g=0);for(var e=Array(g),k=0;k<g;k++)e[k]=arguments[k+0];f=[];(a=e.$each,a.$$p=(c=function(a){var g=c.$$s||this,e,k,d,x=n,B=n,x=n;null==a&&(a=n);if((e=a["$kind_of?"](q.get("Range")))!==n&&(!e.$$is_boolean||
!0==e)){x=q.get("Opal").$coerce_to(a.$last(),q.get("Integer"),"to_int");B=q.get("Opal").$coerce_to(a.$first(),q.get("Integer"),"to_int");if(0>B)return B+=g.length,n;0>x&&(x+=g.length);a["$exclude_end?"]()&&x--;return x<B?n:(e=(k=B).$upto,e.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=n);return f["$<<"](c.$at(a))},d.$$s=g,d),e).call(k,x)}x=q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int");return f["$<<"](g.$at(x))},c.$$s=this,c),a).call(e);return f});return(a.defn(u,"$zip",V=function(){var a,
c=V.$$p||n,f=arguments.length-0;0>f&&(f=0);for(var g=Array(f),e=0;e<f;e++)g[e]=arguments[e+0];V.$$p=null;var f=[],e=this.length,k,d,x,B;x=0;for(B=g.length;x<B;x++)k=g[x],k.$$is_array||(g[x]=(!1!==(a=q.get("Opal")["$coerce_to?"](k,q.get("Array"),"to_ary"))&&a!==n?a:q.get("Opal")["$coerce_to!"](k,q.get("Enumerator"),"each")).$to_a());for(d=0;d<e;d++){a=[this[d]];x=0;for(B=g.length;x<B;x++)k=g[x][d],null==k&&(k=n),a[x+1]=k;f[d]=a}if(c!==n){for(d=0;d<e;d++)c(f[d]);return n}return f}),n)&&"zip"}(a.base,
Array)};
Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var m=a.top,r=a.nil,n=a.breaker,h=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));m.$require("corelib/enumerable");return function(m,$super){function d(){}var t=d=h(m,$super,"Hash",d),b=t.$$proto,w=t.$$scope,z,u,p,
q,g,k,s,y,A,f,c,v,G,C;b.proc=b.none=r;t.$include(w.get("Enumerable"));b.$$is_hash=!0;a.defs(t,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+0];var f=c.length,b;if(1===f){a=w.get("Opal")["$coerce_to?"](c["$[]"](0),w.get("Hash"),"to_hash");if(a!==r)return this.$allocate()["$merge!"](a);c=w.get("Opal")["$coerce_to?"](c["$[]"](0),w.get("Array"),"to_ary");c===r&&this.$raise(w.get("ArgumentError"),"odd number of arguments for Hash");f=c.length;a=this.$allocate();
for(b=0;b<f;b++)if(c[b].$$is_array)switch(c[b].length){case 1:a.$store(c[b][0],r);break;case 2:a.$store(c[b][0],c[b][1]);break;default:this.$raise(w.get("ArgumentError"),"invalid number of elements ("+c[b].length+" for 1..2)")}return a}0!==f%2&&this.$raise(w.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(b=0;b<f;b+=2)a.$store(c[b],c[b+1]);return a});a.defs(t,"$allocate",function(){var c=new this.$$alloc;a.hash_init(c);c.none=r;c.proc=r;return c});a.defs(t,"$try_convert",
function(a){return w.get("Opal")["$coerce_to?"](a,w.get("Hash"),"to_hash")});a.defn(t,"$initialize",z=function(a){var c=z.$$p||r;z.$$p=null;void 0!==a&&c!==r&&this.$raise(w.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?r:a;this.proc=c;return this});a.defn(t,"$==",function(c){if(this===c)return!0;if(!c.$$is_hash||this.keys.length!==c.keys.length)return!1;for(var f=0,b=this.keys,g=b.length,k,d;f<g;f++)if(k=b[f],k.$$is_string?(d=this.smap[k],k=c.smap[k]):(d=k.value,
k=a.hash_get(c,k.key)),void 0===k||!d["$eql?"](k))return!1;return!0});a.defn(t,"$[]",function(c){var f=a.hash_get(this,c);return void 0!==f?f:this.$default(c)});a.defn(t,"$[]=",function(c,f){a.hash_put(this,c,f);return f});a.defn(t,"$assoc",function(a){for(var c=0,f=this.keys,b=f.length,g;c<b;c++)if(g=f[c],g.$$is_string){if(g["$=="](a))return[g,this.smap[g]]}else if(g.key["$=="](a))return[g.key,g.value];return r});a.defn(t,"$clear",function(){a.hash_init(this);return this});a.defn(t,"$clone",function(){var c=
new this.$$class.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c});a.defn(t,"$default",function(a){return void 0!==a&&this.proc!==r?this.proc.$call(this,a):this.none});a.defn(t,"$default=",function(a){this.proc=r;return this.none=a});a.defn(t,"$default_proc",function(){return this.proc});a.defn(t,"$default_proc=",function(a){a!==r&&(a=w.get("Opal")["$coerce_to!"](a,w.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(w.get("TypeError"),"default_proc takes two arguments"));
this.none=r;return this.proc=a});a.defn(t,"$delete",u=function(c){var f=u.$$p||r;u.$$p=null;var b=a.hash_delete(this,c);return void 0!==b?b:f!==r?f.$call(c):r});a.defn(t,"$delete_if",p=function(){var c,f,b=p.$$p||r;p.$$p=null;if(!(!1!==b&&b!==r))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"delete_if");c=0;for(var g=this.keys,k=g.length,d,s;c<k;c++){d=g[c];d.$$is_string?s=this.smap[d]:(s=d.value,d=d.key);s=b(d,s);if(s===n)return n.$v;!1!==s&&
s!==r&&void 0!==a.hash_delete(this,d)&&(k--,c--)}return this});a.alias(t,"dup","clone");a.defn(t,"$each",q=function(){var c,f,b=q.$$p||r;q.$$p=null;if(!(!1!==b&&b!==r))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"each");c=0;for(var g=this.keys,k=g.length,d,s;c<k;c++)if(d=g[c],d.$$is_string?s=this.smap[d]:(s=d.value,d=d.key),d=a.yield1(b,[d,s]),d===n)return n.$v;return this});a.defn(t,"$each_key",g=function(){var a,c,f=g.$$p||r;g.$$p=null;if(!(!1!==
f&&f!==r))return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"each_key");a=0;for(var b=this.keys,k=b.length,d;a<k;a++)if(d=b[a],f(d.$$is_string?d:d.key)===n)return n.$v;return this});a.alias(t,"each_pair","each");a.defn(t,"$each_value",k=function(){var a,c,f=k.$$p||r;k.$$p=null;if(!(!1!==f&&f!==r))return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"each_value");a=0;for(var b=this.keys,g=b.length,d;a<
g;a++)if(d=b[a],f(d.$$is_string?this.smap[d]:d.value)===n)return n.$v;return this});a.defn(t,"$empty?",function(){return 0===this.keys.length});a.alias(t,"eql?","==");a.defn(t,"$fetch",s=function(c,f){var b=s.$$p||r;s.$$p=null;var g=a.hash_get(this,c);return void 0!==g?g:b!==r?(g=b(c),g===n?n.$v:g):void 0!==f?f:this.$raise(w.get("KeyError"),"key not found: "+c.$inspect())});a.defn(t,"$flatten",function(a){null==a&&(a=1);a=w.get("Opal")["$coerce_to!"](a,w.get("Integer"),"to_int");for(var c=[],f=0,
b=this.keys,g=b.length,k,d;f<g;f++)k=b[f],k.$$is_string?d=this.smap[k]:(d=k.value,k=k.key),c.push(k),d.$$is_array?1===a?c.push(d):c=c.concat(d.$flatten(a-2)):c.push(d);return c});a.defn(t,"$has_key?",function(c){return void 0!==a.hash_get(this,c)});a.defn(t,"$has_value?",function(a){for(var c=0,f=this.keys,b=f.length,g;c<b;c++)if(g=f[c],(g.$$is_string?this.smap[g]:g.value)["$=="](a))return!0;return!1});a.defn(t,"$hash",function(){var c=void 0===a.hash_ids,f=this.$object_id(),b=["Hash"],g,k;try{c&&
(a.hash_ids={});if(a.hash_ids.hasOwnProperty(f))return"self";for(g in a.hash_ids)if(a.hash_ids.hasOwnProperty(g)&&(k=a.hash_ids[g],this["$eql?"](k)))return"self";a.hash_ids[f]=this;for(var f=0,d=this.keys,s=d.length;f<s;f++)g=d[f],g.$$is_string?b.push([g,this.smap[g].$hash()]):b.push([g.key_hash,g.value.$hash()]);return b.sort().join()}finally{c&&delete a.hash_ids}});a.alias(t,"include?","has_key?");a.defn(t,"$index",function(a){for(var c=0,f=this.keys,b=f.length,g,k;c<b;c++)if(g=f[c],g.$$is_string?
k=this.smap[g]:(k=g.value,g=g.key),k["$=="](a))return g;return r});a.defn(t,"$indexes",function(){var c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),b=0;b<c;b++)f[b]=arguments[b+0];for(var c=[],b=0,g=f.length,k;b<g;b++)k=f[b],k=a.hash_get(this,k),void 0===k?c.push(this.$default()):c.push(k);return c});a.alias(t,"indices","indexes");var I;a.defn(t,"$inspect",function(){var a=void 0===I,c=this.$object_id(),f=[];try{a&&(I={});if(I.hasOwnProperty(c))return"{...}";I[c]=!0;for(var c=0,b=this.keys,g=
b.length,k,d;c<g;c++)k=b[c],k.$$is_string?d=this.smap[k]:(d=k.value,k=k.key),f.push(k.$inspect()+"=>"+d.$inspect());return"{"+f.join(", ")+"}"}finally{a&&(I=void 0)}});a.defn(t,"$invert",function(){for(var c=a.hash(),f=0,b=this.keys,g=b.length,k,d;f<g;f++)k=b[f],k.$$is_string?d=this.smap[k]:(d=k.value,k=k.key),a.hash_put(c,d,k);return c});a.defn(t,"$keep_if",y=function(){var c,f,b=y.$$p||r;y.$$p=null;if(!(!1!==b&&b!==r))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=
this,f),c).call(this,"keep_if");c=0;for(var g=this.keys,k=g.length,d,s;c<k;c++){d=g[c];d.$$is_string?s=this.smap[d]:(s=d.value,d=d.key);s=b(d,s);if(s===n)return n.$v;if((!1===s||s===r)&&void 0!==a.hash_delete(this,d))k--,c--}return this});a.alias(t,"key","index");a.alias(t,"key?","has_key?");a.defn(t,"$keys",function(){for(var a=[],c=0,f=this.keys,b=f.length,g;c<b;c++)g=f[c],g.$$is_string?a.push(g):a.push(g.key);return a});a.defn(t,"$length",function(){return this.keys.length});a.alias(t,"member?",
"has_key?");a.defn(t,"$merge",A=function(a){var c,f,b=A.$$p||r;A.$$p=null;return(c=(f=this.$dup())["$merge!"],c.$$p=b.$to_proc(),c).call(f,a)});a.defn(t,"$merge!",f=function(c){var b=f.$$p||r;f.$$p=null;w.get("Hash")["$==="](c)||(c=w.get("Opal")["$coerce_to!"](c,w.get("Hash"),"to_hash"));var g,k=c.keys,d=k.length,s,v,y;if(b===r){for(g=0;g<d;g++)s=k[g],s.$$is_string?y=c.smap[s]:(y=s.value,s=s.key),a.hash_put(this,s,y);return this}for(g=0;g<d;g++)s=k[g],s.$$is_string?y=c.smap[s]:(y=s.value,s=s.key),
v=a.hash_get(this,s),void 0===v?a.hash_put(this,s,y):a.hash_put(this,s,b(s,v,y));return this});a.defn(t,"$rassoc",function(a){for(var c=0,f=this.keys,b=f.length,g,k;c<b;c++)if(g=f[c],g.$$is_string?k=this.smap[g]:(k=g.value,g=g.key),k["$=="](a))return[g,k];return r});a.defn(t,"$rehash",function(){a.hash_rehash(this);return this});a.defn(t,"$reject",c=function(){var f,b,g=c.$$p||r;c.$$p=null;if(!(!1!==g&&g!==r))return(f=this.$enum_for,f.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),f).call(this,
"reject");f=a.hash();for(var k=0,d=this.keys,s=d.length,v,y,p;k<s;k++){v=d[k];v.$$is_string?y=this.smap[v]:(y=v.value,v=v.key);p=g(v,y);if(p===n)return n.$v;(!1===p||p===r)&&a.hash_put(f,v,y)}return f});a.defn(t,"$reject!",v=function(){var c,f,b=v.$$p||r;v.$$p=null;if(!(!1!==b&&b!==r))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"reject!");c=!1;for(var g=0,k=this.keys,d=k.length,s,y;g<d;g++){s=k[g];s.$$is_string?y=this.smap[s]:(y=s.value,s=s.key);
y=b(s,y);if(y===n)return n.$v;!1!==y&&y!==r&&void 0!==a.hash_delete(this,s)&&(c=!0,d--,g--)}return c?this:r});a.defn(t,"$replace",function(c){var f;c=w.get("Opal")["$coerce_to!"](c,w.get("Hash"),"to_hash");a.hash_init(this);for(var b=0,g=c.keys,k=g.length,d,s;b<k;b++)d=g[b],d.$$is_string?s=c.smap[d]:(s=d.value,d=d.key),a.hash_put(this,d,s);(f=c.$default_proc())!==r&&(!f.$$is_boolean||!0==f)?(f=[c.$default_proc()],c=this,c["$default_proc="].apply(c,f)):(f=[c.$default()],c=this,c["$default="].apply(c,
f));f[f.length-1];return this});a.defn(t,"$select",G=function(){var c,f,b=G.$$p||r;G.$$p=null;if(!(!1!==b&&b!==r))return(c=this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"select");c=a.hash();for(var g=0,k=this.keys,d=k.length,s,v,y;g<d;g++){s=k[g];s.$$is_string?v=this.smap[s]:(v=s.value,s=s.key);y=b(s,v);if(y===n)return n.$v;!1!==y&&y!==r&&a.hash_put(c,s,v)}return c});a.defn(t,"$select!",C=function(){var c,f,b=C.$$p||r;C.$$p=null;if(!(!1!==b&&b!==r))return(c=
this.$enum_for,c.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),c).call(this,"select!");c=r;for(var g=0,k=this.keys,d=k.length,s,v;g<d;g++){s=k[g];s.$$is_string?v=this.smap[s]:(v=s.value,s=s.key);v=b(s,v);if(v===n)return n.$v;if(!1===v||v===r)void 0!==a.hash_delete(this,s)&&(d--,g--),c=this}return c});a.defn(t,"$shift",function(){var c=this.keys;return 0<c.length?(c=c[0],c=c.$$is_string?c:c.key,[c,a.hash_delete(this,c)]):this.$default(r)});a.alias(t,"size","length");t.$alias_method("store",
"[]=");a.defn(t,"$to_a",function(){for(var a=[],c=0,f=this.keys,b=f.length,g,k;c<b;c++)g=f[c],g.$$is_string?k=this.smap[g]:(k=g.value,g=g.key),a.push([g,k]);return a});a.defn(t,"$to_h",function(){if(this.$$class===a.Hash)return this;var c=new a.Hash.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c});a.defn(t,"$to_hash",function(){return this});a.alias(t,"to_s","inspect");a.alias(t,"update","merge!");a.alias(t,"value?","has_value?");a.alias(t,"values_at","indexes");return(a.defn(t,"$values",function(){for(var a=
[],c=0,f=this.keys,b=f.length,g;c<b;c++)g=f[c],g.$$is_string?a.push(this.smap[g]):a.push(g.value);return a}),r)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
a.dynamic_require_severity="warning";var d=a.top,t=a.nil,b=a.breaker,w=a.slice,z=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));d.$require("corelib/numeric");(function(d,$super){function q(){}var g=q=z(d,$super,"Number",q),k=g.$$scope,s,y,A,f,c,v,G,C,I,E;k.get("Opal").$bridge(g,Number);Number.prototype.$$is_number=
!0;a.defn(g,"$coerce",function(a){if(a!==t){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[k.get("Opal")["$coerce_to!"](a,k.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(k.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(g,"$__id__",function(){return 2*this+1});a.alias(g,"object_id","__id__");a.defn(g,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(g,"$-",function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)});a.defn(g,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(g,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(g,"fdiv","/");a.defn(g,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(k.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(g,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
a)});a.defn(g,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(g,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(g,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(g,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(g,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(g,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(g,
"$<=>",function(c){try{return c.$$is_number?isNaN(this)||isNaN(c)?t:this>c?1:this<c?-1:0:this.$__coerced__("<=>",c)}catch(f){if(a.rescue(f,[k.get("ArgumentError")]))try{return t}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw f;}});a.defn(g,"$<<",function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(g,"$>>",function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(g,"$[]",function(a){a=
k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return a<k.get("Integer").$$scope.get("MIN")||a>k.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(g,"$+@",function(){return+this});a.defn(g,"$-@",function(){return-this});a.defn(g,"$~",function(){return~this});a.defn(g,"$**",function(a){var c,f,b;return(c=k.get("Integer")["$==="](a))!==t&&(!c.$$is_boolean||!0==c)?(c=!1!==(f=k.get("Integer")["$==="](this)["$!"]())&&f!==t?f:m(a,0))!==t&&(!c.$$is_boolean||!0==c)?
Math.pow(this,a):k.get("Rational").$new(this,1)["$**"](a):(c=r(this,0)?!1!==(b=k.get("Float")["$==="](a))&&b!==t?b:k.get("Rational")["$==="](a):r(this,0))!==t&&(!c.$$is_boolean||!0==c)?k.get("Complex").$new(this,0)["$**"](a.$to_f()):(c=null!=a.$$is_number)!==t&&(!c.$$is_boolean||!0==c)?Math.pow(this,a):this.$__coerced__("**",a)});a.defn(g,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(g,"$abs",function(){return Math.abs(this)});a.defn(g,"$abs2",
function(){return Math.abs(this*this)});a.defn(g,"$angle",function(){var a;return(a=this["$nan?"]())!==t&&(!a.$$is_boolean||!0==a)?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0});a.alias(g,"arg","angle");a.alias(g,"phase","angle");a.defn(g,"$bit_length",function(){var a;(a=k.get("Integer")["$==="](this))!==t&&(!a.$$is_boolean||!0==a)||this.$raise(k.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var c=0>this?~this:
this;0!=c;)a+=1,c>>>=1;return a});a.defn(g,"$ceil",function(){return Math.ceil(this)});a.defn(g,"$chr",function(a){return String.fromCharCode(this)});a.defn(g,"$denominator",s=function(){var c=w.call(arguments,0),f,b,g=s.$$p;s.$$p=null;return(f=!1!==(b=this["$nan?"]())&&b!==t?b:this["$infinite?"]())!==t&&(!f.$$is_boolean||!0==f)?1:a.find_super_dispatcher(this,"denominator",s,g).apply(this,c)});a.defn(g,"$downto",y=function(a){var c,f,g=y.$$p||t;y.$$p=null;if(g===t)return(c=this.$enum_for,c.$$p=(f=
function(){var c=f.$$s||this,b;(b=k.get("Numeric")["$==="](a))!==t&&(!b.$$is_boolean||!0==b)||c.$raise(k.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return m(a,c)?0:n(h(c,a),1)},f.$$s=this,f),c).call(this,"downto",a);a.$$is_number||this.$raise(k.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c>=a;c--)if(g(c)===b)return b.$v;return this});a.alias(g,"eql?","==");a.defn(g,"$equal?",function(a){var c;return!1!==(c=this["$=="](a))&&
c!==t?c:isNaN(this)&&isNaN(a)});a.defn(g,"$even?",function(){return 0===this%2});a.defn(g,"$floor",function(){return Math.floor(this)});a.defn(g,"$gcd",function(a){var c;(c=k.get("Integer")["$==="](a))!==t&&(!c.$$is_boolean||!0==c)||this.$raise(k.get("TypeError"),"not an integer");c=Math.abs(this);for(a=Math.abs(a);0<c;){var f=c;c=a%c;a=f}return a});a.defn(g,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(g,"$hash",function(){return"Numeric:"+this.toString()});a.defn(g,"$integer?",
function(){return 0===this%1});a.defn(g,"$is_a?",A=function(c){var f=w.call(arguments,0),b,g=A.$$p;A.$$p=null;return(b=c["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):c["$=="](k.get("Fixnum")))!==t&&(!b.$$is_boolean||!0==b)||(b=c["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):c["$=="](k.get("Integer")))!==t&&(!b.$$is_boolean||!0==b)||(b=c["$=="](k.get("Float"))?k.get("Float")["$==="](this):c["$=="](k.get("Float")))!==t&&(!b.$$is_boolean||!0==b)?!0:a.find_super_dispatcher(this,"is_a?",
A,g).apply(this,f)});a.alias(g,"kind_of?","is_a?");a.defn(g,"$instance_of?",f=function(c){var b=w.call(arguments,0),g,e=f.$$p;f.$$p=null;return(g=c["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):c["$=="](k.get("Fixnum")))!==t&&(!g.$$is_boolean||!0==g)||(g=c["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):c["$=="](k.get("Integer")))!==t&&(!g.$$is_boolean||!0==g)||(g=c["$=="](k.get("Float"))?k.get("Float")["$==="](this):c["$=="](k.get("Float")))!==t&&(!g.$$is_boolean||!0==g)?!0:a.find_super_dispatcher(this,
"instance_of?",f,e).apply(this,b)});a.defn(g,"$lcm",function(a){var c;(c=k.get("Integer")["$==="](a))!==t&&(!c.$$is_boolean||!0==c)||this.$raise(k.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(g,"magnitude","abs");a.alias(g,"modulo","%");a.defn(g,"$next",function(){return this+1});a.defn(g,"$nonzero?",function(){return 0==this?t:this});a.defn(g,"$numerator",c=function(){var f=w.call(arguments,0),b,g,k=c.$$p;c.$$p=null;return(b=!1!==(g=this["$nan?"]())&&
g!==t?g:this["$infinite?"]())!==t&&(!b.$$is_boolean||!0==b)?this:a.find_super_dispatcher(this,"numerator",c,k).apply(this,f)});a.defn(g,"$odd?",function(){return 0!==this%2});a.defn(g,"$ord",function(){return this});a.defn(g,"$pred",function(){return this-1});a.defn(g,"$quo",v=function(c){var f=w.call(arguments,0),b,g=v.$$p;v.$$p=null;return(b=k.get("Integer")["$==="](this))!==t&&(!b.$$is_boolean||!0==b)?a.find_super_dispatcher(this,"quo",v,g).apply(this,f):l(this,c)});a.defn(g,"$rationalize",function(c){var f,
b=t,g=t;1<arguments.length&&this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return(f=k.get("Integer")["$==="](this))!==t&&(!f.$$is_boolean||!0==f)?k.get("Rational").$new(this,1):(f=this["$infinite?"]())!==t&&(!f.$$is_boolean||!0==f)?this.$raise(k.get("FloatDomainError"),"Infinity"):(f=this["$nan?"]())!==t&&(!f.$$is_boolean||!0==f)?this.$raise(k.get("FloatDomainError"),"NaN"):(f=null==c)!==t&&(!f.$$is_boolean||!0==f)?(f=a.to_ary(k.get("Math").$frexp(this)),
b=null==f[0]?t:f[0],g=null==f[1]?t:f[1],b=k.get("Math").$ldexp(b,k.get("Float").$$scope.get("MANT_DIG")).$to_i(),g=h(g,k.get("Float").$$scope.get("MANT_DIG")),k.get("Rational").$new(e(2,b),1["$<<"](h(1,g))).$rationalize(k.get("Rational").$new(1,1["$<<"](h(1,g))))):this.$to_r().$rationalize(c)});a.defn(g,"$round",function(c){var f,b,g=t;if((f=k.get("Integer")["$==="](this))!==t&&(!f.$$is_boolean||!0==f)){if((f=null==c)!==t&&(!f.$$is_boolean||!0==f))return this;(f=(b=k.get("Float")["$==="](c),!1!==
b&&b!==t?c["$infinite?"]():b))!==t&&(!f.$$is_boolean||!0==f)&&this.$raise(k.get("RangeError"),"Infinity");c=k.get("Opal")["$coerce_to!"](c,k.get("Integer"),"to_int");r(c,k.get("Integer").$$scope.get("MIN"))&&this.$raise(k.get("RangeError"),"out of bounds");if((f=0<=c)!==t&&(!f.$$is_boolean||!0==f))return this;c=c["$-@"]();if(0.415241*c-0.125>this.$size())return 0;c=Math.pow(10,c);var e=Math.floor((Math.abs(e)+c/2)/c)*c;return 0>this?-e:e}(f=(b=this["$nan?"](),!1!==b&&b!==t?null==c:b))!==t&&(!f.$$is_boolean||
!0==f)&&this.$raise(k.get("FloatDomainError"),"NaN");c=k.get("Opal")["$coerce_to!"](c||0,k.get("Integer"),"to_int");if("number"===typeof c?0>=c:c["$<="](0))(f=this["$nan?"]())!==t&&(!f.$$is_boolean||!0==f)?this.$raise(k.get("RangeError"),"NaN"):(f=this["$infinite?"]())!==t&&(!f.$$is_boolean||!0==f)&&this.$raise(k.get("FloatDomainError"),"Infinity");else{if(c["$=="](0))return Math.round(this);if((f=!1!==(b=this["$nan?"]())&&b!==t?b:this["$infinite?"]())!==t&&(!f.$$is_boolean||!0==f))return this}f=
a.to_ary(k.get("Math").$frexp(this));g=null==f[1]?t:f[1];e=h(n(k.get("Float").$$scope.get("DIG"),2),m(g,0)?l(g,4):h(l(g,3),1));return("number"===typeof c&&"number"===typeof e?c>=e:c["$>="](e))?this:r(c,(m(g,0)?n(l(g,3),1):l(g,4))["$-@"]())?0:Math.round(this*Math.pow(10,c))/Math.pow(10,c)});a.defn(g,"$step",G=function(a,c){var f,b=G.$$p||t;null==c&&(c=1);G.$$p=null;if(!(!1!==b&&b!==t))return this.$enum_for("step",a,c);(f=0==c)!==t&&(!f.$$is_boolean||!0==f)&&this.$raise(k.get("ArgumentError"),"step cannot be 0");
f=this;if(Infinity===a||-Infinity===a)return b(f),this;if(0<c)for(;f<=a;)b(f),f+=c;else for(;f>=a;)b(f),f+=c;return this});a.alias(g,"succ","next");a.defn(g,"$times",C=function(){var a=C.$$p||t;C.$$p=null;if(!(!1!==a&&a!==t))return this.$enum_for("times");for(var c=0;c<this;c++)if(a(c)===b)return b.$v;return this});a.defn(g,"$to_f",function(){return this});a.defn(g,"$to_i",function(){return parseInt(this,10)});a.alias(g,"to_int","to_i");a.defn(g,"$to_r",function(){var c,f=t,b=t;if((c=k.get("Integer")["$==="](this))!==
t&&(!c.$$is_boolean||!0==c))return k.get("Rational").$new(this,1);c=a.to_ary(k.get("Math").$frexp(this));f=null==c[0]?t:c[0];b=null==c[1]?t:c[1];f=k.get("Math").$ldexp(f,k.get("Float").$$scope.get("MANT_DIG")).$to_i();b=h(b,k.get("Float").$$scope.get("MANT_DIG"));return e(f,k.get("Float").$$scope.get("RADIX")["$**"](b)).$to_r()});a.defn(g,"$to_s",function(a){var c,f;null==a&&(a=10);(c=!1!==(f=r(a,2))&&f!==t?f:m(a,36))!==t&&(!c.$$is_boolean||!0==c)&&this.$raise(k.get("ArgumentError"),"base must be between 2 and 36");
return this.toString(a)});a.alias(g,"truncate","to_i");a.alias(g,"inspect","to_s");a.defn(g,"$divmod",I=function(c){var f=w.call(arguments,0),b,g,e=I.$$p;I.$$p=null;return(b=!1!==(g=this["$nan?"]())&&g!==t?g:c["$nan?"]())!==t&&(!b.$$is_boolean||!0==b)?this.$raise(k.get("FloatDomainError"),"NaN"):(b=this["$infinite?"]())!==t&&(!b.$$is_boolean||!0==b)?this.$raise(k.get("FloatDomainError"),"Infinity"):a.find_super_dispatcher(this,"divmod",I,e).apply(this,f)});a.defn(g,"$upto",E=function(a){var c,f,g=
E.$$p||t;E.$$p=null;if(g===t)return(c=this.$enum_for,c.$$p=(f=function(){var c=f.$$s||this,b;(b=k.get("Numeric")["$==="](a))!==t&&(!b.$$is_boolean||!0==b)||c.$raise(k.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return r(a,c)?0:n(h(a,c),1)},f.$$s=this,f),c).call(this,"upto",a);a.$$is_number||this.$raise(k.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=a;c++)if(g(c)===b)return b.$v;return this});a.defn(g,"$zero?",
function(){return 0==this});a.defn(g,"$size",function(){return 4});a.defn(g,"$nan?",function(){return isNaN(this)});a.defn(g,"$finite?",function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)});a.defn(g,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:t});a.defn(g,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(g,"$negative?",function(){return-Infinity==this||0>1/this}),t)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));
(function(b,$super){function e(){}var g=e=z(b,$super,"Integer",e),k=g.$$scope;a.defs(g,"$===",function(a){return!a.$$is_number?!1:0===a%1});a.cdecl(k,"MAX",Math.pow(2,30)-1);return a.cdecl(k,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(b,$super){function e(){}var g=e=z(b,$super,"Float",e),k=g.$$scope,d;a.defs(g,"$===",function(a){return!!a.$$is_number});a.cdecl(k,"INFINITY",Infinity);a.cdecl(k,"MAX",Number.MAX_VALUE);a.cdecl(k,"MIN",Number.MIN_VALUE);a.cdecl(k,"NAN",NaN);a.cdecl(k,
"DIG",15);a.cdecl(k,"MANT_DIG",53);a.cdecl(k,"RADIX",2);return(d="undefined"!==typeof Number.EPSILON)!==t&&(!d.$$is_boolean||!0==d)?a.cdecl(k,"EPSILON",Number.EPSILON):a.cdecl(k,"EPSILON",2.220446049250313E-16)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var n=a.top,h=a.nil,l=a.breaker,e=a.slice,d=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));n.$require("corelib/enumerable");return function(n,
$super){function w(){}var z=w=d(n,$super,"Range",w),u=z.$$proto,p=z.$$scope,q,g,k;u.begin=u.exclude=u.end=h;z.$include(p.get("Enumerable"));u.$$is_range=!0;z.$attr_reader("begin","end");a.defn(z,"$initialize",function(a,g,k){var f;null==k&&(k=!1);(f=a["$<=>"](g))!==h&&(!f.$$is_boolean||!0==f)||this.$raise(p.get("ArgumentError"));this.begin=a;this.end=g;return this.exclude=k});a.defn(z,"$==",function(a){return!a.$$is_range?!1:this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end});a.defn(z,
"$===",function(a){return this["$include?"](a)});a.defn(z,"$cover?",function(a){var g;return m(this.begin,a)?(g=this.exclude)!==h&&(!g.$$is_boolean||!0==g)?r(a,this.end):m(a,this.end):m(this.begin,a)});a.defn(z,"$each",q=function(){var g,k,e=q.$$p||h,f=h,c=h;q.$$p=null;if(e===h)return this.$enum_for("each");f=this.begin;for(c=this.end;r(f,c);){if(a.yield1(e,f)===l)return l.$v;f=f.$succ()}return(g=(k=this.exclude["$!"](),!1!==k&&k!==h?f["$=="](c):k))!==h&&(!g.$$is_boolean||!0==g)&&a.yield1(e,f)===
l?l.$v:this});a.defn(z,"$eql?",function(a){var g,k;return!((g=p.get("Range")["$==="](a))!==h&&(!g.$$is_boolean||!0==g))?!1:(g=(k=this.exclude["$==="](a["$exclude_end?"]()),!1!==k&&k!==h?this.begin["$eql?"](a.$begin()):k),!1!==g&&g!==h?this.end["$eql?"](a.$end()):g)});a.defn(z,"$exclude_end?",function(){return this.exclude});a.alias(z,"first","begin");a.alias(z,"include?","cover?");a.alias(z,"last","end");a.defn(z,"$max",g=function(){var k=e.call(arguments,0),d=g.$$p,p=d||h;g.$$p=null;return p!==h?
a.find_super_dispatcher(this,"max",g,d).apply(this,k):this.exclude?this.end-1:this.end});a.alias(z,"member?","cover?");a.defn(z,"$min",k=function(){var g=e.call(arguments,0),d=k.$$p,p=d||h;k.$$p=null;return p!==h?a.find_super_dispatcher(this,"min",k,d).apply(this,g):this.begin});a.alias(z,"member?","include?");a.defn(z,"$size",function(){var a,g,k=h,f=h,c=h,k=this.begin,f=this.end;if((a=this.exclude)!==h&&(!a.$$is_boolean||!0==a))f="number"===typeof f?f-1:f["$-"](1);if(!((a=(g=p.get("Numeric")["$==="](k),
!1!==g&&g!==h?p.get("Numeric")["$==="](f):g))!==h&&(!a.$$is_boolean||!0==a)))return h;if(r(f,k))return 0;c=p.get("Float").$$scope.get("INFINITY");return(a=!1!==(g=c["$=="](k.$abs()))&&g!==h?g:f.$abs()["$=="](c))!==h&&(!a.$$is_boolean||!0==a)?c:(Math.abs(f-k)+1).$to_i()});a.defn(z,"$step",function(a){return this.$raise(p.get("NotImplementedError"))});a.defn(z,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(z,"inspect","to_s")}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.breaker,n=a.slice,h=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(l,$super){function d(){}var t=d=h(l,$super,"Proc",d),b=t.$$proto,w=t.$$scope,z,u;b.$$is_proc=!0;b.$$is_lambda=!1;a.defs(t,"$new",z=function(){var a=z.$$p||m;z.$$p=null;!1!==a&&a!==m||this.$raise(w.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(t,"$call",u=function(){var b=u.$$p||m,d=
arguments.length-0;0>d&&(d=0);for(var g=Array(d),k=0;k<d;k++)g[k]=arguments[k+0];u.$$p=null;b!==m&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,g):a.yieldX(this,g);return b===r?r.$v:b});a.alias(t,"[]","call");a.alias(t,"===","call");a.alias(t,"yield","call");a.defn(t,"$to_proc",function(){return this});a.defn(t,"$lambda?",function(){return!!this.$$is_lambda});a.defn(t,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(t,"$source_location",function(){return m});
a.defn(t,"$binding",function(){this.$$is_curried&&this.$raise(w.get("ArgumentError"),"Can't create Binding");return m});a.defn(t,"$parameters",function(){return this.$$is_curried?[["rest"]]:m});a.defn(t,"$curry",function(a){function b(){var k=n.call(arguments),d=k.length;d>a&&(g.$$is_lambda&&!g.$$is_curried)&&g.$raise(w.get("ArgumentError"),"wrong number of arguments ("+d+" for "+a+")");if(d>=a)return g.$call.apply(g,k);d=function(){return b.apply(null,k.concat(n.call(arguments)))};d.$$is_lambda=
g.$$is_lambda;d.$$is_curried=!0;return d}var g=this;void 0===a?a=g.length:(a=w.get("Opal")["$coerce_to!"](a,w.get("Integer"),"to_int"),g.$$is_lambda&&a!==g.length&&g.$raise(w.get("ArgumentError"),"wrong number of arguments ("+a+" for "+g.length+")"));b.$$is_lambda=g.$$is_lambda;b.$$is_curried=!0;return b});a.defn(t,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},g;for(g in this)this.hasOwnProperty(g)&&(b[g]=this[g]);return b});return a.alias(t,"clone",
"dup")}(a.base,Function)};
Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.slice,n=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(h,$super){function e(){}var d=e=n(h,$super,"Method",e),t=d.$$proto,b=d.$$scope,w;t.method=t.receiver=t.owner=t.name=m;d.$attr_reader("owner","receiver","name");a.defn(d,"$initialize",function(a,b,e){this.receiver=a;this.owner=a.$class();this.name=e;return this.method=b});a.defn(d,"$arity",function(){return this.method.$arity()});
a.defn(d,"$call",w=function(){var a=w.$$p||m,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),d=0;d<b;d++)e[d]=arguments[d+0];w.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,e)});a.alias(d,"[]","call");a.defn(d,"$unbind",function(){return b.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(d,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,r.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(d,"$inspect",function(){return"#<Method: "+
this.receiver.$class()+"#"+this.name+">"}),m)&&"inspect"})(a.base,null);return function(h,$super){function e(){}var d=e=n(h,$super,"UnboundMethod",e),r=d.$$proto,b=d.$$scope;r.method=r.name=r.owner=m;d.$attr_reader("owner","name");a.defn(d,"$initialize",function(a,b,e){this.owner=a;this.method=b;return this.name=e});a.defn(d,"$arity",function(){return this.method.$arity()});a.defn(d,"$bind",function(a){return b.get("Method").$new(a,this.method,this.name)});return(a.defn(d,"$inspect",function(){return"#<UnboundMethod: "+
this.owner.$name()+"#"+this.name+">"}),m)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.gvars,n=a.hash2;a.add_stubs(["$new"]);r["&"]=r["~"]=r["`"]=r["'"]=m;r.LOADED_FEATURES=r['"']=a.loaded_features;r.LOAD_PATH=r[":"]=[];r["/"]="\n";r[","]=m;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",n([],{}));r.VERBOSE=!1;r.DEBUG=!1;return r.SAFE=0};
Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var m=a.top;a.add_stubs(["$require"]);m.$require("opal/base");m.$require("corelib/nil");m.$require("corelib/boolean");m.$require("corelib/string");m.$require("corelib/comparable");m.$require("corelib/enumerable");m.$require("corelib/enumerator");m.$require("corelib/array");m.$require("corelib/hash");m.$require("corelib/number");m.$require("corelib/range");m.$require("corelib/proc");m.$require("corelib/method");m.$require("corelib/regexp");
return m.$require("corelib/variables")};
Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.slice,n=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(h,$super){function e(){}var d=e=n(h,$super,"Array",e),r=d.$$scope;return(a.defs(d,"$inherited",function(a){var e=m,e=r.get("Class").$new(r.get("Array").$$scope.get("Wrapper"));a.$$proto=e.$$proto;a.$$proto.$$class=
a;a.$$alloc=e.$$alloc;a.$$parent=r.get("Array").$$scope.get("Wrapper");a.$allocate=e.$allocate;a.$new=e.$new;a["$[]"]=e["$[]"]}),m)&&"inherited"})(a.base,null);return function(h,$super){function e(){}var d=e=n(h,$super,"Wrapper",e),t=d.$$proto,b=d.$$scope,w,z,u,p,q;t.literal=m;t.$$is_array=!0;a.defs(d,"$allocate",w=function(b){var k=m;null==b&&(b=[]);w.$$p=null;k=a.find_super_dispatcher(this,"allocate",w,null,e).apply(this,[]);k.literal=b;return k});a.defs(d,"$new",z=function(){var b,k,e=z.$$p||m,
d=m,d=arguments.length-0;0>d&&(d=0);for(var h=Array(d),f=0;f<d;f++)h[f]=arguments[f+0];z.$$p=null;d=this.$allocate();(b=(k=d).$initialize,b.$$p=e.$to_proc(),b).apply(k,a.to_a(h));return d});a.defs(d,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.$allocate(b)});a.defn(d,"$initialize",u=function(){var g,e,d=u.$$p||m,y=arguments.length-0;0>y&&(y=0);for(var h=Array(y),f=0;f<y;f++)h[f]=arguments[f+0];u.$$p=null;return this.literal=(g=
(e=b.get("Array")).$new,g.$$p=d.$to_proc(),g).apply(e,a.to_a(h))});a.defn(d,"$method_missing",p=function(){var b,e,d=p.$$p||m,y=m,y=arguments.length-0;0>y&&(y=0);for(var h=Array(y),f=0;f<y;f++)h[f]=arguments[f+0];p.$$p=null;y=(b=(e=this.literal).$__send__,b.$$p=d.$to_proc(),b).apply(e,a.to_a(h));return(b=y===this.literal)!==m&&(!b.$$is_boolean||!0==b)?this:y});a.defn(d,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(d,"$respond_to?",q=function(b){var e=r.call(arguments,
0),d,y=q.$$p;q.$$p=null;return!1!==(d=a.find_super_dispatcher(this,"respond_to?",q,y).apply(this,e))&&d!==m?d:this.literal["$respond_to?"](b)});a.defn(d,"$==",function(a){return this.literal["$=="](a)});a.defn(d,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(d,"$to_a",function(){return this.literal});a.defn(d,"$to_ary",function(){return this});a.defn(d,"$inspect",function(){return this.literal.$inspect()});a.defn(d,"$hash",function(){return this.literal.$hash()});a.defn(d,"$*",function(a){a=
"number"===typeof this.literal&&"number"===typeof a?this.literal*a:this.literal["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(d,"$[]",function(a,b){var e=this.literal.$slice(a,b);return e.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(e):e});a.alias(d,"slice","[]");a.defn(d,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(d,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(d,"$-",function(a){return"number"===
typeof this.literal&&"number"===typeof a?this.literal-a:this.literal["$-"](a)});return(a.defn(d,"$+",function(a){return"number"===typeof this.literal&&"number"===typeof a?this.literal+a:this.literal["$+"](a)}),m)&&"+"}(a.get("Array"),null)};
Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var m=a.top,r=a.nil,n=a.slice,h=a.klass,l=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));m.$require("corelib/string");(function(e,$super){function m(){}var b=m=h(e,$super,"String",m),l=b.$$scope;return(a.defs(b,"$inherited",function(a){var b=r,b=l.get("Class").$new(l.get("String").$$scope.get("Wrapper"));
a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=l.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),r)&&"inherited"})(a.base,null);return function(e,$super){function m(){}var b=m=h(e,$super,"Wrapper",m),w=b.$$proto,z,u,p,q,g,k;w.literal=r;w.$$is_string=!0;a.defs(b,"$allocate",z=function(b){var g=r;null==b&&(b="");z.$$p=null;g=a.find_super_dispatcher(this,"allocate",z,null,m).apply(this,[]);g.literal=b;return g});a.defs(b,"$new",u=function(){var b,
g,e=u.$$p||r,f=r,f=arguments.length-0;0>f&&(f=0);for(var c=Array(f),k=0;k<f;k++)c[k]=arguments[k+0];u.$$p=null;f=this.$allocate();(b=(g=f).$initialize,b.$$p=e.$to_proc(),b).apply(g,a.to_a(c));return f});a.defs(b,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];return this.$allocate(b)});a.defn(b,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(b,"$method_missing",p=function(){var b,g,e=p.$$p||r,f=r,f=arguments.length-0;
0>f&&(f=0);for(var c=Array(f),k=0;k<f;k++)c[k]=arguments[k+0];p.$$p=null;f=(b=(g=this.literal).$__send__,b.$$p=e.$to_proc(),b).apply(g,a.to_a(c));return(b=null!=f.$$is_string)!==r&&(!b.$$is_boolean||!0==b)?(b=f==this.literal)!==r&&(!b.$$is_boolean||!0==b)?this:this.$class().$allocate(f):f});a.defn(b,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(b,"$respond_to?",q=function(b){var g=n.call(arguments,0),e,f=q.$$p;q.$$p=null;return!1!==(e=a.find_super_dispatcher(this,
"respond_to?",q,f).apply(this,g))&&e!==r?e:this.literal["$respond_to?"](b)});a.defn(b,"$==",function(a){return this.literal["$=="](a)});a.alias(b,"eql?","==");a.alias(b,"===","==");a.defn(b,"$to_s",function(){return this.literal});a.alias(b,"to_str","to_s");a.defn(b,"$inspect",function(){return this.literal.$inspect()});a.defn(b,"$+",function(a){return"number"===typeof this.literal&&"number"===typeof a?this.literal+a:this.literal["$+"](a)});a.defn(b,"$*",function(a){a="number"===typeof this.literal&&
"number"===typeof a?this.literal*a:this.literal["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(b,"$split",function(a,b){var g,f,c;return(g=(f=this.literal.$split(a,b)).$map,g.$$p=(c=function(a){var f=c.$$s||this;null==a&&(a=r);return f.$class().$allocate(a)},c.$$s=this,c),g).call(f)});a.defn(b,"$replace",function(a){return this.literal=a});a.defn(b,"$each_line",g=function(b){var e,k,f,c=g.$$p||r;null==l["/"]&&(l["/"]=r);null==b&&(b=l["/"]);g.$$p=null;return c===r?this.$enum_for("each_line",
b):(e=(k=this.literal).$each_line,e.$$p=(f=function(b){var g=f.$$s||this,e;null==b&&(b=r);return e=a.yield1(c,g.$class().$allocate(b)),e},f.$$s=this,f),e).call(k,b)});a.defn(b,"$lines",k=function(a){var b,g=k.$$p||r,f=r;null==l["/"]&&(l["/"]=r);null==a&&(a=l["/"]);k.$$p=null;f=(b=this.$each_line,b.$$p=g.$to_proc(),b).call(this,a);return!1!==g&&g!==r?this:f.$to_a()});return(a.defn(b,"$%",function(a){return this.literal["$%"](a)}),r)&&"%"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var r,n,h,l,e,d,t,b=a.top,w=a.nil,z=a.breaker,u=a.klass,p=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
b.$require("corelib/string");(function(b,$super){function e(){}var d=e=u(b,$super,"Encoding",e),y=d.$$proto,h=d.$$scope,f;y.ascii=y.dummy=y.name=w;a.defs(d,"$register",f=function(a,b){var e,k,d,s,x=f.$$p||w,B=w,y=w;null==b&&(b=p([],{}));f.$$p=null;B=m([a],!1!==(e=b["$[]"]("aliases"))&&e!==w?e:[]);y=(e=(k=h.get("Class")).$new,e.$$p=x.$to_proc(),e).call(k,this).$new(a,B,!1!==(e=b["$[]"]("ascii"))&&e!==w?e:!1,!1!==(e=b["$[]"]("dummy"))&&e!==w?e:!1);return(e=(d=B).$each,e.$$p=(s=function(a){var c=s.$$s||
this;null==a&&(a=w);return c.$const_set(a.$sub("-","_"),y)},s.$$s=this,s),e).call(d)});a.defs(d,"$find",function(c){try{var f,b,e,k=w,k=c.$upcase();(f=(b=this.$constants()).$each,f.$$p=(e=function(c){var f=e.$$s||this,b,d,v=w;null==c&&(c=w);v=f.$const_get(c);if((b=h.get("Encoding")["$==="](v))!==w&&(!b.$$is_boolean||!0==b)&&(b=!1!==(d=v.$name()["$=="](k))&&d!==w?d:v.$names()["$include?"](k))!==w&&(!b.$$is_boolean||!0==b))a.ret(v);else return w},e.$$s=this,e),f).call(b);return this.$raise(h.get("ArgumentError"),
"unknown encoding name - "+c)}catch(d){if(d===a.returner)return d.$v;throw d;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(d));d.$attr_reader("name","names");a.defn(d,"$initialize",function(a,f,b,e){this.name=a;this.names=f;this.ascii=b;return this.dummy=e});a.defn(d,"$ascii_compatible?",function(){return this.ascii});a.defn(d,"$dummy?",function(){return this.dummy});a.defn(d,"$to_s",function(){return this.name});a.defn(d,"$inspect",function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)!==w&&(!a.$$is_boolean||!0==a)?" (dummy)":w)+">"});a.defn(d,"$each_byte",function(){return this.$raise(h.get("NotImplementedError"))});a.defn(d,"$getbyte",function(){return this.$raise(h.get("NotImplementedError"))});a.defn(d,"$bytesize",function(){return this.$raise(h.get("NotImplementedError"))});(function(a,$super){function f(){}f=u(a,$super,"EncodingError",f);return w})(h.base,h.get("StandardError"));return function(a,$super){function f(){}f=u(a,$super,"CompatibilityError",
f);return w}(h.base,h.get("EncodingError"))})(a.base,null);(r=(n=a.get("Encoding")).$register,r.$$p=(h=function(){var b=h.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,d=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++){var c=b.charCodeAt(h);if(127>=c)(e=a.yield1(d,c))===z?z.$v:e;else for(var c=encodeURIComponent(b.charAt(h)).substr(1).split("%"),v=0,p=c.length;v<p;v++)(e=a.yield1(d,parseInt(c[v],16)))===z?z.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&
"bytesize"},h.$$s=b,h),r).call(n,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(r=(l=a.get("Encoding")).$register,r.$$p=(e=function(){var b=e.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,d=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++){var c=b.charCodeAt(h);(e=a.yield1(d,c&255))===z?z.$v:e;(e=a.yield1(d,c>>8))===z?z.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&"bytesize"},e.$$s=b,e),r).call(l,"UTF-16LE");(r=(d=a.get("Encoding")).$register,
r.$$p=(t=function(){var b=t.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,d=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++)(e=a.yield1(d,b.charCodeAt(h)&255))===z?z.$v:e});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&"bytesize"},t.$$s=b,t),r).call(d,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function e(){}var d=e=u(b,$super,"String",e),h=d.$$scope,p;d.$$proto.encoding=w;String.prototype.encoding=h.get("Encoding").$$scope.get("UTF_16LE");
a.defn(d,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(d,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(d,"$each_byte",p=function(){var a,c,b=p.$$p||w;p.$$p=null;if(b===w)return this.$enum_for("each_byte");(a=(c=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(c,this);return this});a.defn(d,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(d,"$encoding",function(){return this.encoding});a.defn(d,"$force_encoding",function(a){var c;a=h.get("Opal")["$coerce_to!"](a,
h.get("String"),"to_str");a=h.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(c=a["$nil?"]())!==w&&(!c.$$is_boolean||!0==c)&&this.$raise(h.get("ArgumentError"),"unknown encoding name - "+a);c=new String(this);c.encoding=a;return c});return(a.defn(d,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),w)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(n){n=r(n,"Math");var h=n.$$scope,l;a.cdecl(h,"E",Math.E);a.cdecl(h,"PI",Math.PI);a.cdecl(h,"DomainError",h.get("Class").$new(h.get("StandardError")));a.defs(n,"$checked",function(a){var d=arguments.length-1;0>d&&(d=0);for(var m=Array(d),b=0;b<d;b++)m[b]=
arguments[b+1];if(isNaN(m[0])||2==m.length&&isNaN(m[1]))return NaN;d=Math[a].apply(null,m);isNaN(d)&&this.$raise(h.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return d});a.defs(n,"$float!",function(e){try{return this.$Float(e)}catch(d){if(a.rescue(d,[h.get("ArgumentError")]))try{return this.$raise(h.get("Opal").$type_error(e,h.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw d;}});a.defs(n,"$integer!",function(e){try{return this.$Integer(e)}catch(d){if(a.rescue(d,
[h.get("ArgumentError")]))try{return this.$raise(h.get("Opal").$type_error(e,h.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw d;}});n.$module_function();a.defn(n,"$acos",function(a){return h.get("Math").$checked("acos",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.acosh)!==m&&(!l.$$is_boolean||!0==l)))Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(n,"$acosh",function(a){return h.get("Math").$checked("acosh",h.get("Math")["$float!"](a))});
a.defn(n,"$asin",function(a){return h.get("Math").$checked("asin",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.asinh)!==m&&(!l.$$is_boolean||!0==l)))Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(n,"$asinh",function(a){return h.get("Math").$checked("asinh",h.get("Math")["$float!"](a))});a.defn(n,"$atan",function(a){return h.get("Math").$checked("atan",h.get("Math")["$float!"](a))});a.defn(n,"$atan2",function(a,d){return h.get("Math").$checked("atan2",h.get("Math")["$float!"](a),
h.get("Math")["$float!"](d))});if(!((l="undefined"!==typeof Math.atanh)!==m&&(!l.$$is_boolean||!0==l)))Math.atanh=function(a){return 0.5*Math.log((1+a)/(1-a))};a.defn(n,"$atanh",function(a){return h.get("Math").$checked("atanh",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.cbrt)!==m&&(!l.$$is_boolean||!0==l)))Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var d=a,h=0;0.125>d;)d*=8,h--;for(;1<d;)d*=0.125,h++;for(d=(-0.46946116*d+1.072302)*d+0.3812513;0>h;)d*=
0.5,h++;for(;0<h;)d*=2,h--;d=2/3*d+1/3*a/(d*d);d=2/3*d+1/3*a/(d*d);d=2/3*d+1/3*a/(d*d);return 2/3*d+1/3*a/(d*d)};a.defn(n,"$cbrt",function(a){return h.get("Math").$checked("cbrt",h.get("Math")["$float!"](a))});a.defn(n,"$cos",function(a){return h.get("Math").$checked("cos",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.cosh)!==m&&(!l.$$is_boolean||!0==l)))Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(n,"$cosh",function(a){return h.get("Math").$checked("cosh",h.get("Math")["$float!"](a))});
if(!((l="undefined"!==typeof Math.erf)!==m&&(!l.$$is_boolean||!0==l)))Math.erf=function(a){var d=1;0>a&&(d=-1);a=Math.abs(a);var h=1/(1+0.3275911*a);a=1-((((1.061405429*h+-1.453152027)*h+1.421413741)*h+-0.284496736)*h+0.254829592)*h*Math.exp(-a*a);return d*a};a.defn(n,"$erf",function(a){return h.get("Math").$checked("erf",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.erfc)!==m&&(!l.$$is_boolean||!0==l)))Math.erfc=function(a){var d=Math.abs(a),h=1/(0.5*d+1),d=h*Math.exp(-d*d-1.26551223+
h*(h*(h*(h*(h*(h*(h*(h*(0.17087277*h+-0.82215223)+1.48851587)+-1.13520398)+0.27886807)+-0.18628806)+0.09678418)+0.37409196)+1.00002368));return 0>a?2-d:d};a.defn(n,"$erfc",function(a){return h.get("Math").$checked("erfc",h.get("Math")["$float!"](a))});a.defn(n,"$exp",function(a){return h.get("Math").$checked("exp",h.get("Math")["$float!"](a))});a.defn(n,"$frexp",function(a){a=h.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var d=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,
d),d]});a.defn(n,"$gamma",function(a){a=h.get("Math")["$float!"](a);var d,m,b,l;b=[0.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-0.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;(-1===a||-Infinity===a)&&this.$raise(h.get("DomainError"),
'Numerical argument is out of domain - "gamma"');if(h.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;m=a-2;for(a-=1;1<m;)a*=m,m--;0==a&&(a=1);return a}if(0.5>a)return Math.PI/(Math.sin(Math.PI*a)*h.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return m=a*a,d=m*a,b=d*a,l=b*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*m)-139/(51840*d)-571/(2488320*b)+163879/(209018880*l)+5246819/(75246796800*
l*a));a-=1;m=b[0];for(d=1;d<b.length;++d)m+=b[d]/(a+d);d=a+4.7421875+0.5;return Math.sqrt(2*Math.PI)*Math.pow(d,a+0.5)*Math.exp(-d)*m});if(!((l="undefined"!==typeof Math.hypot)!==m&&(!l.$$is_boolean||!0==l)))Math.hypot=function(a,d){return Math.sqrt(a*a+d*d)};a.defn(n,"$hypot",function(a,d){return h.get("Math").$checked("hypot",h.get("Math")["$float!"](a),h.get("Math")["$float!"](d))});a.defn(n,"$ldexp",function(a,d){a=h.get("Math")["$float!"](a);d=h.get("Math")["$integer!"](d);isNaN(d)&&this.$raise(h.get("RangeError"),
"float NaN out of range of integer");return a*Math.pow(2,d)});a.defn(n,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(h.get("Math").$gamma(a))),0>h.get("Math").$gamma(a)?-1:1]});a.defn(n,"$log",function(a,d){var l;(l=h.get("String")["$==="](a))!==m&&(!l.$$is_boolean||!0==l)&&this.$raise(h.get("Opal").$type_error(a,h.get("Float")));if((l=null==d)!==m&&(!l.$$is_boolean||!0==l))return h.get("Math").$checked("log",h.get("Math")["$float!"](a));(l=h.get("String")["$==="](d))!==m&&(!l.$$is_boolean||
!0==l)&&this.$raise(h.get("Opal").$type_error(d,h.get("Float")));l=h.get("Math").$checked("log",h.get("Math")["$float!"](a));var b=h.get("Math").$checked("log",h.get("Math")["$float!"](d));return"number"===typeof l&&"number"===typeof b?l/b:l["$/"](b)});if(!((l="undefined"!==typeof Math.log10)!==m&&(!l.$$is_boolean||!0==l)))Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(n,"$log10",function(a){var d;(d=h.get("String")["$==="](a))!==m&&(!d.$$is_boolean||!0==d)&&this.$raise(h.get("Opal").$type_error(a,
h.get("Float")));return h.get("Math").$checked("log10",h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.log2)!==m&&(!l.$$is_boolean||!0==l)))Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(n,"$log2",function(a){var d;(d=h.get("String")["$==="](a))!==m&&(!d.$$is_boolean||!0==d)&&this.$raise(h.get("Opal").$type_error(a,h.get("Float")));return h.get("Math").$checked("log2",h.get("Math")["$float!"](a))});a.defn(n,"$sin",function(a){return h.get("Math").$checked("sin",h.get("Math")["$float!"](a))});
if(!((l="undefined"!==typeof Math.sinh)!==m&&(!l.$$is_boolean||!0==l)))Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(n,"$sinh",function(a){return h.get("Math").$checked("sinh",h.get("Math")["$float!"](a))});a.defn(n,"$sqrt",function(a){return h.get("Math").$checked("sqrt",h.get("Math")["$float!"](a))});a.defn(n,"$tan",function(a){var d;a=h.get("Math")["$float!"](a);return(d=a["$infinite?"]())!==m&&(!d.$$is_boolean||!0==d)?h.get("Float").$$scope.get("NAN"):h.get("Math").$checked("tan",
h.get("Math")["$float!"](a))});if(!((l="undefined"!==typeof Math.tanh)!==m&&(!l.$$is_boolean||!0==l)))Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(n,"$tanh",function(a){return h.get("Math").$checked("tanh",h.get("Math")["$float!"](a))})}(a.base)};
Opal.modules["corelib/complex"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function h(a,d){return"number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,d=a.klass,t=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
l.$require("corelib/numeric");(function(b,$super){function l(){}var t=l=d(b,$super,"Complex",l),p=t.$$proto,q=t.$$scope;p.real=p.imag=e;a.defs(t,"$rect",function(a,b){var d,h,p,f;null==b&&(b=0);(d=(h=(p=(f=q.get("Numeric")["$==="](a),!1!==f&&f!==e?a["$real?"]():f),!1!==p&&p!==e?q.get("Numeric")["$==="](b):p),!1!==h&&h!==e?b["$real?"]():h))!==e&&(!d.$$is_boolean||!0==d)||this.$raise(q.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(t));
a.defs(t,"$polar",function(a,b){var d,h,p,f;null==b&&(b=0);(d=(h=(p=(f=q.get("Numeric")["$==="](a),!1!==f&&f!==e?a["$real?"]():f),!1!==p&&p!==e?q.get("Numeric")["$==="](b):p),!1!==h&&h!==e?b["$real?"]():h))!==e&&(!d.$$is_boolean||!0==d)||this.$raise(q.get("TypeError"),"not a real");return this.$new(m(a,q.get("Math").$cos(b)),m(a,q.get("Math").$sin(b)))});t.$attr_reader("real","imag");a.defn(t,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(t,"$coerce",function(a){var b,
d;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?[a,this]:(b=(d=q.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?[q.get("Complex").$new(a,0),this]:this.$raise(q.get("TypeError"),""+a.$class()+" can't be coerced into Complex")});a.defn(t,"$==",function(a){var b,d;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):(b=(d=q.get("Numeric")["$==="](a),
!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)});a.defn(t,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(t,"$+",function(a){var b,d;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(r(this.real,a.$real()),r(this.imag,a.$imag())):(b=(d=q.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(r(this.real,
a),this.imag):this.$__coerced__("+",a)});a.defn(t,"$-",function(a){var b,d;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(n(this.real,a.$real()),n(this.imag,a.$imag())):(b=(d=q.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(n(this.real,a),this.imag):this.$__coerced__("-",a)});a.defn(t,"$*",function(a){var b,d;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(n(m(this.real,a.$real()),
m(this.imag,a.$imag())),r(m(this.real,a.$imag()),m(this.imag,a.$real()))):(b=(d=q.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(m(this.real,a),m(this.imag,a)):this.$__coerced__("*",a)});a.defn(t,"$/",function(a){var b,d,y,p,f;return(b=q.get("Complex")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)?(b=!1!==(d=!1!==(y=!1!==(p=(f=q.get("Number")["$==="](this.real),!1!==f&&f!==e?this.real["$nan?"]():f))&&p!==e?p:(f=q.get("Number")["$==="](this.imag),
!1!==f&&f!==e?this.imag["$nan?"]():f))&&y!==e?y:(p=q.get("Number")["$==="](a.$real()),!1!==p&&p!==e?a.$real()["$nan?"]():p))&&d!==e?d:(y=q.get("Number")["$==="](a.$imag()),!1!==y&&y!==e?a.$imag()["$nan?"]():y))!==e&&(!b.$$is_boolean||!0==b)?q.get("Complex").$new(q.get("Float").$$scope.get("NAN"),q.get("Float").$$scope.get("NAN")):h(m(this,a.$conj()),a.$abs2()):(b=(d=q.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))!==e&&(!b.$$is_boolean||!0==b)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):
this.$__coerced__("/",a)});a.defn(t,"$**",function(b){var d,s,p,l,f=e,c=e,v=e,G=e,C=e,G=v=c=f=C=f=e;if(b["$=="](0))return q.get("Complex").$new(1,0);if((d=q.get("Complex")["$==="](b))!==e&&(!d.$$is_boolean||!0==d))return d=a.to_ary(this.$polar()),f=null==d[0]?e:d[0],c=null==d[1]?e:d[1],v=b.$real(),G=b.$imag(),C=q.get("Math").$exp(n(m(v,q.get("Math").$log(f)),m(G,c))),f=r(m(c,v),m(G,q.get("Math").$log(f))),q.get("Complex").$polar(C,f);if((d=q.get("Integer")["$==="](b))!==e&&(!d.$$is_boolean||!0==d)){if("number"===
typeof b?0<b:b["$>"](0)){f=C=this;for(c=n(b,1);(s=c["$!="](0))!==e&&(!s.$$is_boolean||!0==s);){for(;(p=(l=a.to_ary(c.$divmod(2)),v=null==l[0]?e:l[0],G=null==l[1]?e:l[1],G["$=="](0)))!==e&&(!p.$$is_boolean||!0==p);)C=this.$Complex(n(m(C.$real(),C.$real()),m(C.$imag(),C.$imag())),m(m(2,C.$real()),C.$imag())),c=v;f=m(f,C);c=n(c,1)}return f}return h(q.get("Rational").$new(1,1),this)["$**"](b["$-@"]())}return(d=!1!==(s=q.get("Float")["$==="](b))&&s!==e?s:q.get("Rational")["$==="](b))!==e&&(!d.$$is_boolean||
!0==d)?(d=a.to_ary(this.$polar()),f=null==d[0]?e:d[0],c=null==d[1]?e:d[1],q.get("Complex").$polar(f["$**"](b),m(c,b))):this.$__coerced__("**",b)});a.defn(t,"$abs",function(){return q.get("Math").$hypot(this.real,this.imag)});a.defn(t,"$abs2",function(){return r(m(this.real,this.real),m(this.imag,this.imag))});a.defn(t,"$angle",function(){return q.get("Math").$atan2(this.imag,this.real)});a.alias(t,"arg","angle");a.defn(t,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});a.alias(t,
"conjugate","conj");a.defn(t,"$denominator",function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(t,"divide","/");a.defn(t,"$eql?",function(a){var b,d;return b=(d=q.get("Complex")["$==="](a),!1!==d&&d!==e?this.real.$class()["$=="](this.imag.$class()):d),!1!==b&&b!==e?this["$=="](a):b});a.defn(t,"$fdiv",function(a){var b;(b=q.get("Numeric")["$==="](a))!==e&&(!b.$$is_boolean||!0==b)||this.$raise(q.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return h(this,
a)});a.defn(t,"$hash",function(){return"Complex:"+this.real+":"+this.imag});a.alias(t,"imaginary","imag");a.defn(t,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(t,"magnitude","abs");a.defn(t,"$numerator",function(){var a=e,a=this.$denominator();return this.$Complex(m(this.real.$numerator(),h(a,this.real.$denominator())),m(this.imag.$numerator(),h(a,this.imag.$denominator())))});a.alias(t,"phase","arg");a.defn(t,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(t,"quo","/");
a.defn(t,"$rationalize",function(a){var b;1<arguments.length&&this.$raise(q.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))!==e&&(!b.$$is_boolean||!0==b)&&this.$raise(q.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(t,"$real?",function(){return!1});a.defn(t,"$rect",function(){return[this.real,this.imag]});a.alias(t,"rectangular","rect");a.defn(t,"$to_f",function(){this.imag["$=="](0)||
this.$raise(q.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()});a.defn(t,"$to_i",function(){this.imag["$=="](0)||this.$raise(q.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(t,"$to_r",function(){this.imag["$=="](0)||this.$raise(q.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(t,"$to_s",function(){var a,b,d,h=e,h=this.real.$inspect(),h=(a=!1!==(b=(d=q.get("Number")["$==="](this.imag),
!1!==d&&d!==e?this.imag["$nan?"]():d))&&b!==e?b:this.imag["$positive?"]())!==e&&(!a.$$is_boolean||!0==a)?r(h,"+"):r(h,"-"),h=r(h,this.imag.$abs().$inspect());if((a=(b=q.get("Number")["$==="](this.imag),!1!==b&&b!==e?!1!==(d=this.imag["$nan?"]())&&d!==e?d:this.imag["$infinite?"]():b))!==e&&(!a.$$is_boolean||!0==a))h=r(h,"*");return r(h,"i")});return a.cdecl(q,"I",t.$new(0,1))})(a.base,a.get("Numeric"));return function(b){b=t(b,"Kernel");var d=b.$$scope;a.defn(b,"$Complex",function(a,b){null==b&&(b=
e);return!1!==b&&b!==e?d.get("Complex").$new(a,b):d.get("Complex").$new(a,0)})}(a.base)};
Opal.modules["corelib/rational"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,d=a.nil,t=a.klass,
b=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));e.$require("corelib/numeric");(function(b,$super){function e(){}var p=e=t(b,$super,"Rational",e),q=p.$$proto,g=p.$$scope;q.num=q.den=d;a.defs(p,"$reduce",function(a,b){var e=d;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(g.get("ZeroDivisionError"),
"divided by 0");else if(m(b,0))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);e=a.$gcd(b);return this.$new(r(a,e),r(b,e))});a.defs(p,"$convert",function(a,b){var e,h,f;(e=!1!==(h=a["$nil?"]())&&h!==d?h:b["$nil?"]())!==d&&(!e.$$is_boolean||!0==e)&&this.$raise(g.get("TypeError"),"cannot convert nil into Rational");if((e=(h=g.get("Integer")["$==="](a),!1!==h&&h!==d?g.get("Integer")["$==="](b):h))!==d&&(!e.$$is_boolean||!0==e))return this.$reduce(a,b);if((e=!1!==(h=!1!==(f=g.get("Float")["$==="](a))&&
f!==d?f:g.get("String")["$==="](a))&&h!==d?h:g.get("Complex")["$==="](a))!==d&&(!e.$$is_boolean||!0==e))a=a.$to_r();if((e=!1!==(h=!1!==(f=g.get("Float")["$==="](b))&&f!==d?f:g.get("String")["$==="](b))&&h!==d?h:g.get("Complex")["$==="](b))!==d&&(!e.$$is_boolean||!0==e))b=b.$to_r();return(e=(h=b["$equal?"](1),!1!==h&&h!==d?g.get("Integer")["$==="](a)["$!"]():h))!==d&&(!e.$$is_boolean||!0==e)?g.get("Opal")["$coerce_to!"](a,g.get("Rational"),"to_r"):(e=(h=g.get("Numeric")["$==="](a),!1!==h&&h!==d?g.get("Numeric")["$==="](b):
h))!==d&&(!e.$$is_boolean||!0==e)?r(a,b):this.$reduce(a,b)});p.$attr_reader("numerator","denominator");a.defn(p,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(p,"$numerator",function(){return this.num});a.defn(p,"$denominator",function(){return this.den});a.defn(p,"$coerce",function(a){var b=d,b=a;return g.get("Rational")["$==="](b)?[a,this]:g.get("Integer")["$==="](b)?[a.$to_r(),this]:g.get("Float")["$==="](b)?[a,this.$to_f()]:d});a.defn(p,"$==",function(a){var b=d,b=a;return g.get("Rational")["$==="](b)?
this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):g.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):g.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(p,"$<=>",function(a){var b=d,b=a;return g.get("Rational")["$==="](b)?n(h(this.num,a.$denominator()),h(this.den,a.$numerator()))["$<=>"](0):g.get("Integer")["$==="](b)?n(this.num,h(this.den,a))["$<=>"](0):g.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):
this.$__coerced__("<=>",a)});a.defn(p,"$+",function(a){var b=d,e=b=d;b=a;g.get("Rational")["$==="](b)?(b=l(h(this.num,a.$denominator()),h(this.den,a.$numerator())),e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(l(this.num,h(a,this.den)),this.den):g.get("Float")["$==="](b)?l(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(p,"$-",function(a){var b=d,e=b=d;b=a;g.get("Rational")["$==="](b)?(b=n(h(this.num,a.$denominator()),h(this.den,a.$numerator())),
e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(n(this.num,h(a,this.den)),this.den):g.get("Float")["$==="](b)?n(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(p,"$*",function(a){var b=d,e=b=d;b=a;g.get("Rational")["$==="](b)?(b=h(this.num,a.$numerator()),e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(h(this.num,a),this.den):g.get("Float")["$==="](b)?h(this.$to_f(),a):this.$__coerced__("*",
a);return a});a.defn(p,"$/",function(a){var b=d,e=b=d;b=a;g.get("Rational")["$==="](b)?(b=h(this.num,a.$denominator()),e=h(this.den,a.$numerator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?a["$=="](0)?r(this.$to_f(),0):this.$Rational(this.num,h(this.den,a)):g.get("Float")["$==="](b)?r(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(p,"$**",function(a){var b,e=d,e=a;return g.get("Integer")["$==="](e)?(b=this["$=="](0)?m(a,0):this["$=="](0))!==d&&(!b.$$is_boolean||!0==b)?g.get("Float").$$scope.get("INFINITY"):
("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):m(a,0)?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):g.get("Float")["$==="](e)?this.$to_f()["$**"](a):g.get("Rational")["$==="](e)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?m(a,0)?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):
(b=this["$=="](0)?m(a,0):this["$=="](0))!==d&&(!b.$$is_boolean||!0==b)?this.$raise(g.get("ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)});a.defn(p,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(p,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(p,"divide","/");a.defn(p,"$floor",function(a){null==a&&(a=0);return a["$=="](0)?r(this.num["$-@"](),
this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(p,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(p,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(p,"quo","/");a.defn(p,"$rationalize",function(a){1<arguments.length&&this.$raise(g.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),d=n(this,b),b=l(this,b),e=0,f=1,c=1,v=0,h,p,m,E;;){m=d.$ceil();if("number"===typeof m&&"number"===
typeof b?m<=b:m["$<="](b))break;E=m-1;h=E*f+e;p=E*v+c;e=r(1,n(b,E));b=r(1,n(d,E));d=e;e=f;c=v;f=h;v=p}return this.$Rational(m*f+e,m*v+c)});a.defn(p,"$round",function(a){var b=d,g=d,b=d;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=l(h(this.num.$abs(),2),this.den);g=h(this.den,2);b=r(b,g).$truncate();return m(this.num,0)?b["$-@"]():b});a.defn(p,"$to_f",function(){return r(this.num,this.den)});a.defn(p,"$to_i",
function(){return this.$truncate()});a.defn(p,"$to_r",function(){return this});a.defn(p,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(p,"$truncate",function(a){null==a&&(a=0);return a["$=="](0)?m(this.num,0)?this.$ceil():this.$floor():this.$with_precision("truncate",a)});return(a.defn(p,"$with_precision",function(a,b){var e,p=d,f=d;(e=g.get("Integer")["$==="](b))!==d&&(!e.$$is_boolean||!0==e)||this.$raise(g.get("TypeError"),"not an Integer");p=10["$**"](b);f=h(this,p);return m(b,1)?r(f.$send(a),
p).$to_i():this.$Rational(f.$send(a),p)}),d)&&"with_precision"})(a.base,a.get("Numeric"));return function(d){d=b(d,"Kernel");var e=d.$$scope;a.defn(d,"$Rational",function(a,b){null==b&&(b=1);return e.get("Rational").$convert(a,b)})}(a.base)};
Opal.modules["corelib/time"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,d=a.slice,t=a.klass,b=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
l.$require("corelib/comparable");return function(l,$super){function u(){}function p(a,c,b,d,k,h){a=a.$$is_string?parseInt(a,10):g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int");if(c===e)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;
case "nov":c=11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=g.get("Opal")["$coerce_to!"](c,g.get("Integer"),"to_int");(1>c||12<c)&&q.$raise(g.get("ArgumentError"),"month out of range: "+c);c-=1;b=b===e?1:b.$$is_string?parseInt(b,10):g.get("Opal")["$coerce_to!"](b,g.get("Integer"),"to_int");(1>b||31<b)&&q.$raise(g.get("ArgumentError"),"day out of range: "+b);d=d===e?0:d.$$is_string?parseInt(d,10):g.get("Opal")["$coerce_to!"](d,g.get("Integer"),"to_int");(0>d||24<d)&&q.$raise(g.get("ArgumentError"),
"hour out of range: "+d);k=k===e?0:k.$$is_string?parseInt(k,10):g.get("Opal")["$coerce_to!"](k,g.get("Integer"),"to_int");(0>k||59<k)&&q.$raise(g.get("ArgumentError"),"min out of range: "+k);h===e?h=0:h.$$is_number||(h=h.$$is_string?parseInt(h,10):g.get("Opal")["$coerce_to!"](h,g.get("Integer"),"to_int"));(0>h||60<h)&&q.$raise(g.get("ArgumentError"),"sec out of range: "+h);return[a,c,b,d,k,h]}var q=u=t(l,$super,"Time",u),g=q.$$scope;q.$include(g.get("Comparable"));var k="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
s="Sun Mon Tue Wed Thu Fri Sat".split(" "),y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),A="January February March April May June July August September October November December".split(" ");a.defs(q,"$at",function(a,c){var b;if(g.get("Time")["$==="](a))return void 0!==c&&this.$raise(g.get("TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));if(void 0===c)return new Date(1E3*
a);c.$$is_number||(c=g.get("Opal")["$coerce_to!"](c,g.get("Integer"),"to_int"));return new Date(1E3*a+c/1E3)});a.defs(q,"$new",function(a,c,b,d,k,h,m){null==c&&(c=e);null==b&&(b=e);null==d&&(d=e);null==k&&(k=e);null==h&&(h=e);null==m&&(m=e);if(void 0===a)return new Date;m!==e&&this.$raise(g.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");h=p(a,c,b,d,k,h);a=h[0];c=h[1];b=h[2];d=h[3];k=h[4];h=h[5];c=new Date(a,c,b,d,k,0,1E3*h);100>a&&c.setFullYear(a);return c});
a.defs(q,"$local",function(a,c,b,g,k,h,m,x,B,l){null==c&&(c=e);null==b&&(b=e);null==g&&(g=e);null==k&&(k=e);null==h&&(h=e);null==m&&(m=e);null==x&&(x=e);null==B&&(B=e);null==l&&(l=e);var s;10===arguments.length&&(s=d.call(arguments),a=s[5],c=s[4],b=s[3],g=s[2],k=s[1],h=s[0]);s=p(a,c,b,g,k,h);a=s[0];c=s[1];b=s[2];g=s[3];k=s[4];h=s[5];s=new Date(a,c,b,g,k,0,1E3*h);100>a&&s.setFullYear(a);return s});a.defs(q,"$gm",function(a,c,b,g,k,h,m,x,B,s){null==c&&(c=e);null==b&&(b=e);null==g&&(g=e);null==k&&(k=
e);null==h&&(h=e);null==m&&(m=e);null==x&&(x=e);null==B&&(B=e);null==s&&(s=e);var l;10===arguments.length&&(l=d.call(arguments),a=l[5],c=l[4],b=l[3],g=l[2],k=l[1],h=l[0]);l=p(a,c,b,g,k,h);a=l[0];c=l[1];b=l[2];g=l[3];k=l[4];h=l[5];l=new Date(Date.UTC(a,c,b,g,k,0,1E3*h));100>a&&l.setUTCFullYear(a);l.is_utc=!0;return l});(function(f){a.alias(f,"mktime","local");return a.alias(f,"utc","gm")})(a.get_singleton_class(q));a.defs(q,"$now",function(){return this.$new()});a.defn(q,"$+",function(a){var c;(c=
g.get("Time")["$==="](a))!==e&&(!c.$$is_boolean||!0==c)&&this.$raise(g.get("TypeError"),"time + time?");a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(q,"$-",function(a){var c;if((c=g.get("Time")["$==="](a))!==e&&(!c.$$is_boolean||!0==c))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
return a});a.defn(q,"$<=>",function(a){var c,b=e;if((c=g.get("Time")["$==="](a))!==e&&(!c.$$is_boolean||!0==c))return this.$to_f()["$<=>"](a.$to_f());b=a["$<=>"](this);return(c=b["$nil?"]())!==e&&(!c.$$is_boolean||!0==c)?e:("number"===typeof b?0<b:b["$>"](0))?-1:("number"===typeof b?0>b:b["$<"](0))?1:0});a.defn(q,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(q,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(q,"ctime","asctime");a.defn(q,"$day",function(){return this.is_utc?
this.getUTCDate():this.getDate()});a.defn(q,"$yday",function(){var a=e,c=e,a=g.get("Time").$new(this.$year()).$to_i(),c=g.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return m(r(n(c,a),86400).$round(),1)});a.defn(q,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())});a.alias(q,"dst?","isdst");a.defn(q,"$dup",function(){var a=e,a=new Date(this.getTime());
a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(q,"$eql?",function(a){var c;return c=a["$is_a?"](g.get("Time")),!1!==c&&c!==e?this["$<=>"](a)["$zero?"]():c});a.defn(q,"$friday?",function(){return 5==this.$wday()});a.defn(q,"$hash",function(){return"Time:"+this.getTime()});a.defn(q,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(q,"$inspect",function(){var a;return(a=this["$utc?"]())!==e&&(!a.$$is_boolean||!0==a)?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):
this.$strftime("%Y-%m-%d %H:%M:%S %z")});a.alias(q,"mday","day");a.defn(q,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(q,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(q,"$monday?",function(){return 1==this.$wday()});a.alias(q,"month","mon");a.defn(q,"$saturday?",function(){return 6==this.$wday()});a.defn(q,"$sec",function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()});a.defn(q,"$succ",function(){var a=new Date(this.getTime()+
1E3);a.is_utc=this.is_utc;return a});a.defn(q,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(q,"$zone",function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c});a.defn(q,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(q,"getutc","getgm");a.defn(q,"$gmtime",function(){this.is_utc=!0;return this});a.alias(q,"utc","gmtime");a.defn(q,
"$gmt?",function(){return!0===this.is_utc});a.defn(q,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(q,"$strftime",function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,f,g,d,e){d="";var h=-1!==f.indexOf("0"),B=-1===f.indexOf("-"),p=-1!==f.indexOf("_"),l=-1!==f.indexOf("^"),m=-1!==f.indexOf("#"),q=(f.match(":")||[]).length;g=parseInt(g,10);h&&p&&(f.indexOf("0")<f.indexOf("_")?h=!1:p=!1);switch(e){case "Y":d+=c.$year();break;case "C":h=!p;d+=
Math.round(c.$year()/100);break;case "y":h=!p;d+=c.$year()%100;break;case "m":h=!p;d+=c.$mon();break;case "B":d+=A[c.$mon()-1];break;case "b":case "h":p=!h;d+=y[c.$mon()-1];break;case "d":h=!p;d+=c.$day();break;case "e":p=!h;d+=c.$day();break;case "j":d+=c.$yday();break;case "H":h=!p;d+=c.$hour();break;case "k":p=!h;d+=c.$hour();break;case "I":h=!p;d+=c.$hour()%12||12;break;case "l":p=!h;d+=c.$hour()%12||12;break;case "P":d+=12<=c.$hour()?"pm":"am";break;case "p":d+=12<=c.$hour()?"PM":"AM";break;
case "M":h=!p;d+=c.$min();break;case "S":h=!p;d+=c.$sec();break;case "L":h=!p;g=isNaN(g)?3:g;d+=c.getMilliseconds();break;case "N":g=isNaN(g)?9:g;d+=c.getMilliseconds().toString().$rjust(3,"0");d=d.$ljust(g,"0");break;case "z":a=c.getTimezoneOffset();f=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;d=d+(0>a?"+":"-")+(10>f?"0":"");d+=f;0<q&&(d+=":");d+=10>e?"0":"";d+=e;1<q&&(d+=":00");break;case "Z":d+=c.$zone();break;case "A":d+=k[c.$wday()];break;case "a":d+=s[c.$wday()];break;case "u":d+=c.$wday()+
1;break;case "w":d+=c.$wday();break;case "V":d+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":d+=c.$cweek_cyear()["$[]"](1);break;case "g":d+=c.$cweek_cyear()["$[]"](1)["$[]"](b(-2,-1,!1));break;case "s":d+=c.$to_i();break;case "n":d+="\n";break;case "t":d+="\t";break;case "%":d+="%";break;case "c":d+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":d+=c.$strftime("%m/%d/%y");break;case "F":d+=c.$strftime("%Y-%m-%d");break;case "v":d+=c.$strftime("%e-%^b-%4Y");break;case "r":d+=
c.$strftime("%I:%M:%S %p");break;case "R":d+=c.$strftime("%H:%M");break;case "T":case "X":d+=c.$strftime("%H:%M:%S");break;default:return a}l&&(d=d.toUpperCase());m&&(d=d.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));if(B&&(h||p))d=d.$rjust(isNaN(g)?2:g,p?" ":"0");return d})});a.defn(q,"$sunday?",function(){return 0==this.$wday()});a.defn(q,"$thursday?",function(){return 4==this.$wday()});a.defn(q,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),
this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(q,"$to_f",function(){return this.getTime()/1E3});a.defn(q,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(q,"to_s","inspect");a.defn(q,"$tuesday?",function(){return 2==this.$wday()});a.alias(q,"tv_sec","sec");a.alias(q,"tv_usec","usec");a.alias(q,"utc?","gmt?");a.alias(q,"gmtoff","gmt_offset");a.alias(q,"utc_offset","gmt_offset");a.defn(q,"$wday",function(){return this.is_utc?
this.getUTCDay():this.getDay()});a.defn(q,"$wednesday?",function(){return 3==this.$wday()});a.defn(q,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(q,"$cweek_cyear",function(){var a,c=e,b=e,d=b=b=c=e,d=e,c=g.get("Time").$new(this.$year(),1,1),b=c.$wday(),c=this.$year();(a=h(b,4)?b["$!="](0):h(b,4))!==e&&(!a.$$is_boolean||!0==a)?b=n(b,1):(b=n(n(b,7),1),b["$=="](-8)&&(b=-1));b=r(m(this.$yday(),b),7).$ceil();if(h(b,0))return g.get("Time").$new(n(this.$year(),
1),12,31).$cweek_cyear();if(b["$=="](53)&&(d=g.get("Time").$new(this.$year(),12,31),d=d.$wday(),(a=h(d,3)?d["$!="](0):h(d,3))!==e&&(!a.$$is_boolean||!0==a)))b=1,c=m(c,1);return[b,c]}),e)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a>=d:a["$>="](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="warning";var h=a.top,l=a.nil,e=a.slice,d=a.klass,t=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $[]= $instance_eval $each_with_index $class $hash $=== $< $-@ $size $>= $include? $to_sym $coerce_to! $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
h.$require("corelib/enumerable");return function(b,$super){function h(){}var u=h=d(b,$super,"Struct",h),p=u.$$scope,q,g,k;u.$include(p.get("Enumerable"));a.defs(u,"$new",q=function(b){var g=e.call(arguments,0),d,f,c,k=q.$$p,m=k||l,C=arguments.length-1;0>C&&(C=0);for(var n=Array(C),E=0;E<C;E++)n[E]=arguments[E+1];q.$$p=null;if(!this["$=="](p.get("Struct")))return a.find_super_dispatcher(this,"new",q,k,h).apply(this,g);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return p.get("Struct").$const_set(b,
this.$new.apply(this,a.to_a(n)));n.$unshift(b);return(d=(f=p.get("Class")).$new,d.$$p=(c=function(){var f=c.$$s||this,b,g,d;(b=(g=n).$each,b.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c.$define_struct_attribute(a)},d.$$s=f,d),b).call(g);!1!==m&&m!==l&&(b=f.$class_eval,b.$$p=m.$to_proc(),b).call(f);return function(c){a.defn(c,"$new",function(){var c,f=l,f=arguments.length-0;0>f&&(f=0);for(var b=Array(f),g=0;g<f;g++)b[g]=arguments[g+0];f=this.$allocate();f.$$data={};(c=f).$initialize.apply(c,
a.to_a(b));return f});return a.alias(c,"[]","new")}(a.get_singleton_class(f))},c.$$s=this,c),d).call(f,this)});a.defs(u,"$define_struct_attribute",function(a){var b,g,f;this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(g=function(){return(g.$$s||this)["$[]"](a)},g.$$s=this,g),b).call(this,a);return(b=this.$define_method,b.$$p=(f=function(c){var b=f.$$s||this;null==c&&(c=l);return b["$[]="](a,
c)},f.$$s=this,f),b).call(this,""+a+"=")});a.defs(u,"$members",function(){var a;null==this.members&&(this.members=l);this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==l?a:this.members=[]});a.defs(u,"$inherited",function(a){var b,g,f=l;null==this.members&&(this.members=l);f=this.members;return(b=a.$instance_eval,b.$$p=(g=function(){return(g.$$s||this).members=f},g.$$s=this,g),b).call(a)});a.defn(u,"$initialize",function(){var a,
b,g,f=arguments.length-0;0>f&&(f=0);for(var c=Array(f),d=0;d<f;d++)c[d]=arguments[d+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(g=function(a,f){var b=g.$$s||this;null==a&&(a=l);null==f&&(f=l);return b["$[]="](a,c["$[]"](f))},g.$$s=this,g),a).call(b)});a.defn(u,"$members",function(){return this.$class().$members()});a.defn(u,"$hash",function(){return p.get("Hash").$new(this.$$data).$hash()});a.defn(u,"$[]",function(a){var b;(b=p.get("Integer")["$==="](a))!==l&&(!b.$$is_boolean||!0==b)?
(m(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),r(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a)):(b=p.get("String")["$==="](a))!==l&&(!b.$$is_boolean||!0==b)?(b=this.$members()["$include?"](a.$to_sym()))!==l&&(!b.$$is_boolean||!0==b)||this.$raise(p.get("NameError").$new("no member '"+a+"' in struct",
a)):this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]});a.defn(u,"$[]=",function(a,b){var g;(g=p.get("Integer")["$==="](a))!==l&&(!g.$$is_boolean||!0==g)?(m(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),r(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+
this.$members().$size()+")"),a=this.$members()["$[]"](a)):(g=p.get("String")["$==="](a))!==l&&(!g.$$is_boolean||!0==g)?(g=this.$members()["$include?"](a.$to_sym()))!==l&&(!g.$$is_boolean||!0==g)||this.$raise(p.get("NameError").$new("no member '"+a+"' in struct",a)):this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]=b});a.defn(u,"$==",function(a){function b(a,g){var d,e,k;f[a.$__id__()]=
!0;c[g.$__id__()]=!0;for(d in a.$$data)if(e=a.$$data[d],k=g.$$data[d],p.get("Struct")["$==="](e)){if((!f.hasOwnProperty(e.$__id__())||!c.hasOwnProperty(k.$__id__()))&&!b(e,k))return!1}else if(!e["$=="](k))return!1;return!0}var g;if(!((g=a["$instance_of?"](this.$class()))!==l&&(!g.$$is_boolean||!0==g)))return!1;var f={},c={};return b(this,a)});a.defn(u,"$eql?",function(a){function b(a,g){var d,e,k;f[a.$__id__()]=!0;c[g.$__id__()]=!0;for(d in a.$$data)if(e=a.$$data[d],k=g.$$data[d],p.get("Struct")["$==="](e)){if((!f.hasOwnProperty(e.$__id__())||
!c.hasOwnProperty(k.$__id__()))&&!b(e,k))return!1}else if(!e["$eql?"](k))return!1;return!0}var g;if(!((g=a["$instance_of?"](this.$class()))!==l&&(!g.$$is_boolean||!0==g)))return!1;var f={},c={};return b(this,a)});a.defn(u,"$each",g=function(){var b,d,e,f,c=g.$$p||l;g.$$p=null;if(c===l)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),b).call(this,"each");(b=(e=this.$members()).$each,b.$$p=(f=function(b){var g=f.$$s||this,d;null==b&&(b=l);return d=a.yield1(c,g["$[]"](b)),
d},f.$$s=this,f),b).call(e);return this});a.defn(u,"$each_pair",k=function(){var b,g,d,f,c=k.$$p||l;k.$$p=null;if(c===l)return(b=this.$enum_for,b.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=this,g),b).call(this,"each_pair");(b=(d=this.$members()).$each,b.$$p=(f=function(b){var g=f.$$s||this,d;null==b&&(b=l);return d=a.yield1(c,[b,g["$[]"](b)]),d},f.$$s=this,f),b).call(d);return this});a.defn(u,"$length",function(){return this.$members().$length()});a.alias(u,"size","length");a.defn(u,"$to_a",
function(){var a,b,g;return(a=(b=this.$members()).$map,a.$$p=(g=function(a){var c=g.$$s||this;null==a&&(a=l);return c["$[]"](a)},g.$$s=this,g),a).call(b)});a.alias(u,"values","to_a");a.defn(u,"$inspect",function(){var a,b,g,f=l,f="#<struct ";this.$class()["$=="](p.get("Struct"))&&(f=n(f,""+this.$class()+" "));f=n(f,(a=(b=this.$each_pair()).$map,a.$$p=(g=function(a,f){null==a&&(a=l);null==f&&(f=l);return""+a+"="+f.$inspect()},g.$$s=this,g),a).call(b).$join(", "));return f=n(f,">")});a.alias(u,"to_s",
"inspect");a.defn(u,"$to_h",function(){var a,b,g;return(a=(b=this.$members()).$inject,a.$$p=(g=function(a,c){var b=g.$$s||this;null==a&&(a=l);null==c&&(c=l);a["$[]="](c,b["$[]"](c));return a},g.$$s=this,g),a).call(b,t([],{}))});return(a.defn(u,"$values_at",function(){var a,b,g,f=arguments.length-0;0>f&&(f=0);for(var c=Array(f),d=0;d<f;d++)c[d]=arguments[d+0];c=(a=(b=c).$map,a.$$p=(g=function(a){null==a&&(a=l);return a.$$is_range?a.$to_a():a},g.$$s=this,g),a).call(b).$flatten();a=[];b=0;for(g=c.length;b<
g;b++)c[b].$$is_number||this.$raise(p.get("TypeError"),"no implicit conversion of "+c[b].$class()+" into Integer"),a.push(this["$[]"](c[b]));return a}),l)&&"values_at"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var m,r,n=a.nil,h=a.klass,l=a.module,e=a.gvars;null==e.stdout&&(e.stdout=n);null==e.stderr&&(e.stderr=n);a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(d,$super){function b(){}var m=b=h(d,$super,"IO",b),r=m.$$proto,u=m.$$scope;r.tty=r.closed=n;a.cdecl(u,"SEEK_SET",0);a.cdecl(u,"SEEK_CUR",1);a.cdecl(u,"SEEK_END",2);a.defn(m,
"$tty?",function(){return this.tty});a.defn(m,"$closed?",function(){return this.closed});m.$attr_accessor("write_proc");a.defn(m,"$write",function(a){this.write_proc(a);return a.$size()});m.$attr_accessor("sync");(function(b){b=l(b,"Writable");a.defn(b,"$<<",function(a){this.$write(a);return this});a.defn(b,"$print",function(){var a,b;null==e[","]&&(e[","]=n);var d=arguments.length-0;0>d&&(d=0);for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+0];this.$write((a=h.$map,a.$$p=(b=function(a){var f=b.$$s||
this;null==a&&(a=n);return f.$String(a)},b.$$s=this,b),a).call(h).$join(e[","]));return n});a.defn(b,"$puts",function(){var a,b,d=n;null==e["/"]&&(e["/"]=n);d=arguments.length-0;0>d&&(d=0);for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+0];d=e["/"];(a=h["$empty?"]())!==n&&(!a.$$is_boolean||!0==a)?this.$write(e["/"]):this.$write((a=h.$map,a.$$p=(b=function(a){var f=b.$$s||this;null==a&&(a=n);return f.$String(a).$chomp()},b.$$s=this,b),a).call(h).$concat([n]).$join(d));return n})})(u.base);return function(b){b=
l(b,"Readable");var d=b.$$scope;a.defn(b,"$readbyte",function(){return this.$getbyte()});a.defn(b,"$readchar",function(){return this.$getc()});a.defn(b,"$readline",function(a){null==e["/"]&&(e["/"]=n);return this.$raise(d.get("NotImplementedError"))});a.defn(b,"$readpartial",function(a,b){return this.$raise(d.get("NotImplementedError"))})}(u.base)})(a.base,null);a.cdecl(a,"STDERR",e.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",e.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",e.stdout=a.get("IO").$new());
m=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];r=e.stdout;r["$write_proc="].apply(r,m);m[m.length-1];m=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];r=e.stderr;r["$write_proc="].apply(r,m);m[m.length-1];e.stdout.$extend(a.get("IO").$$scope.get("Writable"));return e.stderr.$extend(a.get("IO").$$scope.get("Writable"))};
Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var m=a.top,r=a.nil;a.add_stubs(["$include"]);a.defs(m,"$to_s",function(){return"main"});return(a.defs(m,"$include",function(m){return a.get("Object").$include(m)}),r)&&"include"};
Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass;a.add_stubs(["$[]"]);return function(n,$super){function l(){}var e=l=r(n,$super,"Dir",l);return function(d){var e=d.$$scope,b;a.defn(d,"$chdir",b=function(d){var e,l=b.$$p||m,p=m;b.$$p=null;try{return p=a.current_dir,a.current_dir=d,e=a.yieldX(l,[]),e}finally{a.current_dir=p}});a.defn(d,"$pwd",function(){return a.current_dir||"."});a.alias(d,"getwd","pwd");return(a.defn(d,"$home",function(){var a;return!1!==
(a=e.get("ENV")["$[]"]("HOME"))&&a!==m?a:"."}),m)&&"home"}(a.get_singleton_class(e))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass,n=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(h,$super){function e(){}var d=e=r(h,$super,"File",e),t=d.$$scope;a.cdecl(t,"Separator",a.cdecl(t,"SEPARATOR","/"));a.cdecl(t,"ALT_SEPARATOR",m);a.cdecl(t,"PATH_SEPARATOR",":");return function(b){var d=b.$$scope;a.defn(b,"$expand_path",function(a,b){var e,h,g,k=m,s=m;null==
b&&(b=m);a=[b,a].$compact().$join(d.get("SEPARATOR"));k=a.$split(d.get("SEPARATOR"));s=[];if(k.$first()["$=="]("~"))k["$[]="](0,d.get("Dir").$home());(e=(h=k).$each,e.$$p=(g=function(a){null==a&&(a=m);return a["$=="]("..")?s.$pop():s["$<<"](a)},g.$$s=this,g),e).call(h);return s.$join(d.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](n(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var e,h,q,g=m,g=m,g=[],k;for(k in a.modules)g.push(k);b=b.$gsub(RegExp("(^."+d.get("SEPARATOR")+"+|"+d.get("SEPARATOR")+"+$)"));return g=(e=(h=g).$find,e.$$p=(q=function(a){null==a&&(a=m);return a["$=~"](RegExp("^"+b))},q.$$s=this,q),e).call(h)});a.defn(b,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return b.$join(d.get("SEPARATOR")).$gsub(RegExp(""+
d.get("SEPARATOR")+"+"),d.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(d.get("SEPARATOR"))}),m)&&"split"}(a.get_singleton_class(d))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var m=a.nil,r=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(n,$super){function l(){}var e=l=r(n,$super,"Process",l),d=e.$$scope;a.cdecl(d,"CLOCK_REALTIME",0);a.cdecl(d,"CLOCK_MONOTONIC",1);a.defs(e,"$pid",function(){return 0});a.defs(e,"$times",function(){var a=m,a=d.get("Time").$now().$to_f();return d.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(e,"$clock_gettime",function(a,b){return d.get("Time").$now().$to_f()}),
m)&&"clock_gettime"})(a.base,null);(function(n,$super){function l(){}var e=l=r(n,$super,"Signal",l);return(a.defs(e,"$trap",function(){return m}),m)&&"trap"})(a.base,null);return function(n,$super){function l(){}var e=l=r(n,$super,"GC",l);return(a.defs(e,"$start",function(){return m}),m)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function m(a){e[a]||(e[a]=!0,r.$warn(a))}a.dynamic_require_severity="warning";var r=a.top,n=a.nil,h=a.klass,l=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var e={};(function(d,$super){function b(){}var e=b=h(d,$super,"String",b),m=e.$$scope;a.defn(e,"$<<",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(e,"$capitalize!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(e,"$chomp!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(e,"$chop!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(e,"$downcase!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(e,"$gsub!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(e,"$lstrip!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(e,"$next!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(e,"$reverse!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(e,"$slice!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(e,"$squeeze!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(e,"$strip!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(e,"$sub!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(e,"$succ!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(e,"$swapcase!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(e,"$tr!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(e,"$tr_s!",function(){return this.$raise(m.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(e,"$upcase!",function(){return this.$raise(m.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),n)&&"upcase!"})(a.base,null);(function(d){d=l(d,"Kernel");var e=d.$$scope;a.defn(d,"$freeze",function(){!0!==n?m("Object freezing is not supported by Opal"):this.$raise(e.get("NotImplementedError"),"Object freezing is not supported by Opal");
return this});a.defn(d,"$frozen?",function(){!0!==n?m("Object freezing is not supported by Opal"):this.$raise(e.get("NotImplementedError"),"Object freezing is not supported by Opal");return!1})})(a.base);(function(d){d=l(d,"Kernel");var e=d.$$scope;a.defn(d,"$taint",function(){!0!==n?m("Object tainting is not supported by Opal"):this.$raise(e.get("NotImplementedError"),"Object tainting is not supported by Opal");return this});a.defn(d,"$untaint",function(){!0!==n?m("Object tainting is not supported by Opal"):
this.$raise(e.get("NotImplementedError"),"Object tainting is not supported by Opal");return this});a.defn(d,"$tainted?",function(){!0!==n?m("Object tainting is not supported by Opal"):this.$raise(e.get("NotImplementedError"),"Object tainting is not supported by Opal");return!1})})(a.base);(function(d){d=l(d,"Marshal");var e=d.$$scope;d.$module_function();a.defn(d,"$dump",function(){return this.$raise(e.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(d,"$load",function(){return this.$raise(e.get("NotImplementedError"),
"Marshalling is not supported by Opal")});a.defn(d,"$restore",function(){return this.$raise(e.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(d,$super){function b(){}var e=b=h(d,$super,"Module",b);a.defn(e,"$public",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];0===b.length&&(this.$$module_function=!1);return n});a.alias(e,"private","public");a.alias(e,"protected","public");a.alias(e,"nesting","public");a.defn(e,
"$private_class_method",function(){return this});a.alias(e,"public_class_method","private_class_method");a.defn(e,"$private_method_defined?",function(a){return!1});a.defn(e,"$private_constant",function(){return n});a.alias(e,"protected_method_defined?","private_method_defined?");a.alias(e,"public_instance_methods","instance_methods");return a.alias(e,"public_method_defined?","method_defined?")})(a.base,null);(function(d){d=l(d,"Kernel");a.defn(d,"$private_methods",function(){return[]});a.alias(d,
"private_instance_methods","private_methods")})(a.base);return function(d){d=l(d,"Kernel");var e=d.$$scope;a.defn(d,"$eval",function(){return this.$raise(e.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+e.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
(function(a){a.dynamic_require_severity="warning";var m=a.top;a.add_stubs(["$require"]);m.$require("opal/base");m.$require("opal/mini");m.$require("corelib/array/inheritance");m.$require("corelib/string/inheritance");m.$require("corelib/string/encoding");m.$require("corelib/math");m.$require("corelib/complex");m.$require("corelib/rational");m.$require("corelib/time");m.$require("corelib/struct");m.$require("corelib/io");m.$require("corelib/main");m.$require("corelib/dir");m.$require("corelib/file");
m.$require("corelib/process");return m.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}function r(a,e){return"number"===typeof a&&"number"===typeof e?a<=e:a["$<="](e)}a.dynamic_require_severity="ignore";var n=a.nil,h=a.breaker,l=a.klass,e=a.module;(function(d,$super){function b(){}var e=b=l(d,$super,"Set",b),z=e.$$scope,u,p,q,g,k;e.$$proto.hash=n;e.$include(z.get("Enumerable"));a.defs(e,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+
0];return this.$new(b)});a.defn(e,"$initialize",u=function(a){var b,g,f,c=u.$$p||n;null==a&&(a=n);u.$$p=null;this.hash=z.get("Hash").$new();if((b=a["$nil?"]())!==n&&(!b.$$is_boolean||!0==b))return n;(b=z.get("Enumerable")["$==="](a))!==n&&(!b.$$is_boolean||!0==b)||this.$raise(z.get("ArgumentError"),"value must be enumerable");return!1!==c&&c!==n?(b=(g=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=n);return b.$add(c.$call(a))},f.$$s=this,f),b).call(g):this.$merge(a)});a.defn(e,"$dup",
function(){var a=n,a=this.$class().$new();return a.$merge(this)});a.defn(e,"$-",function(a){var b;(b=a["$respond_to?"]("each"))!==n&&(!b.$$is_boolean||!0==b)||this.$raise(z.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(e,"difference","-");a.defn(e,"$inspect",function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(e,"$==",function(a){var b,g,f;return(b=this["$equal?"](a))!==n&&(!b.$$is_boolean||!0==b)?!0:(b=a["$instance_of?"](this.$class()))!==
n&&(!b.$$is_boolean||!0==b)?this.hash["$=="](a.$instance_variable_get("@hash")):(b=(g=a["$is_a?"](z.get("Set")),!1!==g&&g!==n?this.$size()["$=="](a.$size()):g))!==n&&(!b.$$is_boolean||!0==b)?(b=(g=a)["$all?"],b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=n);null==a&&(a=n);return b.hash["$include?"](a)},f.$$s=this,f),b).call(g):!1});a.defn(e,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(e,"<<","add");a.defn(e,"$classify",p=function(){var b,g,d,f,c=p.$$p||n,e=n;p.$$p=
null;if(c===n)return this.$enum_for("classify");e=(b=(g=z.get("Hash")).$new,b.$$p=(d=function(a,c){var f=d.$$s||this;null==a&&(a=n);null==c&&(c=n);return a["$[]="](c,f.$class().$new())},d.$$s=this,d),b).call(g);(b=this.$each,b.$$p=(f=function(f){var b;null==f&&(f=n);return e["$[]"]((b=a.yield1(c,f))===h?h.$v:b).$add(f)},f.$$s=this,f),b).call(this);return e});a.defn(e,"$collect!",q=function(){var b,g,d=q.$$p||n,f=n;q.$$p=null;if(d===n)return this.$enum_for("collect!");f=this.$class().$new();(b=this.$each,
b.$$p=(g=function(c){var b;null==c&&(c=n);return f["$<<"]((b=a.yield1(d,c))===h?h.$v:b)},g.$$s=this,g),b).call(this);return this.$replace(f)});a.alias(e,"map!","collect!");a.defn(e,"$delete",function(a){this.hash.$delete(a);return this});a.defn(e,"$delete?",function(a){var b;return(b=this["$include?"](a))!==n&&(!b.$$is_boolean||!0==b)?(this.$delete(a),this):n});a.defn(e,"$delete_if",g=function(){try{var b,d,e,f,c,k=g.$$p||n;g.$$p=null;!1!==(b=k!==n)&&b!==n?b:a.ret(this.$enum_for("delete_if"));(b=
(d=(f=this.$select,f.$$p=(c=function(c){var f;null==c&&(c=n);return f=a.yield1(k,c),f},c.$$s=this,c),f).call(this)).$each,b.$$p=(e=function(a){var c=e.$$s||this;null==c.hash&&(c.hash=n);null==a&&(a=n);return c.hash.$delete(a)},e.$$s=this,e),b).call(d);return this}catch(h){if(h===a.returner)return h.$v;throw h;}});a.defn(e,"$add?",function(a){var b;return(b=this["$include?"](a))!==n&&(!b.$$is_boolean||!0==b)?n:this.$add(a)});a.defn(e,"$each",k=function(){var a,b,g=k.$$p||n;k.$$p=null;if(g===n)return this.$enum_for("each");
(a=(b=this.hash).$each_key,a.$$p=g.$to_proc(),a).call(b);return this});a.defn(e,"$empty?",function(){return this.hash["$empty?"]()});a.defn(e,"$eql?",function(a){var b,g;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(g=function(){var a=g.$$s||this;null==a.hash&&(a.hash=n);return a.hash},g.$$s=this,g),b).call(a))});a.defn(e,"$clear",function(){this.hash.$clear();return this});a.defn(e,"$include?",function(a){return this.hash["$include?"](a)});a.alias(e,"member?","include?");a.defn(e,"$merge",
function(a){var b,g;(b=a.$each,b.$$p=(g=function(a){var c=g.$$s||this;null==a&&(a=n);return c.$add(a)},g.$$s=this,g),b).call(a);return this});a.defn(e,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(e,"$size",function(){return this.hash.$size()});a.alias(e,"length","size");a.defn(e,"$subtract",function(a){var b,g;(b=a.$each,b.$$p=(g=function(a){var c=g.$$s||this;null==a&&(a=n);return c.$delete(a)},g.$$s=this,g),b).call(a);return this});a.defn(e,"$|",function(a){var b;(b=a["$respond_to?"]("each"))!==
n&&(!b.$$is_boolean||!0==b)||this.$raise(z.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(e,"$superset?",function(a){var b,g;!1!==(b=a["$is_a?"](z.get("Set")))&&b!==n?b:this.$raise(z.get("ArgumentError"),"value must be a set");return m(this.$size(),a.$size())?!1:(b=a["$all?"],b.$$p=(g=function(a){var c=g.$$s||this;null==a&&(a=n);return c["$include?"](a)},g.$$s=this,g),b).call(a)});a.alias(e,">=","superset?");a.defn(e,"$proper_superset?",function(a){var b,g;
!1!==(b=a["$is_a?"](z.get("Set")))&&b!==n?b:this.$raise(z.get("ArgumentError"),"value must be a set");return r(this.$size(),a.$size())?!1:(b=a["$all?"],b.$$p=(g=function(a){var c=g.$$s||this;null==a&&(a=n);return c["$include?"](a)},g.$$s=this,g),b).call(a)});a.alias(e,">","proper_superset?");a.defn(e,"$subset?",function(a){var b,g;!1!==(b=a["$is_a?"](z.get("Set")))&&b!==n?b:this.$raise(z.get("ArgumentError"),"value must be a set");return m(a.$size(),this.$size())?!1:(b=this["$all?"],b.$$p=(g=function(b){null==
b&&(b=n);return a["$include?"](b)},g.$$s=this,g),b).call(this)});a.alias(e,"<=","subset?");a.defn(e,"$proper_subset?",function(a){var b,g;!1!==(b=a["$is_a?"](z.get("Set")))&&b!==n?b:this.$raise(z.get("ArgumentError"),"value must be a set");return r(a.$size(),this.$size())?!1:(b=this["$all?"],b.$$p=(g=function(b){null==b&&(b=n);return a["$include?"](b)},g.$$s=this,g),b).call(this)});a.alias(e,"<","proper_subset?");a.alias(e,"+","|");a.alias(e,"union","|");return(a.defn(e,"$to_a",function(){return this.hash.$keys()}),
n)&&"to_a"})(a.base,null);return function(d){d=e(d,"Enumerable");var h=d.$$scope,b;a.defn(d,"$to_set",b=function(d){var e,m,p=b.$$p||n,l=arguments.length-1;0>l&&(l=0);for(var g=Array(l),k=0;k<l;k++)g[k]=arguments[k+1];null==d&&(d=h.get("Set"));b.$$p=null;return(e=(m=d).$new,e.$$p=p.$to_proc(),e).apply(m,[this].concat(a.to_a(g)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.klass;return function(n,$super){function l(){}var e=l=r(n,$super,"StringScanner",l),d=e.$$proto;d.pos=d.string=d.working=d.matched=d.prev_pos=d.match=m;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",function(a){this.string=a;this.pos=0;this.matched=m;this.working=a;return this.match=[]});e.$attr_reader("string");a.defn(e,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-
1)});a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):m});a.defn(e,"$scan_until",function(a){a=this.$anchor(a);for(var b=this.pos,d=this.working,e;;)if(e=a.exec(d),b+=1,d=
d.substr(1),null==e){if(0===d.length)return this.matched=m}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=b,this.working=d.substr(e[0].length),this.matched});a.defn(e,"$[]",function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?m:b[a]});a.defn(e,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:this.matched=a[0]});a.defn(e,"$check_until",function(a){var b=this.prev_pos,
d=this.pos;a=this.$scan_until(a);a!==m&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=b;this.pos=d;return a});a.defn(e,"$peek",function(a){return this.working.substring(0,a)});a.defn(e,"$eos?",function(){return 0===this.working.length});a.defn(e,"$exist?",function(a){a=a.exec(this.working);return null==a?m:0==a.index?0:a.index+1});a.defn(e,"$skip",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=m;a=a[0];var b=a.length;this.matched=
a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b});a.defn(e,"$skip_until",function(a){a=this.$scan_until(a);if(a===m)return m;this.matched=a.substr(-1);return a.length});a.defn(e,"$get_byte",function(){var a=m;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=m;return a});a.alias(e,"getch","get_byte");a.defn(e,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);
if(null==a)return m;this.prev_pos=this.pos;return a[0].length});a.defn(e,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(e,"$post_match",function(){return this.matched===m?m:this.string.substr(this.pos)});a.defn(e,"$pre_match",function(){return this.matched===m?m:this.string.substr(0,this.prev_pos)});a.defn(e,"$reset",function(){this.working=this.string;this.matched=m;return this.pos=0});a.defn(e,"$rest",function(){return this.working});
a.defn(e,"$rest?",function(){return 0!==this.working.length});a.defn(e,"$rest_size",function(){return this.$rest().$size()});a.defn(e,"$terminate",function(){var a;this.match=m;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(e,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=m;return this});e.$private();return(a.defn(e,"$anchor",function(a){return RegExp("^"+a.toString().substr(1,a.toString().length-2))}),m)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.klass;return function(n,$super){function l(){}var e=l=r(n,$super,"Dir",l),d=e.$$scope;a.defs(e,"$pwd",function(){var a;return!1!==(a=d.get("ENV")["$[]"]("PWD"))&&a!==m?a:"."});a.defs(e,"$getwd",function(){var a;return!1!==(a=d.get("ENV")["$[]"]("PWD"))&&a!==m?a:"."});return(a.defs(e,"$home",function(){return d.get("ENV")["$[]"]("HOME")}),m)&&"home"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var r=a.nil,n=a.breaker,h=a.module,l=a.klass,e=a.gvars,d=a.range;(function(d){d=h(d,"Kernel");var b=d.$$scope,e;a.defn(d,"$open",e=function(d){var h,m,l=e.$$p||r,g=r,g=arguments.length-1;0>g&&(g=0);for(var k=Array(g),s=0;s<g;s++)k[s]=arguments[s+1];e.$$p=null;g=(h=b.get("File")).$new.apply(h,[d].concat(a.to_a(k)));return l!==r?(m=a.yield1(l,
g),m):g})})(a.base);(function(h,$super){function w(){}var z=w=l(h,$super,"File",w),u=z.$$proto,p=z.$$scope,q;u.eof=u.path=r;a.cdecl(p,"SEPARATOR","/");a.cdecl(p,"ALT_SEPARATOR",r);z.$attr_reader("eof");z.$attr_reader("lineno");z.$attr_reader("path");a.defn(z,"$initialize",function(a,d){this.path=a;this.contents=r;this.eof=!1;return this.lineno=0});a.defn(z,"$read",function(){var a,d=r;if((a=this.eof)!==r&&(!a.$$is_boolean||!0==a))return"";d=p.get("File").$read(this.path);this.eof=!0;this.lineno=d.$size();
return d});a.defn(z,"$each_line",q=function(g){var d,h=q.$$p||r,m=r;null==e["/"]&&(e["/"]=r);null==g&&(g=e["/"]);q.$$p=null;if((d=this.eof)!==r&&(!d.$$is_boolean||!0==d))return h!==r?this:[].$to_enum();if(h!==r){m=p.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var l=m.$chomp(),m=m.length!=l.length,l=l.split(g),f=0,c=l.length;f<c;f++)this.lineno+=1,f<c-1||m?(d=a.yield1(h,l[f]+g))===n?n.$v:d:(d=a.yield1(h,l[f]))===n?n.$v:d;this.eof=!0;return this}return this.$read().$each_line()});a.defs(z,
"$expand_path",function(a){return a});a.defs(z,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),e=0;e<a;e++)d[e]=arguments[e+0];a=p.get("SEPARATOR");return"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)});a.defs(z,"$basename",function(a){var e,h=r;return(e=h=a.$rindex(p.get("SEPARATOR")))!==r&&(!e.$$is_boolean||!0==e)?a["$[]"](d(m(h,1),-1,!1)):a});a.defs(z,"$dirname",function(a){var e,h=r;return(e=h=a.$rindex(p.get("SEPARATOR")))!==r&&(!e.$$is_boolean||!0==e)?a["$[]"](d(0,
"number"===typeof h?h-1:h["$-"](1),!1)):"."});a.defs(z,"$extname",function(a){var e,h=r;if((e=a["$nil_or_empty?"]())!==r&&(!e.$$is_boolean||!0==e))return"";h=a["$[]"](d(1,-1,!1)).$rindex(".");return(e=h["$nil?"]())!==r&&(!e.$$is_boolean||!0==e)?"":a["$[]"](d(m(h,1),-1,!1))});a.defs(z,"$file?",function(a){return!0});a.defs(z,"$readable?",function(a){return!0});return(a.defs(z,"$read",function(a){var d=r;return function(){d=p.get("JAVASCRIPT_PLATFORM");if("node"["$==="](d))return require("fs").readFileSync(a,
"utf8");if("java-nashorn"["$==="](d)){var e=Java.type("java.nio.file.Paths"),h=[];Java.type("java.nio.file.Files").readAllLines(e.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){h.push(a)});return h.join("\n")}if("browser"["$==="](d)){var h="",m=-1;try{e=new XMLHttpRequest,e.open("GET",a,!1),e.addEventListener("load",function(){m=this.status;if(0==m||200==m)h=this.responseText}),e.overrideMimeType("text/plain"),e.send()}catch(f){m=0}if(404==m||0==m&&""==h)throw p.get("IOError").$new("No such file or directory: "+
a);return h}return"standalone"["$==="](d)?read(a):""}()}),r)&&"read"})(a.base,null);return function(d,$super){function e(){}var h=e=l(d,$super,"IO",e),m=h.$$scope;return(a.defs(h,"$read",function(a){return m.get("File").$read(a)}),r)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.klass;return function(n,$super){function l(){}var e=l=r(n,$super,"MatchData",l);e.$$proto.matches=m;return(a.defn(e,"$[]=",function(a,e){return this.matches["$[]="](a,e)}),m)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module;return function(n){n=r(n,"Kernel");a.defn(n,"$freeze",function(){return m})}(a.base)};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var m,r;m=a.nil;a=a.gvars;null==a.stdout&&(a.stdout=m);null==a.stderr&&(a.stderr=m);m=[function(a){print(a)}];r=a.stdout;r["$write_proc="].apply(r,m);m[m.length-1];return m=[function(a){print(a)}],r=a.stderr,r["$write_proc="].apply(r,m),m[m.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var m=a.top,r=a.nil,n=r;a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");m.$require("strscan");m.$require("asciidoctor/opal_ext/dir");m.$require("asciidoctor/opal_ext/file");m.$require("asciidoctor/opal_ext/match_data");m.$require("asciidoctor/opal_ext/kernel");
n=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](n)?m.$require("asciidoctor/opal_ext/nashorn/io"):r;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var m=a.module,m=m(a.base,"Asciidoctor").$$scope;a.cdecl(m,"VERSION","1.5.3")};
Opal.modules["asciidoctor/timings"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.module,e=a.klass,d=a.hash2,t=a.gvars;return function(b){(function(b,$super){function l(){}var p=l=e(b,$super,"Timings",l),q=p.$$proto;q.timers=q.log=h;a.defn(p,"$initialize",
function(){this.log=d([],{});return this.timers=d([],{})});a.defn(p,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(p,"$record",function(b){return this.log["$[]="](b,m(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(p,"$read_parse",function(){var a,b=h;return r(b=n(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),0)?b:h});a.defn(p,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0});a.defn(p,
"$read_parse_convert",function(){var a,b=h;return r(b=n(n(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0),0)?b:h});a.defn(p,"$total",function(){var a,b=h;return r(b=n(n(n(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==h?a:0),0)?b:h});return(a.defn(p,"$print_report",function(a,b){null==
t.stdout&&(t.stdout=h);null==a&&(a=t.stdout);null==b&&(b=h);!1!==b&&b!==h&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),h)&&"print_report"})(l(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.klass;(function(n,$super){function l(){}var e=l=r(n,$super,"NilClass",l),d;return(d=e["$respond_to?"]("nil_or_empty?"))!==m&&(!d.$$is_boolean||!0==d)?m:a.alias(e,"nil_or_empty?","nil?")})(a.base,null);(function(n,$super){function l(){}var e=l=r(n,$super,"String",l),d;return(d=e["$respond_to?"]("nil_or_empty?"))!==m&&(!d.$$is_boolean||!0==d)?m:a.alias(e,"nil_or_empty?","empty?")})(a.base,
null);(function(n,$super){function l(){}var e=l=r(n,$super,"Array",l),d;return(d=e["$respond_to?"]("nil_or_empty?"))!==m&&(!d.$$is_boolean||!0==d)?m:a.alias(e,"nil_or_empty?","empty?")})(a.base,null);(function(n,$super){function l(){}var e=l=r(n,$super,"Hash",l),d;return(d=e["$respond_to?"]("nil_or_empty?"))!==m&&(!d.$$is_boolean||!0==d)?m:a.alias(e,"nil_or_empty?","empty?")})(a.base,null);return function(n,$super){function l(){}var e=l=r(n,$super,"Numeric",l),d;return(d=e["$respond_to?"]("nil_or_empty?"))!==
m&&(!d.$$is_boolean||!0==d)?m:a.alias(e,"nil_or_empty?","nil?")}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil;a.top.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return m};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module,n=a.range,h=a.gvars;return function(l){(function(e){e=r(e,"Helpers");var d=e.$$scope;a.defs(e,"$require_library",function(d,b,e){var h=m,l=m;null==b&&(b=!0);null==e&&(e="abort");try{return this.$require(d)}catch(p){if(a.rescue(p,[a.get("LoadError")])){h=p;try{if(!1!==b&&b!==m)return b["$=="](!0)&&(b=d),l=e,"abort"["$==="](l)?this.$fail("asciidoctor: FAILED: required gem '"+b+"' is not installed. Processing aborted."):
"warn"["$==="](l)?this.$warn("asciidoctor: WARNING: optional gem '"+b+"' is not installed. Functionality disabled."):m;l=e;return"abort"["$==="](l)?this.$fail("asciidoctor: FAILED: "+h.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](l)?this.$warn("asciidoctor: WARNING: "+h.$message().$chomp(".")+". Functionality disabled."):m}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw p;}});a.defs(e,"$normalize_lines",function(d){return d.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(d):
this.$normalize_lines_array(d)});a.defs(e,"$normalize_lines_array",function(e){var b,h,l,r,p,q,g=m,k=m,s=m,y=m;if((b=e["$empty?"]())!==m&&(!b.$$is_boolean||!0==b))return[];g=(k=e["$[]"](0))["$[]"](n(0,2,!1)).$bytes().$to_a();if((b=d.get("COERCE_ENCODING"))!==m&&(!b.$$is_boolean||!0==b)){s=a.get("Encoding").$$scope.get("UTF_8");if((y=g["$[]"](n(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE")))return(b=(h=e.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](n(1,-1,!1)).$encode(s).$lines()).$map,
b.$$p=(l=function(a){null==a&&(a=m);return a.$rstrip()},l.$$s=this,l),b).call(h);if(y["$=="](d.get("BOM_BYTES_UTF_16BE")))return e["$[]="](0,k.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](n(1,-1,!1))),(b=e.$map,b.$$p=(r=function(b){null==b&&(b=m);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(s).$rstrip()},r.$$s=this,r),b).call(e);if(g["$[]"](n(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8")))e["$[]="](0,k.$force_encoding(s)["$[]"](n(1,-1,!1)));return(b=
e.$map,b.$$p=(p=function(a){null==a&&(a=m);return a.$encoding()["$=="](s)?a.$rstrip():a.$force_encoding(s).$rstrip()},p.$$s=this,p),b).call(e)}if(g["$=="](d.get("BOM_BYTES_UTF_8")))e["$[]="](0,k["$[]"](n(3,-1,!1)));return(b=e.$map,b.$$p=(q=function(a){null==a&&(a=m);return a.$rstrip()},q.$$s=this,q),b).call(e)});a.defs(e,"$normalize_lines_from_string",function(e){var b,h,l,r=m,p=m,q=m;if((b=e["$nil_or_empty?"]())!==m&&(!b.$$is_boolean||!0==b))return[];(b=d.get("COERCE_ENCODING"))!==m&&(!b.$$is_boolean||
!0==b)?(r=a.get("Encoding").$$scope.get("UTF_8"),p=e["$[]"](n(0,2,!1)).$bytes().$to_a(),(q=p["$[]"](n(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE"))?e=e.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](n(1,-1,!1)).$encode(r):q["$=="](d.get("BOM_BYTES_UTF_16BE"))?e=e.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](n(1,-1,!1)).$encode(r):p["$[]"](n(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8"))?e=e.$encoding()["$=="](r)?e["$[]"](n(1,-1,!1)):e.$force_encoding(r)["$[]"](n(1,
-1,!1)):e.$encoding()["$=="](r)||(e=e.$force_encoding(r))):e["$[]"](n(0,2,!1)).$bytes().$to_a()["$=="](d.get("BOM_BYTES_UTF_8"))&&(e=e["$[]"](n(3,-1,!1)));return(b=(h=e.$each_line()).$map,b.$$p=(l=function(a){null==a&&(a=m);return a.$rstrip()},l.$$s=this,l),b).call(h)});a.defs(e,"$uriish?",function(a){var b;return b=a["$include?"](":"),!1!==b&&b!==m?a["$=~"](d.get("UriSniffRx")):b});a.defs(e,"$uri_prefix",function(a){var b,e;return(b=(e=a["$include?"](":"),!1!==e&&e!==m?a["$=~"](d.get("UriSniffRx")):
e))!==m&&(!b.$$is_boolean||!0==b)?(b=h["~"])===m?m:b["$[]"](0):m});a.cdecl(d,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(e,"$encode_uri",function(a){var b,e;return(b=a.$gsub,b.$$p=(e=function(){var a=e.$$s||this,b,d,l,g;return(b=(d=((g=h["~"])===m?m:g["$[]"](0)).$each_byte()).$map,b.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=m);return b.$sprintf("%%%02X",a)},l.$$s=a,l),b).call(d).$join()},e.$$s=this,e),b).call(a,d.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(e,"$rootname",function(d){var b,
e=m;return(b=(e=a.get("File").$extname(d))["$empty?"]())!==m&&(!b.$$is_boolean||!0==b)?d:d["$[]"](n(0,e.$length()["$-@"](),!0))});a.defs(e,"$basename",function(d,b){var e;null==b&&(b=!1);return!1!==b&&b!==m?a.get("File").$basename(d,!1!==(e=a.get("File").$extname(d))&&e!==m?e:""):a.get("File").$basename(d)});a.defs(e,"$mkdir_p",function(d){var b,e,h=m;if((b=a.get("File")["$directory?"](d))!==m&&(!b.$$is_boolean||!0==b))return m;h=a.get("File").$dirname(d);(b=(e=a.get("File")["$directory?"](h=a.get("File").$dirname(d))["$!"](),
!1!==e&&e!==m?h["$!="]("."):e))!==m&&(!b.$$is_boolean||!0==b)&&this.$mkdir_p(h);return a.get("Dir").$mkdir(d)})})(r(l,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,e=a.breaker,d=a.slice,t=a.module,b=a.hash2,w=a.gvars,z=a.range;return function(u){(function(p){p=
t(p,"Substitutors");var q=p.$$scope;a.cdecl(q,"SPECIAL_CHARS",b(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(q,"SPECIAL_CHARS_PATTERN",RegExp("["+q.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(q,"SUBS",b("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(q,"COMPOSITE_SUBS",b(["none","normal","verbatim","specialchars"],{none:[],normal:q.get("SUBS")["$[]"]("normal"),verbatim:q.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(q,"SUB_SYMBOLS",b("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(q,"SUB_OPTIONS",b(["block","inline"],{block:m(m(q.get("COMPOSITE_SUBS").$keys(),
q.get("SUBS")["$[]"]("normal")),["callouts"]),inline:m(q.get("COMPOSITE_SUBS").$keys(),q.get("SUBS")["$[]"]("normal"))}));a.cdecl(q,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(q,"PASS_START","");a.cdecl(q,"PASS_END","");a.cdecl(q,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(q,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);p.$attr_reader("passthroughs");a.defn(p,"$apply_subs",function(b,d,e){var h,p,f,c,v,n=l,C=l,I=l,E=l;null==this.passthroughs&&(this.passthroughs=
l);null==d&&(d="normal");null==e&&(e=!1);if((h=d["$!"]())!==l&&(!h.$$is_boolean||!0==h))return b;d["$=="]("normal")?d=q.get("SUBS")["$[]"]("normal"):!1!==e&&e!==l&&((h=a.get("Symbol")["$==="](d))!==l&&(!h.$$is_boolean||!0==h)?d=!1!==(h=q.get("COMPOSITE_SUBS")["$[]"](d))&&h!==l?h:[d]:(n=[],(h=(p=d).$each,h.$$p=(f=function(a){var c;null==a&&(a=l);return(c=q.get("COMPOSITE_SUBS")["$has_key?"](a))!==l&&(!c.$$is_boolean||!0==c)?n=m(n,q.get("COMPOSITE_SUBS")["$[]"](a)):n["$<<"](a)},f.$$s=this,f),h).call(p),
d=n));if((h=d["$empty?"]())!==l&&(!h.$$is_boolean||!0==h))return b;C=(h=I=a.get("Array")["$==="](b))!==l&&(!h.$$is_boolean||!0==h)?r(b,q.get("EOL")):b;if((h=E=d["$include?"]("macros"))!==l&&(!h.$$is_boolean||!0==h))if(C=this.$extract_passthroughs(C),(h=this.passthroughs["$empty?"]())!==l&&(!h.$$is_boolean||!0==h))E=!1;(h=(c=d).$each,h.$$p=(v=function(a){var c=v.$$s||this,b,f=l;null==a&&(a=l);f=a;return"specialcharacters"["$==="](f)?C=c.$sub_specialchars(C):"quotes"["$==="](f)?C=c.$sub_quotes(C):"attributes"["$==="](f)?
C=r(c.$sub_attributes(C.$split(q.get("EOL"))),q.get("EOL")):"replacements"["$==="](f)?C=c.$sub_replacements(C):"macros"["$==="](f)?C=c.$sub_macros(C):"highlight"["$==="](f)?C=c.$highlight_source(C,d["$include?"]("callouts")):"callouts"["$==="](f)?(b=d["$include?"]("highlight"))!==l&&(!b.$$is_boolean||!0==b)?l:C=c.$sub_callouts(C):"post_replacements"["$==="](f)?C=c.$sub_post_replacements(C):c.$warn("asciidoctor: WARNING: unknown substitution type "+a)},v.$$s=this,v),h).call(c);!1!==E&&E!==l&&(C=this.$restore_passthroughs(C));
return!1!==I&&I!==l?C.$split(q.get("EOL")):C});a.defn(p,"$apply_normal_subs",function(b){var d;return this.$apply_subs((d=a.get("Array")["$==="](b))!==l&&(!d.$$is_boolean||!0==d)?r(b,q.get("EOL")):b)});a.defn(p,"$apply_title_subs",function(a){return this.$apply_subs(a,q.get("SUBS")["$[]"]("title"))});a.defn(p,"$apply_header_subs",function(a){return this.$apply_subs(a,q.get("SUBS")["$[]"]("header"))});a.defn(p,"$extract_passthroughs",function(g){var d,e,m,p,f,c,v,G,C=l,I=l,E=l,x=l;null==this.document&&
(this.document=l);C=this.document.$compat_mode();if((d=!1!==(e=!1!==(m=g["$include?"]("++"))&&m!==l?m:g["$include?"]("$$"))&&e!==l?e:g["$include?"]("ss:"))!==l&&(!d.$$is_boolean||!0==d))g=(d=(e=g).$gsub,d.$$p=(p=function(){var c=p.$$s||this,f,g=l,d=l,e=l,k=e=l,m=l,x=l,v=l,g=l;null==c.passthroughs&&(c.passthroughs=l);null==w["~"]&&(w["~"]=l);g=w["~"];d=l;if((f=(e=g["$[]"](4))["$nil_or_empty?"]())!==l&&(!f.$$is_boolean||!0==f)){if(g["$[]"](6)["$=="]("\\"))return g["$[]"](0)["$[]"](z(1,-1,!1));c.passthroughs["$[]="](e=
c.passthroughs.$size(),b(["text","subs"],{text:c.$unescape_brackets(g["$[]"](8)),subs:(f=g["$[]"](7)["$nil_or_empty?"]())!==l&&(!f.$$is_boolean||!0==f)?[]:c.$resolve_pass_subs(g["$[]"](7))}))}else{if((f=!1!==C&&C!==l?e["$=="]("++"):C)!==l&&(!f.$$is_boolean||!0==f))return(f=g["$[]"](2)["$nil_or_empty?"]())!==l&&(!f.$$is_boolean||!0==f)?""+g["$[]"](1)+g["$[]"](3)+"++"+c.$extract_passthroughs(g["$[]"](5))+"++":""+g["$[]"](1)+"["+g["$[]"](2)+"]"+g["$[]"](3)+"++"+c.$extract_passthroughs(g["$[]"](5))+"++";
k=g["$[]"](2);if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||!0==f))k["$=="]("")&&(k=l);m=g["$[]"](3).$size();x=g["$[]"](5);v=!1;if(!1!==k&&k!==l){if(n(m,0))return""+g["$[]"](1)+"["+k+"]"+r("\\",h(m,1))+e+g["$[]"](5)+e+")";if(g["$[]"](1)["$=="]("\\"))d="["+k+"]",k=l;else{if((f=e["$=="]("++")?k["$end_with?"]("x-"):e["$=="]("++"))!==l&&(!f.$$is_boolean||!0==f))v=!0,k=k["$[]"](z(0,-2,!0));k=c.$parse_attributes(k)}}else if(n(m,0))return""+g["$[]"](1)+"["+k+"]"+r("\\",h(m,1))+e+g["$[]"](5)+e;
g=e["$=="]("+++")?[]:["specialcharacters"];e=c.passthroughs.$size();if(!1!==k&&k!==l)if(!1!==v&&v!==l)c.passthroughs["$[]="](e,b(["text","subs","type","attributes"],{text:x,subs:q.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:k}));else c.passthroughs["$[]="](e,b(["text","subs","type","attributes"],{text:x,subs:g,type:"unquoted",attributes:k}));else c.passthroughs["$[]="](e,b(["text","subs"],{text:x,subs:g}))}return""+d+q.get("PASS_START")+e+q.get("PASS_END")},p.$$s=this,p),d).call(e,q.get("PassInlineMacroRx"));
d=a.to_ary(q.get("PassInlineRx")["$[]"](C));I=null==d[0]?l:d[0];E=null==d[1]?l:d[1];x=null==d[2]?l:d[2];if((d=!1!==(m=g["$include?"](I))&&m!==l?m:(f=!1!==E&&E!==l)?g["$include?"](E):E)!==l&&(!d.$$is_boolean||!0==d))g=(d=(m=g).$gsub,d.$$p=(c=function(){var f=c.$$s||this,g,d=l,e=l,k=l,h=l,m=l,x=l,v=l,m=d=l;null==f.passthroughs&&(f.passthroughs=l);null==w["~"]&&(w["~"]=l);d=w["~"];e=d["$[]"](1);k=d["$[]"](2);h=(g=d["$[]"](3)["$start_with?"]("\\"))!==l&&(!g.$$is_boolean||!0==g)?"\\":l;m=d["$[]"](4);x=
d["$[]"](5);if((g=a.get("RUBY_ENGINE_OPAL"))!==l&&(!g.$$is_boolean||!0==g))k["$=="]("")&&(k=l);if(!1!==C&&C!==l)v=!0;else if((g=v=!1!==k&&k!==l?k["$end_with?"]("x-"):k)!==l&&(!g.$$is_boolean||!0==g))k=k["$[]"](z(0,-2,!0));if(!1!==k&&k!==l){if((g=m["$=="]("`")?v["$!"]():m["$=="]("`"))!==l&&(!g.$$is_boolean||!0==g))return""+e+"["+k+"]"+h+"`"+f.$extract_passthroughs(x)+"`";if(!1!==h&&h!==l)return""+e+"["+k+"]"+d["$[]"](3)["$[]"](z(1,-1,!1));e["$=="]("\\")?(e="["+k+"]",k=l):k=f.$parse_attributes(k)}else{if((g=
m["$=="]("`")?v["$!"]():m["$=="]("`"))!==l&&(!g.$$is_boolean||!0==g))return""+e+h+"`"+f.$extract_passthroughs(x)+"`";if(!1!==h&&h!==l)return""+e+d["$[]"](3)["$[]"](z(1,-1,!1))}d=f.passthroughs.$size();if(!1!==C&&C!==l)f.passthroughs["$[]="](d,b(["text","subs","attributes","type"],{text:x,subs:["specialcharacters"],attributes:k,type:"monospaced"}));else if(!1!==k&&k!==l)if(!1!==v&&v!==l)m=m["$=="]("`")?["specialcharacters"]:q.get("SUBS")["$[]"]("normal"),f.passthroughs["$[]="](d,b(["text","subs","attributes",
"type"],{text:x,subs:m,attributes:k,type:"monospaced"}));else f.passthroughs["$[]="](d,b(["text","subs","attributes","type"],{text:x,subs:["specialcharacters"],attributes:k,type:"unquoted"}));else f.passthroughs["$[]="](d,b(["text","subs"],{text:x,subs:["specialcharacters"]}));return""+e+q.get("PASS_START")+d+q.get("PASS_END")},c.$$s=this,c),d).call(m,x);if((d=(f=g["$include?"](":"),!1!==f&&f!==l?!1!==(v=g["$include?"]("stem:"))&&v!==l?v:g["$include?"]("math:"):f))!==l&&(!d.$$is_boolean||!0==d))g=
(d=(f=g).$gsub,d.$$p=(G=function(){var a=G.$$s||this,c,f=l,g=l,d=l,e=l,k=f=l;null==a.document&&(a.document=l);null==a.passthroughs&&(a.passthroughs=l);null==w["~"]&&(w["~"]=l);f=w["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c))return f["$[]"](0)["$[]"](z(1,-1,!1));if((g=f["$[]"](1).$to_sym())["$=="]("stem"))g=((c=(d=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())!==l&&(!c.$$is_boolean||!0==c)?"asciimath":d).$to_sym();e=a.$unescape_brackets(f["$[]"](3));
f=(c=f["$[]"](2)["$nil_or_empty?"]())!==l&&(!c.$$is_boolean||!0==c)?(c=a.document["$basebackend?"]("html"))!==l&&(!c.$$is_boolean||!0==c)?["specialcharacters"]:[]:a.$resolve_pass_subs(f["$[]"](2));a.passthroughs["$[]="](k=a.passthroughs.$size(),b(["text","subs","type"],{text:e,subs:f,type:g}));return""+q.get("PASS_START")+k+q.get("PASS_END")},G.$$s=this,G),d).call(f,q.get("StemInlineMacroRx"));return g});a.defn(p,"$restore_passthroughs",function(a,d){var e,h,m,f;null==this.passthroughs&&(this.passthroughs=
l);null==d&&(d=!0);try{return(e=(h=!1!==d&&d!==l)?!1!==(m=this.passthroughs["$empty?"]())&&m!==l?m:a["$include?"](q.get("PASS_START"))["$!"]():d)!==l&&(!e.$$is_boolean||!0==e)?a:(e=(h=a).$gsub,e.$$p=(f=function(){var a=f.$$s||this,g,d=l,e=l,k=l,h=l;null==a.passthroughs&&(a.passthroughs=l);null==w["~"]&&(w["~"]=l);d=a.passthroughs["$[]"](w["~"]["$[]"](1).$to_i());e=(g=k=d["$[]"]("subs"))!==l&&(!g.$$is_boolean||!0==g)?a.$apply_subs(d["$[]"]("text"),k):d["$[]"]("text");if((g=h=d["$[]"]("type"))!==l&&
(!g.$$is_boolean||!0==g))e=q.get("Inline").$new(a,"quoted",e,b(["type","attributes"],{type:h,attributes:d["$[]"]("attributes")})).$convert();return(g=e["$include?"](q.get("PASS_START")))!==l&&(!g.$$is_boolean||!0==g)?a.$restore_passthroughs(e,!1):e},f.$$s=this,f),e).call(h,q.get("PASS_MATCH"))}finally{!1!==d&&d!==l&&this.passthroughs.$clear()}});a.defn(p,"$sub_specialchars",function(a){var b,d;return(b=q.get("SUPPORTS_GSUB_RESULT_HASH"))!==l&&(!b.$$is_boolean||!0==b)?a.$gsub(q.get("SPECIAL_CHARS_PATTERN"),
q.get("SPECIAL_CHARS")):(b=a.$gsub,b.$$p=(d=function(){var a;return q.get("SPECIAL_CHARS")["$[]"]((a=w["~"])===l?l:a["$[]"](0))},d.$$s=this,d),b).call(a,q.get("SPECIAL_CHARS_PATTERN"))});a.alias(p,"sub_specialcharacters","sub_specialchars");a.defn(p,"$sub_quotes",function(b){var d,e,h,m,f,c=l;null==this.document&&(this.document=l);(d=a.get("RUBY_ENGINE_OPAL"))!==l&&(!d.$$is_boolean||!0==d)?(c=b,(d=(e=q.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,d.$$p=(h=function(a,b,f){var d=h.$$s||
this,g,e,k;null==a&&(a=l);null==b&&(b=l);null==f&&(f=l);return c=(g=(e=c).$gsub,g.$$p=(k=function(){var c=k.$$s||this;null==w["~"]&&(w["~"]=l);return c.$convert_quoted_text(w["~"],a,b)},k.$$s=d,k),g).call(e,f)},h.$$s=this,h),d).call(e)):(c=""+b,(d=(m=q.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,d.$$p=(f=function(a,b,d){var g=f.$$s||this,e,k,h;null==a&&(a=l);null==b&&(b=l);null==d&&(d=l);return(e=(k=c)["$gsub!"],e.$$p=(h=function(){var c=h.$$s||this;null==w["~"]&&(w["~"]=l);return c.$convert_quoted_text(w["~"],
a,b)},h.$$s=g,h),e).call(k,d)},f.$$s=this,f),d).call(m));return c});a.defn(p,"$sub_replacements",function(b){var d,e,h,m,f,c=l;(d=a.get("RUBY_ENGINE_OPAL"))!==l&&(!d.$$is_boolean||!0==d)?(c=b,(d=(e=q.get("REPLACEMENTS")).$each,d.$$p=(h=function(a,b,f){var d=h.$$s||this,g,e,k;null==a&&(a=l);null==b&&(b=l);null==f&&(f=l);return c=(g=(e=c).$gsub,g.$$p=(k=function(){var a=k.$$s||this;null==w["~"]&&(w["~"]=l);return a.$do_replacement(w["~"],b,f)},k.$$s=d,k),g).call(e,a)},h.$$s=this,h),d).call(e)):(c=""+
b,(d=(m=q.get("REPLACEMENTS")).$each,d.$$p=(f=function(a,b,d){var g=f.$$s||this,e,k,h;null==a&&(a=l);null==b&&(b=l);null==d&&(d=l);return(e=(k=c)["$gsub!"],e.$$p=(h=function(){var a=h.$$s||this;null==w["~"]&&(w["~"]=l);return a.$do_replacement(w["~"],b,d)},h.$$s=g,h),e).call(k,a)},f.$$s=this,f),d).call(m));return c});a.defn(p,"$do_replacement",function(a,b,d){var e,h=l,h=l;(e=(h=a["$[]"](0))["$include?"]("\\"))!==l&&(!e.$$is_boolean||!0==e)?a=h.$tr("\\",""):(h=d,a="none"["$==="](h)?b:"leading"["$==="](h)?
""+a["$[]"](1)+b:"bounding"["$==="](h)?""+a["$[]"](1)+b+a["$[]"](2):l);return a});a.defn(p,"$sub_attributes",function(d,k){var h,p,n,f=l,c=l,v=l,G=l;null==this.document&&(this.document=l);null==k&&(k=b([],{}));if((h=d["$nil_or_empty?"]())!==l&&(!h.$$is_boolean||!0==h))return d;if((h=f=a.get("String")["$==="](d))!==l&&(!h.$$is_boolean||!0==h))d=[d];c=this.document.$attributes();v=l;G=[];(h=(p=d).$each,h.$$p=(n=function(b){var f=n.$$s||this,d,g,h,p,s=l,D=l;null==b&&(b=l);D=s=!1;if((d=b["$include?"]("{"))!==
l&&(!d.$$is_boolean||!0==d))b=(d=(g=b).$gsub,d.$$p=(h=function(){var b=h.$$s||this,f,d,g=l,x=l,p=l,E=l,C=l,n=l,J=l,y=l,r=l;null==b.document&&(b.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];return(f=!1!==(d=g["$[]"](1)["$=="]("\\"))&&d!==l?d:g["$[]"](4)["$=="]("\\"))!==l&&(!f.$$is_boolean||!0==f)?"{"+g["$[]"](2)+"}":(f=g["$[]"](3)["$nil_or_empty?"]()["$!"]())!==l&&(!f.$$is_boolean||!0==f)?(x=m((p=g["$[]"](3)).$length(),1),E=g["$[]"](2)["$[]"](z(x,-1,!1)),function(){C=p;if("set"["$==="](C)){n=E.$split(":");
f=a.to_ary(q.get("Parser").$store_attribute(n["$[]"](0),!1!==(d=n["$[]"](1))&&d!==l?d:"",b.document));J=null==f[1]?l:f[1];if(!(!1!==J&&J!==l)&&c.$fetch("attribute-undefined",q.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return s=!0,e.$v="",e;D=!0;return""}if("counter"["$==="](C)||"counter2"["$==="](C))return n=E.$split(":"),y=b.document.$counter(n["$[]"](0),n["$[]"](1)),p["$=="]("counter2")?(D=!0,""):y;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+g["$[]"](3));return g["$[]"](0)}()):
(f=c["$key?"](r=g["$[]"](2).$downcase()))!==l&&(!f.$$is_boolean||!0==f)?c["$[]"](r):(f=q.get("INTRINSIC_ATTRIBUTES")["$key?"](r))!==l&&(!f.$$is_boolean||!0==f)?q.get("INTRINSIC_ATTRIBUTES")["$[]"](r):function(){C=!1!==(f=v)&&f!==l?f:v=!1!==(d=k["$[]"]("attribute_missing"))&&d!==l?d:c.$fetch("attribute-missing",q.get("Compliance").$attribute_missing());if("skip"["$==="](C))return g["$[]"](0);if("drop-line"["$==="](C))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+
r),s=!0,e.$v="",e;if("warn"["$==="](C))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+r),g["$[]"](0);D=!0;return""}()},h.$$s=f,h),d).call(g,q.get("AttributeReferenceRx"));return(d=!1!==(p=s)&&p!==l?p:!1!==D&&D!==l?b["$empty?"]():D)!==l&&(!d.$$is_boolean||!0==d)?l:G["$<<"](b)},n.$$s=this,n),h).call(p);return!1!==f&&f!==l?r(G,q.get("EOL")):G});a.defn(p,"$sub_macros",function(g){var e,h,m,p,f,c,v,n,C,r,E,x,B,J,M,D,L,R,u,t,$=l,aa=l,S=l,Z=l,K=l,N=l;null==this.document&&
(this.document=l);if((e=g["$nil_or_empty?"]())!==l&&(!e.$$is_boolean||!0==e))return g;$=b([],{});$["$[]="]("square_bracket",g["$include?"]("["));$["$[]="]("round_bracket",g["$include?"]("("));$["$[]="]("colon",aa=g["$include?"](":"));$["$[]="]("macroish",(e=$["$[]"]("square_bracket"),!1!==e&&e!==l?aa:e));$["$[]="]("macroish_short_form",(e=(h=$["$[]"]("square_bracket"),!1!==h&&h!==l?aa:h),!1!==e&&e!==l?g["$include?"](":["):e));S=this.document.$attributes()["$has_key?"]("linkattrs");Z=this.document.$attributes()["$has_key?"]("experimental");
K=""+g;if(!1!==Z&&Z!==l){if((e=(h=$["$[]"]("macroish_short_form"),!1!==h&&h!==l?!1!==(m=K["$include?"]("kbd:"))&&m!==l?m:K["$include?"]("btn:"):h))!==l&&(!e.$$is_boolean||!0==e))K=(e=(h=K).$gsub,e.$$p=(p=function(){var a=p.$$s||this,c,f,d,g=l,e=l,g=g=l;null==w["~"]&&(w["~"]=l);g=w["~"];return(c=(e=g["$[]"](0))["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c)?e["$[]"](z(1,-1,!1)):(c=e["$start_with?"]("kbd"))!==l&&(!c.$$is_boolean||!0==c)?(g=a.$unescape_bracketed_text(g["$[]"](1)),g=g["$=="]("+")?
["+"]:(c=(f=g.$split(q.get("KbdDelimiterRx"))).$inject,c.$$p=(d=function(a,c){var b;null==a&&(a=l);null==c&&(c=l);if((b=c["$end_with?"]("++"))!==l&&(!b.$$is_boolean||!0==b))a["$<<"](c["$[]"](z(0,-3,!1)).$strip()),a["$<<"]("+");else a["$<<"](c.$strip());return a},d.$$s=a,d),c).call(f,[]),q.get("Inline").$new(a,"kbd",l,b(["attributes"],{attributes:b(["keys"],{keys:g})})).$convert()):(c=e["$start_with?"]("btn"))!==l&&(!c.$$is_boolean||!0==c)?(g=a.$unescape_bracketed_text(g["$[]"](1)),q.get("Inline").$new(a,
"button",g).$convert()):l},p.$$s=this,p),e).call(h,q.get("KbdBtnInlineMacroRx"));if((e=(m=$["$[]"]("macroish"),!1!==m&&m!==l?K["$include?"]("menu:"):m))!==l&&(!e.$$is_boolean||!0==e))K=(e=(m=K).$gsub,e.$$p=(f=function(){var a=f.$$s||this,c,d,g,e=l,k=l,h=e=k=l,h=e=l;null==w["~"]&&(w["~"]=l);e=w["~"];if((c=(k=e["$[]"](0))["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c))return k["$[]"](z(1,-1,!1));k=e["$[]"](1);e=e["$[]"](2);(c=e["$!"]())!==l&&(!c.$$is_boolean||!0==c)?(h=[],e=l):(c=h=(d=e["$include?"]("&gt;"))!==
l&&(!d.$$is_boolean||!0==d)?"&gt;":(d=e["$include?"](","))!==l&&(!d.$$is_boolean||!0==d)?",":l)!==l&&(!c.$$is_boolean||!0==c)?(h=(c=(d=e.$split(h)).$map,c.$$p=(g=function(a){null==a&&(a=l);return a.$strip()},g.$$s=a,g),c).call(d),e=h.$pop()):(h=[],e=e.$rstrip());return q.get("Inline").$new(a,"menu",l,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:k,submenus:h,menuitem:e})})).$convert()},f.$$s=this,f),e).call(m,q.get("MenuInlineMacroRx"));if((e=(c=K["$include?"]('"'),!1!==c&&c!==
l?K["$include?"]("&gt;"):c))!==l&&(!e.$$is_boolean||!0==e))K=(e=(c=K).$gsub,e.$$p=(v=function(){var c=v.$$s||this,f,g,e,k,h=l,m=l,x=m=h=h=l;null==w["~"]&&(w["~"]=l);h=w["~"];if((f=(m=h["$[]"](0))["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||!0==f))return m["$[]"](z(1,-1,!1));h=h["$[]"](1);f=a.to_ary((g=(e=h.$split("&gt;")).$map,g.$$p=(k=function(a){null==a&&(a=l);return a.$strip()},k.$$s=c,k),g).call(e));h=null==f[0]?l:f[0];m=d.call(f,1);x=m.$pop();return q.get("Inline").$new(c,"menu",l,b(["attributes"],
{attributes:b(["menu","submenus","menuitem"],{menu:h,submenus:m,menuitem:x})})).$convert()},v.$$s=this,v),e).call(c,q.get("MenuInlineRx"))}if((e=(n=N=this.document.$extensions(),!1!==n&&n!==l?N["$inline_macros?"]():n))!==l&&(!e.$$is_boolean||!0==e))(e=(n=N.$inline_macros()).$each,e.$$p=(C=function(a){var c=C.$$s||this,f,d,g;null==a&&(a=l);return K=(f=(d=K).$gsub,f.$$p=(g=function(){var c=g.$$s||this,f,d=l,e=l,d=l;null==w["~"]&&(w["~"]=l);d=w["~"];if((f=d["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||
!0==f))return d["$[]"](0)["$[]"](z(1,-1,!1));e=d["$[]"](1);d=a.$config()["$[]"]("format")["$=="]("short")?b([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(d["$[]"](2),!1!==(f=a.$config()["$[]"]("pos_attrs"))&&f!==l?f:[],b(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):b(["text"],{text:c.$unescape_bracketed_text(d["$[]"](2))});return a.$process_method()["$[]"](c,e,d)},g.$$s=c,g),f).call(d,a.$instance().$regexp())},C.$$s=this,C),e).call(n);if((e=
(r=$["$[]"]("macroish"),!1!==r&&r!==l?!1!==(E=K["$include?"]("image:"))&&E!==l?E:K["$include?"]("icon:"):r))!==l&&(!e.$$is_boolean||!0==e))K=(e=(r=K).$gsub,e.$$p=(x=function(){var a=x.$$s||this,c,f,d,g=l,e=f=l,k=l,k=g=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c))return g["$[]"](0)["$[]"](z(1,-1,!1));f=a.$unescape_bracketed_text(g["$[]"](2));(c=g["$[]"](0)["$start_with?"]("icon:"))!==l&&(!c.$$is_boolean||
!0==c)?(e="icon",k=["size"]):(e="image",k=["alt","width","height"]);g=a.$sub_attributes(g["$[]"](1));e["$=="]("icon")||a.document.$register("images",g);k=a.$parse_attributes(f,k);c="alt";f=k;!1!==(d=f["$[]"](c))&&d!==l?d:f["$[]="](c,q.get("Helpers").$basename(g,!0).$tr("_-"," "));return q.get("Inline").$new(a,"image",l,b(["type","target","attributes"],{type:e,target:g,attributes:k})).$convert()},x.$$s=this,x),e).call(r,q.get("ImageInlineMacroRx"));if((e=!1!==(E=$["$[]"]("macroish_short_form"))&&E!==
l?E:$["$[]"]("round_bracket"))!==l&&(!e.$$is_boolean||!0==e))K=(e=(E=K).$gsub,e.$$p=(B=function(){var c=B.$$s||this,f,d,g=l,e=l,k=l,h=l,g=g=l;null==c.document&&(c.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];if((f=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||!0==f))return g["$[]"](0)["$[]"](z(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||!0==f)&&g["$[]"](1)["$=="](""))g["$[]="](1,l);e=0;k=l;if(!((f=h=g["$[]"](1))!==l&&(!f.$$is_boolean||!0==f)))k=g["$[]"](3),(f=(d=
k["$start_with?"]("("),!1!==d&&d!==l?k["$end_with?"](")"):d))!==l&&(!f.$$is_boolean||!0==f)?(k=k["$[]"](z(1,-1,!0)),e=3):e=2;if((f=!1!==(d=h["$=="]("indexterm"))&&d!==l?d:e["$=="](3))!==l&&(!f.$$is_boolean||!0==f))return g=(f=h["$!"]())!==l&&(!f.$$is_boolean||!0==f)?c.$split_simple_csv(c.$normalize_string(k)):c.$split_simple_csv(c.$normalize_string(g["$[]"](2),!0)),c.document.$register("indexterms",[].concat(a.to_a(g))),q.get("Inline").$new(c,"indexterm",l,b(["attributes"],{attributes:b(["terms"],
{terms:g})})).$convert();g=(f=h["$!"]())!==l&&(!f.$$is_boolean||!0==f)?c.$normalize_string(k):c.$normalize_string(g["$[]"](2),!0);c.document.$register("indexterms",[g]);return q.get("Inline").$new(c,"indexterm",g,b(["type"],{type:"visible"})).$convert()},B.$$s=this,B),e).call(E,q.get("IndextermInlineMacroRx"));if((e=(g=!1!==aa&&aa!==l)?K["$include?"]("://"):aa)!==l&&(!e.$$is_boolean||!0==e))K=(e=(g=K).$gsub,e.$$p=(J=function(){var c=J.$$s||this,f,d,g,e,k=l,h=l,m=l,x=l,p=l,v=p=l,k=l;null==c.document&&
(c.document=l);null==w["~"]&&(w["~"]=l);k=w["~"];if((f=k["$[]"](2)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||!0==f))return""+k["$[]"](1)+k["$[]"](2)["$[]"](z(1,-1,!1))+k["$[]"](3);if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||!0==f)&&k["$[]"](3)["$=="](""))k["$[]="](3,l);if((f=(d=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:"))!==l&&(!f.$$is_boolean||!0==f))return k["$[]"](0);h=(f=k["$[]"](1)["$!="]("link:"))!==l&&(!f.$$is_boolean||!0==f)?k["$[]"](1):"";
m=k["$[]"](2);x="";if(!((f=!1!==(d=k["$[]"](3))&&d!==l?d:m["$!~"](q.get("UriTerminator")))!==l&&(!f.$$is_boolean||!0==f)))p=w["~"]["$[]"](0),")"["$==="](p)?(m=m["$[]"](z(0,-2,!1)),x=")"):";"["$==="](p)?(f=(d=h["$start_with?"]("&lt;"),!1!==d&&d!==l?m["$end_with?"]("&gt;"):d))!==l&&(!f.$$is_boolean||!0==f)?(h=h["$[]"](z(4,-1,!1)),m=m["$[]"](z(0,-5,!1))):(f=m["$end_with?"](");"))!==l&&(!f.$$is_boolean||!0==f)?(m=m["$[]"](z(0,-3,!1)),x=");"):(m=m["$[]"](z(0,-2,!1)),x=";"):":"["$==="](p)&&((f=m["$end_with?"]("):"))!==
l&&(!f.$$is_boolean||!0==f)?(m=m["$[]"](z(0,-3,!1)),x="):"):(m=m["$[]"](z(0,-2,!1)),x=":"));c.document.$register("links",m);p=b(["type","target"],{type:"link",target:m});v=l;if((f=k["$[]"](3)["$nil_or_empty?"]())!==l&&(!f.$$is_boolean||!0==f))k="";else{if((f=!1!==S&&S!==l?!1!==(g=k["$[]"](3)["$start_with?"]('"'))&&g!==l?g:(e=k["$[]"](3)["$include?"](","),!1!==e&&e!==l?k["$[]"](3)["$include?"]("="):e):S)!==l&&(!f.$$is_boolean||!0==f)){v=c.$parse_attributes(c.$sub_attributes(k["$[]"](3).$gsub("\\]",
"]")),[]);if((f=v["$has_key?"]("id"))!==l&&(!f.$$is_boolean||!0==f))p["$[]="]("id",v.$delete("id"));k=!1!==(f=v["$[]"](1))&&f!==l?f:""}else k=c.$sub_attributes(k["$[]"](3).$gsub("\\]","]"));if((f=k["$end_with?"]("^"))!==l&&(!f.$$is_boolean||!0==f))k=k.$chop(),!1!==v&&v!==l?(f="window",d=v,!1!==(g=d["$[]"](f))&&g!==l?g:d["$[]="](f,"_blank")):v=b(["window"],{window:"_blank"})}if((f=k["$empty?"]())!==l&&(!f.$$is_boolean||!0==f))if(k=(f=c.document["$attr?"]("hide-uri-scheme"))!==l&&(!f.$$is_boolean||
!0==f)?m.$sub(q.get("UriSniffRx"),""):m,!1!==v&&v!==l)v["$[]="]("role",("bare "+v["$[]"]("role")).$chomp(" "));else v=b(["role"],{role:"bare"});if(!1!==v&&v!==l)p["$[]="]("attributes",v);return""+h+q.get("Inline").$new(c,"anchor",k,p).$convert()+x},J.$$s=this,J),e).call(g,q.get("LinkInlineRx"));if((e=!1!==(M=(D=$["$[]"]("macroish"),!1!==D&&D!==l?K["$include?"]("link:"):D))&&M!==l?M:K["$include?"]("mailto:"))!==l&&(!e.$$is_boolean||!0==e))K=(e=(M=K).$gsub,e.$$p=(L=function(){var a=L.$$s||this,c,f,
d,g=l,e=l,k=l,h=f=l,m=l,g=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c))return g["$[]"](0)["$[]"](z(1,-1,!1));e=g["$[]"](1);k=g["$[]"](0)["$start_with?"]("mailto:");f=!1!==k&&k!==l?"mailto:"+e:e;h=b(["type","target"],{type:"link",target:f});m=l;if((c=!1!==S&&S!==l?!1!==(d=g["$[]"](2)["$start_with?"]('"'))&&d!==l?d:g["$[]"](2)["$include?"](","):S)!==l&&(!c.$$is_boolean||!0==c)){m=a.$parse_attributes(a.$sub_attributes(g["$[]"](2).$gsub("\\]",
"]")),[]);if((c=m["$key?"]("id"))!==l&&(!c.$$is_boolean||!0==c))h["$[]="]("id",m.$delete("id"));if(!1!==k&&k!==l&&(c=m["$key?"](2))!==l&&(!c.$$is_boolean||!0==c))if(f=h["$[]="]("target",""+f+"?subject="+q.get("Helpers").$encode_uri(m["$[]"](2))),(c=m["$key?"](3))!==l&&(!c.$$is_boolean||!0==c))f=h["$[]="]("target",""+f+"&amp;body="+q.get("Helpers").$encode_uri(m["$[]"](3)));g=m["$[]"](1)}else g=a.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));a.document.$register("links",f);if((c=g["$end_with?"]("^"))!==
l&&(!c.$$is_boolean||!0==c))g=g.$chop(),!1!==m&&m!==l?(c="window",f=m,!1!==(d=f["$[]"](c))&&d!==l?d:f["$[]="](c,"_blank")):m=b(["window"],{window:"_blank"});if((c=g["$empty?"]())!==l&&(!c.$$is_boolean||!0==c))if(!1!==k&&k!==l)g=e;else if(g=(c=a.document["$attr?"]("hide-uri-scheme"))!==l&&(!c.$$is_boolean||!0==c)?e.$sub(q.get("UriSniffRx"),""):e,!1!==m&&m!==l)m["$[]="]("role",("bare "+m["$[]"]("role")).$chomp(" "));else m=b(["role"],{role:"bare"});if(!1!==m&&m!==l)h["$[]="]("attributes",m);return q.get("Inline").$new(a,
"anchor",g,h).$convert()},L.$$s=this,L),e).call(M,q.get("LinkInlineMacroRx"));if((e=K["$include?"]("@"))!==l&&(!e.$$is_boolean||!0==e))K=(e=(D=K).$gsub,e.$$p=(R=function(){var a=R.$$s||this,c,f=l,d=l,f=f=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);f=w["~"];d=f["$[]"](0);if((c=f=f["$[]"](1))!==l&&(!c.$$is_boolean||!0==c))return"\\"["$==="](f)?d["$[]"](z(1,-1,!1)):d;f="mailto:"+d;a.document.$register("links",f);return q.get("Inline").$new(a,"anchor",d,b(["type","target"],{type:"link",
target:f})).$convert()},R.$$s=this,R),e).call(D,q.get("EmailInlineMacroRx"));if((e=(u=$["$[]"]("macroish_short_form"),!1!==u&&u!==l?K["$include?"]("footnote"):u))!==l&&(!e.$$is_boolean||!0==e))K=(e=(u=K).$gsub,e.$$p=(t=function(){var c=t.$$s||this,f,d,g,e,k=l,h=l,m=l,x=k=l,p=l,m=l;null==c.document&&(c.document=l);null==w["~"]&&(w["~"]=l);k=w["~"];if((f=k["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||!0==f))return k["$[]"](0)["$[]"](z(1,-1,!1));k["$[]"](1)["$=="]("footnote")?(h=l,m=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(k["$[]"](2),
!0))),!1),k=c.document.$counter("footnote-number"),c.document.$register("footnotes",q.get("Document").$$scope.get("Footnote").$new(k,h,m)),p=x=l):(f=a.to_ary(k["$[]"](2).$split(",",2)),h=null==f[0]?l:f[0],m=null==f[1]?l:f[1],h=h.$strip(),(f=m["$nil_or_empty?"]())!==l&&(!f.$$is_boolean||!0==f)?((f=m=(d=(g=c.document.$references()["$[]"]("footnotes")).$find,d.$$p=(e=function(a){null==a&&(a=l);return a.$id()["$=="](h)},e.$$s=c,e),d).call(g))!==l&&(!f.$$is_boolean||!0==f)?(k=m.$index(),m=m.$text()):(k=
l,m=h),p=h,h=l,x="xref"):(m=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(m,!0))),!1),k=c.document.$counter("footnote-number"),c.document.$register("footnotes",q.get("Document").$$scope.get("Footnote").$new(k,h,m)),x="ref",p=l));return q.get("Inline").$new(c,"footnote",m,b(["attributes","id","target","type"],{attributes:b(["index"],{index:k}),id:h,target:p,type:x})).$convert()},t.$$s=this,t),e).call(u,q.get("FootnoteInlineMacroRx"));return this.$sub_inline_xrefs(this.$sub_inline_anchors(K,
$),$)});a.defn(p,"$sub_inline_anchors",function(d,e){var h,m,p,f,c,v,n;null==e&&(e=l);if((h=(m=!1!==(p=e["$!"]())&&p!==l?p:e["$[]"]("square_bracket"),!1!==m&&m!==l?d["$include?"]("[[["):m))!==l&&(!h.$$is_boolean||!0==h))d=(h=(m=d).$gsub,h.$$p=(f=function(){var a=f.$$s||this,c,d=l,g=d=l;null==w["~"]&&(w["~"]=l);d=w["~"];if((c=d["$[]"](0)["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||!0==c))return d["$[]"](0)["$[]"](z(1,-1,!1));d=g=d["$[]"](1);return q.get("Inline").$new(a,"anchor",g,b(["type","target"],
{type:"bibref",target:d})).$convert()},f.$$s=this,f),h).call(m,q.get("InlineBiblioAnchorRx"));if((h=!1!==(p=(c=!1!==(v=e["$!"]())&&v!==l?v:e["$[]"]("square_bracket"),!1!==c&&c!==l?d["$include?"]("[["):c))&&p!==l?p:(c=!1!==(v=e["$!"]())&&v!==l?v:e["$[]"]("macroish"),!1!==c&&c!==l?d["$include?"]("anchor:"):c))!==l&&(!h.$$is_boolean||!0==h))d=(h=(p=d).$gsub,h.$$p=(n=function(){var c=n.$$s||this,f,d,g=l,e=l,g=l;null==w["~"]&&(w["~"]=l);g=w["~"];if((f=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||
!0==f))return g["$[]"](0)["$[]"](z(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||!0==f)){if(g["$[]"](1)["$=="](""))g["$[]="](1,l);if(g["$[]"](2)["$=="](""))g["$[]="](2,l);if(g["$[]"](4)["$=="](""))g["$[]="](4,l)}e=!1!==(f=g["$[]"](1))&&f!==l?f:g["$[]"](3);g=!1!==(f=!1!==(d=g["$[]"](2))&&d!==l?d:g["$[]"](4))&&f!==l?f:"["+e+"]";return q.get("Inline").$new(c,"anchor",g,b(["type","target"],{type:"ref",target:e})).$convert()},n.$$s=this,n),h).call(p,q.get("InlineAnchorRx"));return d});
a.defn(p,"$sub_inline_xrefs",function(d,e){var h,m,p,f;null==e&&(e=l);if((h=!1!==(m=!1!==(p=e["$!"]())&&p!==l?p:e["$[]"]("macroish"))&&m!==l?m:d["$include?"]("&lt;&lt;"))!==l&&(!h.$$is_boolean||!0==h))d=(h=(m=d).$gsub,h.$$p=(f=function(){var c=f.$$s||this,d,g,e,k,h,m,p=l,n=l,s=l,D=n=p=l,y=l,D=l;null==c.document&&(c.document=l);null==w["~"]&&(w["~"]=l);p=w["~"];if((d=p["$[]"](0)["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||!0==d))return p["$[]"](0)["$[]"](z(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==
l&&(!d.$$is_boolean||!0==d)&&p["$[]"](1)["$=="](""))p["$[]="](1,l);if((d=p["$[]"](1))!==l&&(!d.$$is_boolean||!0==d))d=a.to_ary((g=(e=p["$[]"](1).$split(",",2)).$map,g.$$p=(k=function(a){null==a&&(a=l);return a.$strip()},k.$$s=c,k),g).call(e)),n=null==d[0]?l:d[0],s=null==d[1]?l:d[1],n=n.$sub(q.get("DoubleQuotedRx"),"\\2"),s=(d=s["$nil_or_empty?"]())!==l&&(!d.$$is_boolean||!0==d)?l:s.$sub(q.get("DoubleQuotedMultiRx"),"\\2");else if(n=p["$[]"](2),!((d=p["$[]"](3)["$nil_or_empty?"]())!==l&&(!d.$$is_boolean||
!0==d)))s=p["$[]"](3);(d=n["$include?"]("#"))!==l&&(!d.$$is_boolean||!0==d)?(d=a.to_ary(n.$split("#")),p=null==d[0]?l:d[0],n=null==d[1]?l:d[1]):p=l;if(!1!==p&&p!==l)p=q.get("Helpers").$rootname(p),(d=!1!==(g=c.document.$attributes()["$[]"]("docname")["$=="](p))&&g!==l?g:c.document.$references()["$[]"]("includes")["$include?"](p))!==l&&(!d.$$is_boolean||!0==d)?(D=n,p=l,y="#"+n):(D=!1!==n&&n!==l?""+p+"#"+n:p,p=""+c.document.$attributes()["$[]"]("relfileprefix")+p+c.document.$attributes().$fetch("outfilesuffix",
".html"),y=!1!==n&&n!==l?""+p+"#"+n:p);else{if((d=(g=(h=c.document.$references()["$[]"]("ids")["$has_key?"](n)["$!"](),!1!==h&&h!==l?!1!==(m=n["$include?"](" "))&&m!==l?m:n.$downcase()["$!="](n):h),!1!==g&&g!==l?D=(h=q.get("RUBY_MIN_VERSION_1_9"))!==l&&(!h.$$is_boolean||!0==h)?c.document.$references()["$[]"]("ids").$key(n):c.document.$references()["$[]"]("ids").$index(n):g))!==l&&(!d.$$is_boolean||!0==d))n=D;D=n;y="#"+n}return q.get("Inline").$new(c,"anchor",s,b(["type","target","attributes"],{type:"xref",
target:y,attributes:b(["path","fragment","refid"],{path:p,fragment:n,refid:D})})).$convert()},f.$$s=this,f),h).call(m,q.get("XrefInlineMacroRx"));return d});a.defn(p,"$sub_callouts",function(d){var e,h,m=l,m=(e=this["$attr?"]("line-comment"))!==l&&(!e.$$is_boolean||!0==e)?RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+q.get("CalloutSourceRxt")):q.get("CalloutSourceRx");return(e=d.$gsub,e.$$p=(h=function(){var a=h.$$s||this,f=l;null==a.document&&(a.document=l);null==w["~"]&&
(w["~"]=l);f=w["~"];return f["$[]"](1)["$=="]("\\")?f["$[]"](0).$sub("\\",""):q.get("Inline").$new(a,"callout",f["$[]"](3),b(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},h.$$s=this,h),e).call(d,m)});a.defn(p,"$sub_post_replacements",function(a){var d,e,h,m,f=l,c=l;null==this.document&&(this.document=l);null==this.attributes&&(this.attributes=l);if((d=!1!==(e=this.document.$attributes()["$has_key?"]("hardbreaks"))&&e!==l?e:this.attributes["$has_key?"]("hardbreaks-option"))!==l&&
(!d.$$is_boolean||!0==d)){f=a.$split(q.get("EOL"));if(f.$size()["$=="](1))return a;c=f.$pop();return r((d=(e=f).$map,d.$$p=(h=function(a){var c=h.$$s||this;null==a&&(a=l);return q.get("Inline").$new(c,"break",a.$rstrip().$chomp(q.get("LINE_BREAK")),b(["type"],{type:"line"})).$convert()},h.$$s=this,h),d).call(e).$push(c),q.get("EOL"))}return(d=a["$include?"]("+"))!==l&&(!d.$$is_boolean||!0==d)?(d=a.$gsub,d.$$p=(m=function(){var a=m.$$s||this;null==w["~"]&&(w["~"]=l);return q.get("Inline").$new(a,"break",
w["~"]["$[]"](1),b(["type"],{type:"line"})).$convert()},m.$$s=this,m),d).call(a,q.get("LineBreakRx")):a});a.defn(p,"$convert_quoted_text",function(a,d,e){var h,m=l,f=l,c=m=l,m=l;if((h=a["$[]"](0)["$start_with?"]("\\"))!==l&&(!h.$$is_boolean||!0==h))if((h=e["$=="]("constrained")?(f=a["$[]"](2))["$nil_or_empty?"]()["$!"]():e["$=="]("constrained"))!==l&&(!h.$$is_boolean||!0==h))m="["+f+"]";else return a["$[]"](0)["$[]"](z(1,-1,!1));if(e["$=="]("constrained")){if(!1!==m&&m!==l)return""+m+q.get("Inline").$new(this,
"quoted",a["$[]"](3),b(["type"],{type:d})).$convert();(h=m=this.$parse_quoted_text_attributes(a["$[]"](2)))!==l&&(!h.$$is_boolean||!0==h)?(c=m.$delete("id"),d["$=="]("mark")&&(d="unquoted")):c=l;return""+a["$[]"](1)+q.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type","id","attributes"],{type:d,id:c,attributes:m})).$convert()}(h=m=this.$parse_quoted_text_attributes(a["$[]"](1)))!==l&&(!h.$$is_boolean||!0==h)?(c=m.$delete("id"),d["$=="]("mark")&&(d="unquoted")):c=l;return q.get("Inline").$new(this,
"quoted",a["$[]"](2),b(["type","id","attributes"],{type:d,id:c,attributes:m})).$convert()});a.defn(p,"$parse_quoted_text_attributes",function(g){var e,h,m,p=l,f=l,c=l,c=p=l;if(!(!1!==g&&g!==l))return l;if((e=g["$empty?"]())!==l&&(!e.$$is_boolean||!0==e))return b([],{});if((e=g["$include?"]("{"))!==l&&(!e.$$is_boolean||!0==e))g=this.$sub_attributes(g);g=g.$strip();if((e=g["$include?"](","))!==l&&(!e.$$is_boolean||!0==e))e=a.to_ary(g.$split(",",2)),g=null==e[0]?l:e[0];if((e=g["$empty?"]())!==l&&(!e.$$is_boolean||
!0==e))return b([],{});if((e=(h=!1!==(m=g["$start_with?"]("."))&&m!==l?m:g["$start_with?"]("#"),!1!==h&&h!==l?q.get("Compliance").$shorthand_property_syntax():h))!==l&&(!e.$$is_boolean||!0==e)){p=g.$split("#",2);n(p.$length(),1)?(e=a.to_ary(p["$[]"](1).$split(".")),f=null==e[0]?l:e[0],c=d.call(e,1)):(f=l,c=[]);p=(e=p["$[]"](0)["$empty?"]())!==l&&(!e.$$is_boolean||!0==e)?[]:p["$[]"](0).$split(".");n(p.$length(),1)&&p.$shift();n(c.$length(),0)&&p.$concat(c);c=b([],{});if(!1!==f&&f!==l)c["$[]="]("id",
f);if(!((e=p["$empty?"]())!==l&&(!e.$$is_boolean||!0==e)))c["$[]="]("role",r(p," "));return c}return b(["role"],{role:g})});a.defn(p,"$parse_attributes",function(a,d,e){var h,m=l,f=l;null==this.document&&(this.document=l);null==d&&(d=["role"]);null==e&&(e=b([],{}));if(!(!1!==a&&a!==l))return l;if((h=a["$empty?"]())!==l&&(!h.$$is_boolean||!0==h))return b([],{});if((h=e["$[]"]("sub_input"))!==l&&(!h.$$is_boolean||!0==h))a=this.document.$sub_attributes(a);if((h=e["$[]"]("unescape_input"))!==l&&(!h.$$is_boolean||
!0==h))a=this.$unescape_bracketed_text(a);m=l;if((h=e.$fetch("sub_result",!0))!==l&&(!h.$$is_boolean||!0==h))m=this;return(h=f=e["$[]"]("into"))!==l&&(!h.$$is_boolean||!0==h)?q.get("AttributeList").$new(a,m).$parse_into(f,d):q.get("AttributeList").$new(a,m).$parse(d)});a.defn(p,"$unescape_bracketed_text",function(a){var b;return(b=a["$empty?"]())!==l&&(!b.$$is_boolean||!0==b)?"":a.$strip().$tr(q.get("EOL")," ").$gsub("\\]","]")});a.defn(p,"$normalize_string",function(a,b){var d;null==b&&(b=!1);return(d=
a["$empty?"]())!==l&&(!d.$$is_boolean||!0==d)?"":!1!==b&&b!==l?this.$unescape_brackets(a.$strip().$tr(q.get("EOL")," ")):a.$strip().$tr(q.get("EOL")," ")});a.defn(p,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())!==l&&(!b.$$is_boolean||!0==b)?"":a.$gsub("\\]","]")});a.defn(p,"$split_simple_csv",function(a){var b,d,e,h,f=l,c=l,m=l;(b=a["$empty?"]())!==l&&(!b.$$is_boolean||!0==b)?f=[]:(b=a["$include?"]('"'))!==l&&(!b.$$is_boolean||!0==b)?(f=[],c=[],m=!1,(b=a.$each_char,b.$$p=(d=function(a){var b=
l;null==a&&(a=l);return function(){b=a;if(","["$==="](b)){if(!1!==m&&m!==l)return c.$push(a);f["$<<"](c.$join().$strip());return c=[]}return'"'["$==="](b)?m=m["$!"]():c.$push(a)}()},d.$$s=this,d),b).call(a),f["$<<"](c.$join().$strip())):f=(b=(e=a.$split(",")).$map,b.$$p=(h=function(a){null==a&&(a=l);return a.$strip()},h.$$s=this,h),b).call(e);return f});a.defn(p,"$resolve_subs",function(a,b,d,e){var p,f,c,v=l,G=l,C=l,I=l;null==b&&(b="block");null==d&&(d=l);null==e&&(e=l);if((p=a["$nil_or_empty?"]())!==
l&&(!p.$$is_boolean||!0==p))return[];v=l;G=q.get("SubModifierSniffRx")["$=~"](a);(p=(f=a.$tr(" ","").$split(",")).$each,p.$$p=(c=function(a){var c,f,g,e=l,p=f=f=f=l,e=l;null==a&&(a=l);e=l;if(!1!==G&&G!==l)if((f=a.$chr())["$=="]("+"))e="append",a=a["$[]"](z(1,-1,!1));else if(f["$=="]("-"))e="remove",a=a["$[]"](z(1,-1,!1));else if((c=a["$end_with?"]("+"))!==l&&(!c.$$is_boolean||!0==c))e="prepend",a=a.$chop();a=a.$to_sym();(c=(f=b["$=="]("inline"))?!1!==(g=a["$=="]("verbatim"))&&g!==l?g:a["$=="]("v"):
b["$=="]("inline"))!==l&&(!c.$$is_boolean||!0==c)?f=["specialcharacters"]:(c=q.get("COMPOSITE_SUBS")["$key?"](a))!==l&&(!c.$$is_boolean||!0==c)?f=q.get("COMPOSITE_SUBS")["$[]"](a):(c=(f=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==f&&f!==l?q.get("SUB_SYMBOLS")["$key?"](a):f))!==l&&(!c.$$is_boolean||!0==c)?(f=q.get("SUB_SYMBOLS")["$[]"](a),f=(c=p=q.get("COMPOSITE_SUBS")["$[]"](f))!==l&&(!c.$$is_boolean||!0==c)?p:[f]):f=[a];if(!1!==e&&e!==l)return!1!==(c=v)&&c!==l?c:v=!1!==d&&d!==
l?d.$dup():[],"append"["$==="](e)?v=m(v,f):"prepend"["$==="](e)?v=m(f,v):"remove"["$==="](e)?v=h(v,f):l;!1!==(c=v)&&c!==l?c:v=[];return v=m(v,f)},c.$$s=this,c),p).call(f);C=v["$&"](q.get("SUB_OPTIONS")["$[]"](b));if(!((p=h(v,C)["$empty?"]())!==l&&(!p.$$is_boolean||!0==p)))I=h(v,C),this.$warn("asciidoctor: WARNING: invalid substitution type"+(n(I.$size(),1)?"s":"")+(!1!==e&&e!==l?" for ":l)+e+": "+r(I,", "));return C});a.defn(p,"$resolve_block_subs",function(a,b,d){return this.$resolve_subs(a,"block",
b,d)});a.defn(p,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",l,"passthrough macro")});a.defn(p,"$highlight_source",function(d,e,h){var p,n,f,c,v,G=l,C=l,I=l,E=l,x=l,B=l,J=l,M=C=l,D=l,L=G=l,R=l;null==this.document&&(this.document=l);null==this.passthroughs&&(this.passthroughs=l);null==h&&(h=l);G=!1!==(p=h)&&p!==l?p:h=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](G)){if(!((p=!1!==(n=C=null==a.Object.$$scope.CodeRay?l:"constant")&&n!==l?n:this.document.$attributes()["$[]"]("coderay-unavailable"))!==
l&&(!p.$$is_boolean||!0==p)))(p=q.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())!==l&&(!p.$$is_boolean||!0==p)?this.document.$set_attr("coderay-unavailable",!0):C=!0}else if("pygments"["$==="](G)){if(!((p=!1!==(n=C=null==a.Object.$$scope.Pygments?l:"constant")&&n!==l?n:this.document.$attributes()["$[]"]("pygments-unavailable"))!==l&&(!p.$$is_boolean||!0==p)))(p=q.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())!==l&&(!p.$$is_boolean||!0==p)?this.document.$set_attr("pygments-unavailable",
!0):C=!0}else C=!1;if(!(!1!==C&&C!==l))return this.$sub_source(d,e);I=0;E=!1;if(!1!==e&&e!==l){if(x=b([],{}),B=-1,J=(p=this["$attr?"]("line-comment"))!==l&&(!p.$$is_boolean||!0==p)?RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+q.get("CalloutExtractRxt")):q.get("CalloutExtractRx"),d=r((p=(n=d.$split(q.get("EOL"))).$map,p.$$p=(f=function(a){var c=f.$$s||this,b,d,e;null==a&&(a=l);I=m(I,1);return(b=(d=a).$gsub,b.$$p=(e=function(){var a,c,f,b=l;null==w["~"]&&(w["~"]=l);b=w["~"];
if(b["$[]"](1)["$=="]("\\"))return b["$[]"](0).$sub("\\","");(a=I,c=x,!1!==(f=c["$[]"](a))&&f!==l?f:c["$[]="](a,[]))["$<<"](b["$[]"](3));B=I;return l},e.$$s=c,e),b).call(d,J)},f.$$s=this,f),p).call(n),q.get("EOL")),E=B["$=="](I),(p=x["$empty?"]())!==l&&(!p.$$is_boolean||!0==p))x=l}else x=l;M=C=l;G=h;if("coderay"["$==="](G)){if((p=C=(c=this["$attr?"]("linenums"))!==l&&(!c.$$is_boolean||!0==c)?(!1!==(c=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&c!==l?c:"table").$to_sym():l)!==l&&
(!p.$$is_boolean||!0==p))if((p=this["$attr?"]("highlight",l,!1))!==l&&(!p.$$is_boolean||!0==p))M=this.$resolve_lines_to_highlight(this.$attr("highlight",l,!1));D=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",b(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(p=this.document.$attributes()["$[]"]("coderay-css"))&&p!==l?p:"class").$to_sym(),line_numbers:C,line_number_anchors:!1,highlight_lines:M,bold_every:!1})).$highlight(d)}else if("pygments"["$==="](G)){G=
!1!==(p=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",l,!1)))&&p!==l?p:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");L=b(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});if(!(!1!==(p=this.document.$attributes()["$[]"]("pygments-css"))&&p!==l?p:"class")["$=="]("class"))L["$[]="]("noclasses",!0),L["$[]="]("style",!1!==(p=this.document.$attributes()["$[]"]("pygments-style"))&&p!==l?p:q.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE"));
if((p=this["$attr?"]("highlight",l,!1))!==l&&(!p.$$is_boolean||!0==p))if(!((p=(M=this.$resolve_lines_to_highlight(this.$attr("highlight",l,!1)))["$empty?"]())!==l&&(!p.$$is_boolean||!0==p)))L["$[]="]("hl_lines",r(M," "));(p=this["$attr?"]("linenums"))!==l&&(!p.$$is_boolean||!0==p)?L["$[]="]("linenos",!1!==(p=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&p!==l?p:"table")["$=="]("table")?(C="table",D=G.$highlight(d,b(["options"],{options:L})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,
"\\1")):D=G.$highlight(d,b(["options"],{options:L})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1"):(L["$[]="]("nowrap",!0),D=G.$highlight(d,b(["options"],{options:L})))}if(!((p=this.passthroughs["$empty?"]())!==l&&(!p.$$is_boolean||!0==p)))D=D.$gsub(q.get("PASS_MATCH_HI"),""+q.get("PASS_START")+"\\1"+q.get("PASS_END"));return(p=(c=!1!==e&&e!==l)?x:e)!==l&&(!p.$$is_boolean||!0==p)?(I=0,R=C["$!="]("table"),r((p=(c=D.$split(q.get("EOL"))).$map,p.$$p=(v=function(a){var c=v.$$s||this,
f,d,e,g=l,h=l,k=l,g=l;null==c.document&&(c.document=l);null==a&&(a=l);if(!(!1!==R&&R!==l)){if(!((f=a["$include?"]('<td class="code">'))!==l&&(!f.$$is_boolean||!0==f)))return a;R=!0}I=m(I,1);if((f=g=x.$delete(I))!==l&&(!f.$$is_boolean||!0==f)){h=l;if((f=(d=!1!==E&&E!==l)?x["$empty?"]():E)!==l&&(!f.$$is_boolean||!0==f))(f=k=a.$index("</pre>"))!==l&&(!f.$$is_boolean||!0==f)?(h=a["$[]"](z(k,-1,!1)),a=""+a["$[]"](z(0,k,!0)).$chomp(" ")+" "):a=""+a.$chomp(" ")+" ";if(g.$size()["$=="](1))return""+a+q.get("Inline").$new(c,
"callout",g["$[]"](0),b(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()+h;g=r((f=(d=g).$map,f.$$p=(e=function(a){var c=e.$$s||this;null==c.document&&(c.document=l);null==a&&(a=l);return q.get("Inline").$new(c,"callout",a,b(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},e.$$s=c,e),f).call(d)," ");return""+a+g+h}return a},v.$$s=this,v),p).call(c),q.get("EOL"))):D});a.defn(p,"$resolve_lines_to_highlight",function(b){var d,e,m,p=l,p=[];(d=(e=b.$delete(" ").$split(q.get("DataDelimiterRx"))).$map,
d.$$p=(m=function(f){var c,b=l,d=l,e=l,d=l;null==f&&(f=l);b=!1;if((c=f["$start_with?"]("!"))!==l&&(!c.$$is_boolean||!0==c))f=f["$[]"](z(1,-1,!1)),b=!0;return(c=f["$include?"]("-"))!==l&&(!c.$$is_boolean||!0==c)?(c=a.to_ary(f.$split("-",2)),d=null==c[0]?l:c[0],e=null==c[1]?l:c[1],d=z(d.$to_i(),e.$to_i(),!1).$to_a(),!1!==b&&b!==l?p=h(p,d):p.$concat(d)):!1!==b&&b!==l?p.$delete(f.$to_i()):p["$<<"](f.$to_i())},m.$$s=this,m),d).call(e);return p.$sort().$uniq()});a.defn(p,"$sub_source",function(a,b){return!1!==
b&&b!==l?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(p,"$lock_in_subs",function(){var a,b,d,e,h,f=l,c=f=l;null==this.default_subs&&(this.default_subs=l);null==this.content_model&&(this.content_model=l);null==this.context&&(this.context=l);null==this.attributes&&(this.attributes=l);null==this.style&&(this.style=l);null==this.document&&(this.document=l);null==this.subs&&(this.subs=l);if((a=this.default_subs)!==l&&(!a.$$is_boolean||!0==a))f=this.default_subs;else if(f=
this.content_model,"simple"["$==="](f))f=q.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](f))f=(a=!1!==(b=this.context["$=="]("listing"))&&b!==l?b:(d=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))!==l&&(!a.$$is_boolean||!0==a)?q.get("SUBS")["$[]"]("verbatim"):this.context["$=="]("verse")?q.get("SUBS")["$[]"]("normal"):q.get("SUBS")["$[]"]("basic");else if("raw"["$==="](f))f=this.context["$=="]("stem")?q.get("SUBS")["$[]"]("basic"):
q.get("SUBS")["$[]"]("pass");else return l;(a=c=this.attributes["$[]"]("subs"))!==l&&(!a.$$is_boolean||!0==a)?this.subs=this.$resolve_block_subs(c,f,this.context):this.subs=f.$dup();return(a=(b=(d=(e=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==e&&e!==l?this.attributes["$[]"]("language"):e),!1!==d&&d!==l?this.document["$basebackend?"]("html"):d),!1!==b&&b!==l?q.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):
b))!==l&&(!a.$$is_boolean||!0==a)?this.subs=(a=(b=this.subs).$map,a.$$p=(h=function(a){null==a&&(a=l);return a["$=="]("specialcharacters")?"highlight":a},h.$$s=this,h),a).call(b):l})})(t(u,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var n=a.nil,h=a.module,l=a.klass,e=a.hash2,d=a.range;return function(t){(function(b,$super){function h(){}var u=h=l(b,$super,"AbstractNode",h),p=u.$$proto,q=u.$$scope;p.document=p.attributes=p.path_resolver=p.style=n;u.$include(q.get("Substitutors"));u.$attr_reader("parent");
u.$attr_reader("document");u.$attr_reader("context");u.$attr_reader("node_name");u.$attr_accessor("id");u.$attr_reader("attributes");a.defn(u,"$initialize",function(a,b,d){var h;null==d&&(d=e([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==n?(this.parent=a,this.document=a.$document()):this.document=this.parent=n;this.context=b;this.node_name=b.$to_s();this.attributes=(h=d["$key?"]("attributes"))!==n&&(!h.$$is_boolean||!0==h)?d["$[]"]("attributes").$dup():e([],{});return this.passthroughs=
e([],{})});a.defn(u,"$parent=",function(a){this.parent=a;this.document=a.$document();return n});a.defn(u,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(u,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(u,"$attr",function(b,d,e){var h,m;null==d&&(d=n);null==e&&(e=!0);if((h=a.get("Symbol")["$==="](b))!==n&&(!h.$$is_boolean||!0==h))b=b.$to_s();this["$=="](this.document)&&(e=!1);return!1!==e&&e!==n?!1!==(h=!1!==(m=this.attributes["$[]"](b))&&
m!==n?m:this.document.$attributes()["$[]"](b))&&h!==n?h:d:!1!==(h=this.attributes["$[]"](b))&&h!==n?h:d});a.defn(u,"$attr?",function(b,d,e){var h;null==d&&(d=n);null==e&&(e=!0);if((h=a.get("Symbol")["$==="](b))!==n&&(!h.$$is_boolean||!0==h))b=b.$to_s();this["$=="](this.document)&&(e=!1);return(h=d["$nil?"]())!==n&&(!h.$$is_boolean||!0==h)?!1!==(h=this.attributes["$has_key?"](b))&&h!==n?h:!1!==e&&e!==n?this.document.$attributes()["$has_key?"](b):e:!1!==e&&e!==n?d["$=="](!1!==(h=this.attributes["$[]"](b))&&
h!==n?h:this.document.$attributes()["$[]"](b)):d["$=="](this.attributes["$[]"](b))});a.defn(u,"$set_attr",function(a,b,d){var e;null==d&&(d=!0);if((e=d["$=="](!1)?this.attributes["$key?"](a):d["$=="](!1))!==n&&(!e.$$is_boolean||!0==e))return!1;this.attributes["$[]="](a,b);return!0});a.defn(u,"$set_option",function(a){var b;if((b=this.attributes["$has_key?"]("options"))!==n&&(!b.$$is_boolean||!0==b))this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);else this.attributes["$[]="]("options",
a);return this.attributes["$[]="](""+a+"-option","")});a.defn(u,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(u,"$update_attributes",function(a){this.attributes.$update(a);return n});a.defn(u,"$converter",function(){return this.document.$converter()});a.defn(u,"$role?",function(a){var b;null==a&&(a=n);return!1!==a&&a!==n?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==n?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&
b!==n?b:this.document.$attributes()["$has_key?"]("role")});a.defn(u,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==n?a:this.document.$attributes()["$[]"]("role")});a.defn(u,"$has_role?",function(a){var b,d,e=n;return(b=e=!1!==(d=this.attributes["$[]"]("role"))&&d!==n?d:this.document.$attributes()["$[]"]("role"))!==n&&(!b.$$is_boolean||!0==b)?e.$split(" ")["$include?"](a):!1});a.defn(u,"$roles",function(){var a,b,d=n;return(a=d=!1!==(b=this.attributes["$[]"]("role"))&&
b!==n?b:this.document.$attributes()["$[]"]("role"))!==n&&(!a.$$is_boolean||!0==a)?d.$split(" "):[]});a.defn(u,"$add_role",function(a){var b,d,e=n;return(b=(e=(!1!==(d=this.attributes["$[]"]("role"))&&d!==n?d:"").$split(" "))["$include?"](a))!==n&&(!b.$$is_boolean||!0==b)?n:this.attributes["$[]="]("role",m(e.$push(a)," "))});a.defn(u,"$remove_role",function(a){var b,d,e=n;return(b=(e=(!1!==(d=this.attributes["$[]"]("role"))&&d!==n?d:"").$split(" "))["$include?"](a))!==n&&(!b.$$is_boolean||!0==b)?(e.$delete(a),
this.attributes["$[]="]("role",m(e," "))):n});a.defn(u,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==n?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(u,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&a!==n?a:this.document.$attributes()["$[]"]("reftext")});a.defn(u,"$icon_uri",function(a){var b;return(b=this["$attr?"]("icon"))!==n&&(!b.$$is_boolean||!0==b)?this.$image_uri(this.$attr("icon"),n):this.$image_uri(""+
a+"."+this.document.$attr("icontype","png"),"iconsdir")});a.defn(u,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==n?this.document.$attr(b):n)});a.defn(u,"$image_uri",function(a,b){var d,e,h,f,c=n,m=n;null==b&&(b="imagesdir");return(d=r((c=this.document).$safe(),q.get("SafeMode").$$scope.get("SECURE"))?c["$attr?"]("data-uri"):r((c=this.document).$safe(),q.get("SafeMode").$$scope.get("SECURE")))!==n&&(!d.$$is_boolean||!0==d)?(d=!1!==(e=q.get("Helpers")["$uriish?"](a))&&
e!==n?e:(h=(f=!1!==b&&b!==n?m=c.$attr(b):b,!1!==f&&f!==n?q.get("Helpers")["$uriish?"](m):f),!1!==h&&h!==n?a=this.$normalize_web_path(a,m,!1):h))!==n&&(!d.$$is_boolean||!0==d)?(d=c["$attr?"]("allow-uri-read"))!==n&&(!d.$$is_boolean||!0==d)?this.$generate_data_uri_from_uri(a,c["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,!1!==b&&b!==n?c.$attr(b):n)});a.defn(u,"$generate_data_uri",function(b,h){var m,p,l,f=n,c=f=n,v=n;null==h&&(h=n);f=a.get("File").$extname(b);f=
f["$=="](".svg")?"image/svg+xml":"image/"+f["$[]"](d(1,-1,!1));c=!1!==h&&h!==n?this.$normalize_system_path(b,this.document.$attr(h),n,e(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if(!((m=a.get("File")["$readable?"](c))!==n&&(!m.$$is_boolean||!0==m)))return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+c),"data:"+f+":base64,";v=n;v=(m=a.get("IO")["$respond_to?"]("binread"))!==n&&(!m.$$is_boolean||!0==m)?a.get("IO").$binread(c):(m=(p=a.get("File")).$open,
m.$$p=(l=function(a){null==a&&(a=n);return a.$read()},l.$$s=this,l),m).call(p,c,"rb");return"data:"+f+";base64,"+a.get("Base64").$encode64(v).$delete(q.get("EOL"))});a.defn(u,"$generate_data_uri_from_uri",function(b,d){var e,h,m=n,f=n;null==d&&(d=!1);!1!==d&&d!==n?q.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(e=a.get("RUBY_ENGINE_OPAL")["$!"]())!==n&&(!e.$$is_boolean||!0==e)&&a.get("OpenURI");try{return m=n,f=(e=this.$open,e.$$p=(h=function(a){null==a&&(a=n);m=a.$content_type();
return a.$read()},h.$$s=this,h),e).call(this,b,"rb"),"data:"+m+";base64,"+a.get("Base64").$encode64(f).$delete(q.get("EOL"))}catch(c){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(u,"$read_contents",function(b,d){var h,p,l,f,c,v=n,r=n,C=n;null==d&&(d=e([],{}));v=this.document;if((h=!1!==(p=q.get("Helpers")["$uriish?"](b))&&p!==n?p:(l=(f=r=d["$[]"]("start"),!1!==f&&f!==n?q.get("Helpers")["$uriish?"](r):
f),!1!==l&&l!==n?b=(!1!==(f=this.path_resolver)&&f!==n?f:this.path_resolver=q.get("PathResolver").$new()).$web_path(b,r):l))!==n&&(!h.$$is_boolean||!0==h))if((h=v["$attr?"]("allow-uri-read"))!==n&&(!h.$$is_boolean||!0==h)){(h=v["$attr?"]("cache-uri"))!==n&&(!h.$$is_boolean||!0==h)&&q.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{if(C=(h=(p=a.get("OpenURI")).$open_uri,h.$$p=(c=function(a){null==a&&(a=n);return a.$read()},c.$$s=this,c),h).call(p,b),(h=d["$[]"]("normalize"))!==
n&&(!h.$$is_boolean||!0==h))C=m(q.get("Helpers").$normalize_lines_from_string(C),q.get("EOL"))}catch(I){try{if((h=d.$fetch("warn_on_failure",!0))!==n&&(!h.$$is_boolean||!0==h))this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(h=d["$[]"]("label"))&&h!==n?h:"asset")+" at URI: "+b);C=n}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}else{if((h=d.$fetch("warn_on_failure",!0))!==n&&(!h.$$is_boolean||!0==h))this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(h=
d["$[]"]("label"))&&h!==n?h:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)");C=n}else b=this.$normalize_system_path(b,d["$[]"]("start"),n,e(["target_name"],{target_name:!1!==(h=d["$[]"]("label"))&&h!==n?h:"asset"})),C=this.$read_asset(b,e(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));return C});a.defn(u,"$read_asset",function(b,d){var h;null==d&&(d=e([],{}));if(!((h=a.get("Hash")["$==="](d))!==n&&(!h.$$is_boolean||
!0==h)))d=e(["warn_on_failure"],{warn_on_failure:d["$!="](!1)});if((h=a.get("File")["$readable?"](b))!==n&&(!h.$$is_boolean||!0==h))return(h=d["$[]"]("normalize"))!==n&&(!h.$$is_boolean||!0==h)?m(q.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),q.get("EOL")):a.get("IO").$read(b);(h=d["$[]"]("warn_on_failure"))!==n&&(!h.$$is_boolean||!0==h)&&this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b);return n});a.defn(u,"$normalize_web_path",function(a,b,d){var e;
null==b&&(b=n);null==d&&(d=!0);return(e=!1!==d&&d!==n?q.get("Helpers")["$uriish?"](a):d)!==n&&(!e.$$is_boolean||!0==e)?a:(!1!==(e=this.path_resolver)&&e!==n?e:this.path_resolver=q.get("PathResolver").$new()).$web_path(a,b)});a.defn(u,"$normalize_system_path",function(b,d,h,m){var p,f=n,c=n;null==d&&(d=n);null==h&&(h=n);null==m&&(m=e([],{}));f=!1!==(p=this.path_resolver)&&p!==n?p:this.path_resolver=q.get("PathResolver").$new();if(r((c=this.document).$safe(),q.get("SafeMode").$$scope.get("SAFE")))if(!1!==
d&&d!==n){if(!((p=f["$is_root?"](d))!==n&&(!p.$$is_boolean||!0==p)))d=a.get("File").$join(c.$base_dir(),d)}else d=c.$base_dir();else!1!==d&&d!==n||(d=c.$base_dir()),!1!==h&&h!==n||(h=c.$base_dir());return f.$system_path(b,d,h,m)});a.defn(u,"$normalize_asset_path",function(a,b,d){null==b&&(b="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),n,e(["target_name","recover"],{target_name:b,recover:d}))});a.defn(u,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&
b!==n?b:this.path_resolver=q.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(u,"$is_uri?",function(a){return q.get("Helpers")["$uriish?"](a)});return(a.defn(u,"$list_marker_keyword",function(a){var b;null==a&&(a=n);return q.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==n?b:this.style)}),n)&&"list_marker_keyword"})(h(t,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var n=a.nil,h=a.breaker,l=a.slice,e=a.module,d=a.klass,t=a.hash2;return function(b){b=e(b,"Asciidoctor").$$scope;(function(b,$super){function e(){}var p=e=d(b,$super,"AbstractBlock",e),q=p.$$proto,g=p.$$scope,k,s;q.document=q.attributes=q.blocks=q.source_location=
q.subs=q.title=q.subbed_title=q.caption=q.context=q.style=q.id=q.header=q.next_section_index=q.next_section_number=n;p.$attr_accessor("content_model");p.$attr_reader("subs");p.$attr_reader("blocks");p.$attr_accessor("level");p.$attr_writer("title");p.$attr_accessor("style");p.$attr_accessor("caption");p.$attr_accessor("source_location");a.defn(p,"$initialize",k=function(b,d,f){var c=l.call(arguments,0),e,g=k.$$p;null==f&&(f=t([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,g).apply(this,
c);this.content_model="compound";this.subs=[];this.default_subs=n;this.blocks=[];this.style=this.caption=this.title=this.id=n;this.level=d["$=="]("document")?0:(e=!1!==b&&b!==n?d["$!="]("section"):b)!==n&&(!e.$$is_boolean||!0==e)?b.$level():n;this.next_section_index=0;this.next_section_number=1;return this.source_location=n});a.defn(p,"$block?",function(){return!0});a.defn(p,"$inline?",function(){return!1});a.defn(p,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(p,
"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(p,"render","convert");a.defn(p,"$content",function(){var a,b,f;return m((a=(b=this.blocks).$map,a.$$p=(f=function(a){null==a&&(a=n);return a.$convert()},f.$$s=this,f),a).call(b),g.get("EOL"))});a.defn(p,"$file",function(){var a;return(a=this.source_location)!==n&&(!a.$$is_boolean||!0==a)?this.source_location.$file():n});a.defn(p,"$lineno",function(){var a;return(a=this.source_location)!==
n&&(!a.$$is_boolean||!0==a)?this.source_location.$lineno():n});a.defn(p,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(p,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(p,"$title",function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==n)?"instance-variable":n)!==n&&(!a.$$is_boolean||!0==a)?this.subbed_title:(a=this.title)!==n&&(!a.$$is_boolean||!0==a)?this.subbed_title=this.$apply_title_subs(this.title):this.title});a.defn(p,"$captioned_title",function(){return""+
this.caption+this.$title()});a.defn(p,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(p,"$<<",function(a){return this.blocks["$<<"](a)});a.alias(p,"append","<<");a.defn(p,"$sections",function(){var a,b,f;return(a=(b=this.blocks).$select,a.$$p=(f=function(a){null==a&&(a=n);return a.$context()["$=="]("section")},f.$$s=this,f),a).call(b)});a.defn(p,"$find_by",s=function(b){var d,f,c,e,g,k,m,p=s.$$p||n,l=n,B=n,q=n,r=n,D=n,L=n;null==b&&(b=t([],{}));s.$$p=null;l=[];if((d=(f=(c=(e=
!1!==(g=B=(q=b["$[]"]("context"))["$!"]())&&g!==n?g:q["$=="](this.context),!1!==e&&e!==n?!1!==(g=(r=b["$[]"]("style"))["$!"]())&&g!==n?g:r["$=="](this.style):e),!1!==c&&c!==n?!1!==(e=(D=b["$[]"]("role"))["$!"]())&&e!==n?e:this["$has_role?"](D):c),!1!==f&&f!==n?!1!==(c=(L=b["$[]"]("id"))["$!"]())&&c!==n?c:L["$=="](this.id):f))!==n&&(!d.$$is_boolean||!0==d)){if(!1!==L&&L!==n)return p!==n?(d=(f=a.yield1(p,this))===h?h.$v:f)!==n&&(!d.$$is_boolean||!0==d)?[this]:l:[this];if(p!==n){if((d=(f=a.yield1(p,
this))===h?h.$v:f)!==n&&(!d.$$is_boolean||!0==d))l["$<<"](this)}else l["$<<"](this)}if((d=(f=(c=this.context["$=="]("document"))?!1!==(e=B)&&e!==n?e:q["$=="]("section"):this.context["$=="]("document"),!1!==f&&f!==n?this["$header?"]():f))!==n&&(!d.$$is_boolean||!0==d))l.$concat((d=(f=this.header).$find_by,d.$$p=p.$to_proc(),d).call(f,b));if(!q["$=="]("document"))if(this.context["$=="]("dlist")){if((d=!1!==(c=B)&&c!==n?c:q["$!="]("section"))!==n&&(!d.$$is_boolean||!0==d))(d=(c=this.blocks.$flatten()).$each,
d.$$p=(k=function(a){var c,f;null==a&&(a=n);return l.$concat((c=(f=a).$find_by,c.$$p=p.$to_proc(),c).call(f,b))},k.$$s=this,k),d).call(c)}else d=(e=(g=this.blocks).$each,e.$$p=(m=function(a){var c,f;null==a&&(a=n);return(c=q["$=="]("section")?a.$context()["$!="]("section"):q["$=="]("section"))!==n&&(!c.$$is_boolean||!0==c)?n:l.$concat((c=(f=a).$find_by,c.$$p=p.$to_proc(),c).call(f,b))},m.$$s=this,m),e).call(g);return l});a.alias(p,"query","find_by");a.defn(p,"$remove_sub",function(a){this.subs.$delete(a);
return n});a.defn(p,"$assign_caption",function(a,b){var f,c,d=n,e=d=n;null==a&&(a=n);null==b&&(b=n);if(!((f=!1!==(c=this["$title?"]())&&c!==n?c:this.caption["$!"]())!==n&&(!f.$$is_boolean||!0==f)))return n;if(!1!==a&&a!==n)this.caption=a;else if((f=d=this.document.$attributes()["$[]"]("caption"))!==n&&(!f.$$is_boolean||!0==f))this.caption=d;else if((f=this["$title?"]())!==n&&(!f.$$is_boolean||!0==f))if(!1!==(f=b)&&f!==n?f:b=this.context.$to_s(),(f=d=this.document.$attributes()["$[]"](""+b+"-caption"))!==
n&&(!f.$$is_boolean||!0==f))e=this.document.$counter_increment(""+b+"-number",this),this.caption=""+d+" "+e+". ";return n});a.defn(p,"$assign_index",function(a){var b,f,c,d=n,e=n;b=[this.next_section_index];f=a;f["$index="].apply(f,b);b[b.length-1];this.next_section_index=r(this.next_section_index,1);if(a.$sectname()["$=="]("appendix")){d=this.document.$counter("appendix-number","A");if((b=a.$numbered())!==n&&(!b.$$is_boolean||!0==b))b=[d],f=a,f["$number="].apply(f,b),b[b.length-1];return(b=(e=this.document.$attr("appendix-caption",
""))["$!="](""))!==n&&(!b.$$is_boolean||!0==b)?(b=[""+e+" "+d+": "],f=a,f["$caption="].apply(f,b),b[b.length-1]):(b=[""+d+". "],f=a,f["$caption="].apply(f,b),b[b.length-1])}if((b=a.$numbered())!==n&&(!b.$$is_boolean||!0==b)){if((b=(f=!1!==(c=a.$level()["$=="](1))&&c!==n?c:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==f&&f!==n?this.document.$doctype()["$=="]("book"):f))!==n&&(!b.$$is_boolean||!0==b))return b=[this.document.$counter("chapter-number",1)],f=a,f["$number="].apply(f,b),b[b.length-
1];b=[this.next_section_number];f=a;f["$number="].apply(f,b);b[b.length-1];return this.next_section_number=r(this.next_section_number,1)}return n});return(a.defn(p,"$reindex_sections",function(){var a,b,f;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=n);return a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):n},f.$$s=this,f),a).call(b)}),n)&&"reindex_sections"})(b.base,b.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var r=a.nil,n=a.module,h=a.klass,l=a.hash2;return function(e){(function(d,$super){function b(){}var e=b=h(d,$super,"AttributeList",b),n=e.$$proto,u=e.$$scope;n.attributes=n.scanner=n.delimiter=n.block=n.delimiter_skip_pattern=n.delimiter_boundary_pattern=r;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(u,"CG_BLANK","[ \\t]"),a.cdecl(u,
"CC_WORD","a-zA-Z0-9_"),a.cdecl(u,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(u,"BoundaryRxs",l(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":RegExp(".*?(?="+u.get("CG_BLANK")+"*(,|$))")}));a.cdecl(u,"EscapedQuoteRxs",l(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(u,"NameRx",RegExp(""+u.get("CG_WORD")+"["+u.get("CC_WORD")+"\\-.]*"));a.cdecl(u,"BlankRx",RegExp(""+u.get("CG_BLANK")+"+"));a.cdecl(u,"SkipRxs",l(["blank",","],{blank:u.get("BlankRx"),",":RegExp(""+u.get("CG_BLANK")+"*(,|$)")}));a.defn(e,
"$initialize",function(b,d,e){null==d&&(d=r);null==e&&(e=",");this.scanner=a.get("StringScanner").$new(b);this.block=d;this.delimiter=e;this.delimiter_skip_pattern=u.get("SkipRxs")["$[]"](e);this.delimiter_boundary_pattern=u.get("BoundaryRxs")["$[]"](e);return this.attributes=r});a.defn(e,"$parse_into",function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))});a.defn(e,"$parse",function(a){var b,d,e=r;null==a&&(a=[]);if((b=this.attributes)!==r&&(!b.$$is_boolean||!0==b))return this.attributes;
this.attributes=l([],{});for(e=0;(d=this.$parse_attribute(e,a))!==r&&(!d.$$is_boolean||!0==d)&&!((d=this.scanner["$eos?"]())!==r&&(!d.$$is_boolean||!0==d));)this.$skip_delimiter(),e=m(e,1);return this.attributes});a.defn(e,"$rekey",function(a){return u.get("AttributeList").$rekey(this.attributes,a)});a.defs(e,"$rekey",function(a,b){var d,e;(d=b.$each_with_index,d.$$p=(e=function(b,d){var e,f=r,c=r;null==b&&(b=r);null==d&&(d=r);if(!(!1!==b&&b!==r))return r;f=m(d,1);return(e=c=a["$[]"](f))!==r&&(!e.$$is_boolean||
!0==e)?a["$[]="](b,c):r},e.$$s=this,e),d).call(b);return a});a.defn(e,"$parse_attribute",function(a,b){var d,e,h,l,n=r,f=r,c=f=r,v=r,G=r,f=n=v=r;null==a&&(a=0);null==b&&(b=[]);n=!1;this.$skip_blank();if((f=this.scanner.$peek(1))["$=="]('"'))f=this.$parse_attribute_value(this.scanner.$get_byte()),c=r;else if(f["$=="]("'"))f=this.$parse_attribute_value(this.scanner.$get_byte()),c=r,n=!0;else{f=this.$scan_name();v=0;G=r;if((d=this.scanner["$eos?"]())!==r&&(!d.$$is_boolean||!0==d)){if(!(!1!==f&&f!==r))return!1}else v=
!1!==(d=this.$skip_blank())&&d!==r?d:0,G=this.scanner.$get_byte();if((d=!1!==(e=G["$!"]())&&e!==r?e:G["$=="](this.delimiter))!==r&&(!d.$$is_boolean||!0==d))c=r;else if((d=!1!==(e=G["$!="]("="))&&e!==r?e:f["$!"]())!==r&&(!d.$$is_boolean||!0==d))f=""+f+" "["$*"](v)+G+this.$scan_to_delimiter(),c=r;else if(this.$skip_blank(),(d=this.scanner.$peek(1))!==r&&(!d.$$is_boolean||!0==d))if((G=this.scanner.$get_byte())["$=="]('"'))c=this.$parse_attribute_value(G);else if(G["$=="]("'"))c=this.$parse_attribute_value(G),
n=!0;else if(G["$=="](this.delimiter))c=r;else if(c=""+G+this.$scan_to_delimiter(),c["$=="]("None"))return!0}if(!1!==c&&c!==r)if(v=f,"options"["$==="](v)||"opts"["$==="](v))f="options",(d=(e=c.$tr(" ","").$split(",")).$each,d.$$p=(h=function(a){var c=h.$$s||this;null==c.attributes&&(c.attributes=r);null==a&&(a=r);return c.attributes["$[]="](""+a+"-option","")},h.$$s=this,h),d).call(e),this.attributes["$[]="](f,c);else if("title"["$==="](v))this.attributes["$[]="](f,c);else this.attributes["$[]="](f,
(d=(l=!1!==n&&n!==r?c["$empty?"]()["$!"]():n,!1!==l&&l!==r?this.block:l))!==r&&(!d.$$is_boolean||!0==d)?this.block.$apply_normal_subs(c):c);else{n=(d=(l=!1!==n&&n!==r?f["$empty?"]()["$!"]():n,!1!==l&&l!==r?this.block:l))!==r&&(!d.$$is_boolean||!0==d)?this.block.$apply_normal_subs(f):f;if((d=f=b["$[]"](a))!==r&&(!d.$$is_boolean||!0==d))this.attributes["$[]="](f,n);this.attributes["$[]="](m(a,1),n)}return!0});a.defn(e,"$parse_attribute_value",function(a){var b,d=r;return this.scanner.$peek(1)["$=="](a)?
(this.scanner.$get_byte(),""):(b=d=this.$scan_to_quote(a))!==r&&(!b.$$is_boolean||!0==b)?(this.scanner.$get_byte(),d.$gsub(u.get("EscapedQuoteRxs")["$[]"](a),a)):""+a+this.$scan_to_delimiter()});a.defn(e,"$skip_blank",function(){return this.scanner.$skip(u.get("BlankRx"))});a.defn(e,"$skip_delimiter",function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(e,"$scan_name",function(){return this.scanner.$scan(u.get("NameRx"))});a.defn(e,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});
return(a.defn(e,"$scan_to_quote",function(a){return this.scanner.$scan(u.get("BoundaryRxs")["$[]"](a))}),r)&&"scan_to_quote"})(n(e,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}a.dynamic_require_severity="ignore";var r=a.nil,n=a.slice,h=a.module,l=a.klass,e=a.hash2;return function(d){d=h(d,"Asciidoctor").$$scope;(function(d,$super){function h(){}var z=h=l(d,$super,"Block",h),u=z.$$proto,p=z.$$scope,q,g,k;u.attributes=u.content_model=u.lines=u.subs=u.blocks=u.context=u.style=r;u=["simple"];q=a.cdecl(p,"DEFAULT_CONTENT_MODEL",e("audio image listing literal stem open page_break pass thematic_break video".split(" "),
{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));q["$default="].apply(q,u);u[u.length-1];a.alias(z,"blockname","context");z.$attr_accessor("lines");a.defn(z,"$initialize",g=function(d,h,k){var f=n.call(arguments,0),c,m=g.$$p,l=r,q=r;null==k&&(k=e([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,m).apply(this,f);this.content_model=!1!==(c=k["$[]"]("content_model"))&&c!==
r?c:p.get("DEFAULT_CONTENT_MODEL")["$[]"](h);(c=k["$key?"]("subs"))!==r&&(!c.$$is_boolean||!0==c)?(c=l=k["$[]"]("subs"))!==r&&(!c.$$is_boolean||!0==c)?(l["$=="]("default")?this.default_subs=k["$[]"]("default_subs"):(c=a.get("Array")["$==="](l))!==r&&(!c.$$is_boolean||!0==c)?(this.default_subs=l.$dup(),this.attributes.$delete("subs")):(this.default_subs=r,this.attributes["$[]="]("subs",""+l)),this.$lock_in_subs()):(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):(this.subs=[],this.default_subs=
r);return(c=(q=k["$[]"]("source"))["$nil_or_empty?"]())!==r&&(!c.$$is_boolean||!0==c)?this.lines=[]:(c=a.get("String")["$==="](q))!==r&&(!c.$$is_boolean||!0==c)?this.lines=p.get("Helpers").$normalize_lines_from_string(q):this.lines=q.$dup()});a.defn(z,"$content",k=function(){var d=n.call(arguments,0),e,g,f=this,c=k.$$p,h=r,l=r,q=r,I=r;k.$$p=null;return function(){h=f.content_model;if("compound"["$==="](h))return a.find_super_dispatcher(f,"content",k,c).apply(f,d);if("simple"["$==="](h))return f.$apply_subs(m(f.lines,
p.get("EOL")),f.subs);if("verbatim"["$==="](h)||"raw"["$==="](h)){l=f.$apply_subs(f.lines,f.subs);var n=l.$size();if("number"===typeof n?2>n:n["$<"](2))return l["$[]"](0);for(;(e=(g=q=l["$[]"](0),!1!==g&&g!==r?q.$rstrip()["$empty?"]():g))!==r&&(!e.$$is_boolean||!0==e);)l.$shift();for(;(e=(g=I=l["$[]"](-1),!1!==g&&g!==r?I.$rstrip()["$empty?"]():g))!==r&&(!e.$$is_boolean||!0==e);)l.$pop();return m(l,p.get("EOL"))}f.content_model["$=="]("empty")||f.$warn("Unknown content model '"+f.content_model+"' for block: "+
f.$to_s());return r}()});a.defn(z,"$source",function(){return m(this.lines,p.get("EOL"))});return(a.defn(z,"$to_s",function(){var a=r,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),r)&&"to_s"})(d.base,d.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}function r(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}a.dynamic_require_severity="ignore";var n=a.nil,h=a.module,l=a.klass,e=a.hash2;return function(d){(function(d,$super){function h(){}var z=h=l(d,$super,"Callouts",h),u=z.$$proto;u.co_index=u.lists=u.list_index=n;a.defn(z,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});
a.defn(z,"$register",function(a){var d=n;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=m(this.co_index,1);return d});a.defn(z,"$read_next_id",function(){var a=n,d=n,a=n,d=this.$current_list(),e=this.co_index,h=d.$size();if("number"===typeof e&&"number"===typeof h?e<=h:e["$<="](h))a=d["$[]"](r(this.co_index,1))["$[]"]("id");this.co_index=m(this.co_index,1);return a});a.defn(z,"$callout_ids",function(a){var d,e,h;return(d=(e=
this.$current_list()).$map,d.$$p=(h=function(d){null==d&&(d=n);return d["$[]"]("ordinal")["$=="](a)?""+d["$[]"]("id")+" ":n},h.$$s=this,h),d).call(e).$join().$chop()});a.defn(z,"$current_list",function(){return this.lists["$[]"](r(this.list_index,1))});a.defn(z,"$next_list",function(){this.list_index=m(this.list_index,1);var a=this.lists.$size(),d=this.list_index;if("number"===typeof a&&"number"===typeof d?a<d:a["$<"](d))this.lists["$<<"]([]);this.co_index=1;return n});a.defn(z,"$rewind",function(){this.co_index=
this.list_index=1;return n});a.defn(z,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(z,"$generate_callout_id",function(a,d){return"CO"+a+"-"+d}),n)&&"generate_callout_id"})(h(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module,n=a.klass,h=a.hash2;return function(l){l=r(l,"Asciidoctor").$$scope;r(l.base,"Converter");m;(function(a,$super){function h(){}var b=h=n(a,$super,"Base",h);return b.$include(b.$$scope.get("Converter"))})(l.get("Converter"),null);(function(e,$super){function l(){}var b=l=n(e,$super,"BuiltIn",l);a.defn(b,"$initialize",function(a,b){null==b&&h([],{});return m});a.defn(b,"$convert",function(a,
b,e){var p;null==b&&(b=m);null==e&&(e=h([],{}));!1!==(p=b)&&p!==m?p:b=a.$node_name();return(p=e["$empty?"]())!==m&&(!p.$$is_boolean||!0==p)?this.$send(b,a):this.$send(b,a,e)});a.alias(b,"handles?","respond_to?");a.defn(b,"$content",function(a){return a.$content()});a.alias(b,"pass","content");return(a.defn(b,"$skip",function(a){return m}),m)&&"skip"})(l.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module,n=a.klass,h=a.hash2;return function(l){(function(e){(function(d,$super){function b(){}var e=b=n(d,$super,"Factory",b),l=e.$$proto,r=e.$$scope;l.converters=l.star_converter=m;e.__default__=m;(function(b){a.defn(b,"$default",function(b){var d,e;null==this.__default__&&(this.__default__=m);null==b&&(b=!0);if(!1!==b&&b!==m){if(!(!1!==(d=this.__default__)&&d!==m)){var h;a:{try{(e=null==
a.Object.$$scope.ThreadSafe?m:"constant")!==m&&(!e.$$is_boolean||!0==e)||this.$require("thread_safe".$to_s());h=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(p){if(a.rescue(p,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");h=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw p;}h=void 0}d=this.__default__=h}b=d}else b=!1!==(d=this.__default__)&&
d!==m?d:this.$new();return b});a.defn(b,"$register",function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)});a.defn(b,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(b,"$create",function(a,b){null==b&&(b=h([],{}));return this.$default().$create(a,b)});a.defn(b,"$converters",function(){return this.$default().$converters()});return(a.defn(b,"$unregister_all",function(){return this.$default().$unregister_all()}),m)&&"unregister_all"})(a.get_singleton_class(e));e.$attr_reader("converters");
a.defn(e,"$initialize",function(a){var b;null==a&&(a=m);this.converters=!1!==(b=a)&&b!==m?b:h([],{});return this.star_converter=m});a.defn(e,"$register",function(a,b){var d,e,h;null==b&&(b=["*"]);(d=(e=b).$each,d.$$p=(h=function(b){var d=h.$$s||this;null==d.converters&&(d.converters=m);null==b&&(b=m);d.converters["$[]="](b,a);return b["$=="]("*")?d.star_converter=a:m},h.$$s=this,h),d).call(e);return m});a.defn(e,"$resolve",function(a){var b,d;return b=this.converters,!1!==b&&b!==m?!1!==(d=this.converters["$[]"](a))&&
d!==m?d:this.star_converter:b});a.defn(e,"$unregister_all",function(){this.converters.$clear();return this.star_converter=m});return(a.defn(e,"$create",function(b,d){var e,k=this,l=m,n=l=m,A=m;null==d&&(d=h([],{}));if((e=l=k.$resolve(b))!==m&&(!e.$$is_boolean||!0==e))return(e=l["$is_a?"](a.get("Class")))!==m&&(!e.$$is_boolean||!0==e)?l.$new(b,d):l;l=function(){n=b;if("html5"["$==="](n)){var c;try{c=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":m}catch(f){if(f.$$class===
a.NameError)c=m;else throw f;}(e=c)!==m&&(!e.$$is_boolean||!0==e)||k.$require("asciidoctor/converter/html5".$to_s());return r.get("Html5Converter").$new(b,d)}if("docbook5"["$==="](n)){var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":m}catch(l){if(l.$$class===a.NameError)h=m;else throw l;}(e=h)!==m&&(!e.$$is_boolean||!0==e)||k.$require("asciidoctor/converter/docbook5".$to_s());return r.get("DocBook5Converter").$new(b,d)}if("docbook45"["$==="](n)){var B;
try{B=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":m}catch(v){if(v.$$class===a.NameError)B=m;else throw v;}(e=B)!==m&&(!e.$$is_boolean||!0==e)||k.$require("asciidoctor/converter/docbook45".$to_s());return r.get("DocBook45Converter").$new(b,d)}if("manpage"["$==="](n)){var M;try{M=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":m}catch(D){if(D.$$class===a.NameError)M=m;else throw D;}(e=M)!==m&&(!e.$$is_boolean||
!0==e)||k.$require("asciidoctor/converter/manpage".$to_s());return r.get("ManPageConverter").$new(b,d)}return m}();if(!((e=d["$key?"]("template_dirs"))!==m&&(!e.$$is_boolean||!0==e)))return l;var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":m}catch(c){if(c.$$class===a.NameError)f=m;else throw c;}(e=f)!==m&&(!e.$$is_boolean||!0==e)||k.$require("asciidoctor/converter/template".$to_s());var v;try{v=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?
"constant":m}catch(G){if(G.$$class===a.NameError)v=m;else throw G;}(e=v)!==m&&(!e.$$is_boolean||!0==e)||k.$require("asciidoctor/converter/composite".$to_s());A=r.get("TemplateConverter").$new(b,d["$[]"]("template_dirs"),d);return r.get("CompositeConverter").$new(b,A,l)}),m)&&"create"})(r(e,"Converter").$$scope.base,null)})(r(l,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var m=a.top,r=a.nil,n=a.module,h=a.range,l=a.hash2;(function(e){e=n(e,"Asciidoctor").$$scope;(function(d){d=n(d,"Converter");var e=d.$$scope;(function(b){b=n(b,"Config");var d=b.$$scope;a.defn(b,"$register_for",function(){var b,e,h,m,g,k=r,k=arguments.length-0;0>k&&(k=0);for(var l=Array(k),n=0;n<k;n++)l[n]=arguments[n+0];d.get("Factory").$register(this,l);k=function(a){return a}(a.get_singleton_class(this));l["$=="](["*"])?
(b=(e=k).$send,b.$$p=(h=function(a){return!0},h.$$s=this,h),b).call(e,"define_method","converts?"):(b=(m=k).$send,b.$$p=(g=function(a){null==a&&(a=r);return l["$include?"](a)},g.$$s=this,g),b).call(m,"define_method","converts?");return r})})(e.base);(function(b){b=n(b,"BackendInfo");var d=b.$$scope;a.defn(b,"$backend_info",function(){var a;null==this.backend_info&&(this.backend_info=r);return!1!==(a=this.backend_info)&&a!==r?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",
function(){var b,e=r,m=r,n=r,g=r;null==this.backend&&(this.backend=r);(b=this.backend)!==r&&(!b.$$is_boolean||!0==b)||this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(d.get("TrailingDigitsRx"),"");(b=m=d.get("DEFAULT_EXTENSIONS")["$[]"](e))!==r&&(!b.$$is_boolean||!0==b)?n=m["$[]"](h(1,-1,!1)):(e="html",m=".html",g=n="html");return l(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:m,filetype:n,htmlsyntax:g})});
a.defn(b,"$filetype",function(a){null==a&&(a=r);return!1!==a&&a!==r?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=r);return!1!==a&&a!==r?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});a.defn(b,"$outfilesuffix",function(a){null==a&&(a=r);return!1!==a&&a!==r?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",
function(a){null==a&&(a=r);return!1!==a&&a!==r?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(e.base);(function(b){var d=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(d.get("Config"))}),r)&&"included"})(a.get_singleton_class(d));d.$include(e.get("Config"));d.$include(e.get("BackendInfo"));a.defn(d,"$initialize",function(a,d){null==d&&l([],{});this.backend=a;return this.$setup_backend_info()});a.defn(d,"$convert",function(b,d,e){null==
e&&l([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(d,"convert_with_options","convert")})(e.base);(function(d){d=n(d,"Writer");var e=d.$$scope;a.defn(d,"$write",function(b,d){var h,m,p;(h=d["$respond_to?"]("write"))!==r&&(!h.$$is_boolean||!0==h)?(d.$write(b.$chomp()),d.$write(e.get("EOL"))):(h=(m=a.get("File")).$open,h.$$p=(p=function(a){null==a&&(a=r);return a.$write(b)},p.$$s=this,p),h).call(m,d,"w");return r})})(e.base);(function(d){d=n(d,"VoidWriter");d.$include(d.$$scope.get("Writer"));
a.defn(d,"$write",function(a,b){return r})})(e.base)})(a.base);m.$require("asciidoctor/converter/base");return m.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=a.nil,t=a.module,b=a.klass,w=a.hash2,z=a.range;return function(u){u=t(u,"Asciidoctor").$$scope;(function(p,$super){function g(){}var k=g=b(p,$super,"Html5Converter",g),s=k.$$proto,y=k.$$scope,A;s.xml_mode=s.void_element_slash=s.stylesheets=d;s=[[d,d,d]];A=a.cdecl(y,"QUOTE_TAGS",w("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",
!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));A["$default="].apply(A,s);s[s.length-1];a.cdecl(y,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(y,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(y,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(k,"$initialize",function(a,c){var b;
null==c&&(c=w([],{}));this.xml_mode=c["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(b=this.xml_mode)!==d&&(!b.$$is_boolean||!0==b)?"/":d;return this.stylesheets=y.get("Stylesheets").$instance()});a.defn(k,"$document",function(a){var c,b,e,g,h,k=d,l=d,p=d,J=d,M=d,D=d,s=d,R=D=D=s=J=s=J=s=d,l=D=D=D=d,k=[],l=this.void_element_slash,p="<br"+l+">";if(!((c=(J=a.$attr("asset-uri-scheme","https"))["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))J=""+J+":";M=""+J+"//cdnjs.cloudflare.com/ajax/libs";
D=!1!==(c=m(a.$safe(),y.get("SafeMode").$$scope.get("SECURE")))&&c!==d?c:a["$attr?"]("linkcss");k["$<<"]("<!DOCTYPE html>");s=(c=a["$attr?"]("nolang"))!==d&&(!c.$$is_boolean||!0==c)?d:' lang="'+a.$attr("lang","en")+'"';k["$<<"]("<html"+((c=this.xml_mode)!==d&&(!c.$$is_boolean||!0==c)?' xmlns="http://www.w3.org/1999/xhtml"':d)+s+">");k["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+l+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+l+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
l+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+l+">");if((c=a["$attr?"]("app-name"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+l+">");if((c=a["$attr?"]("description"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+l+">");if((c=a["$attr?"]("keywords"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+
'"'+l+">");if((c=a["$attr?"]("authors"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+l+">");if((c=a["$attr?"]("copyright"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+l+">");k["$<<"]("<title>"+a.$doctitle(w(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((c=y.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==d&&(!c.$$is_boolean||!0==c)){if((c=s=a.$attr("webfonts"))!==
d&&(!c.$$is_boolean||!0==c))k["$<<"]('<link rel="stylesheet" href="'+J+"//fonts.googleapis.com/css?family="+((c=s["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":s)+'"'+l+">");if(!1!==D&&D!==d)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(y.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((c=
a["$attr?"]("stylesheet"))!==d&&(!c.$$is_boolean||!0==c))if(!1!==D&&D!==d)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+l+">");else k["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),w(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((c=a["$attr?"]("icons","font"))!==d&&(!c.$$is_boolean||!0==c))if((c=a["$attr?"]("iconfont-remote"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<link rel="stylesheet" href="'+
a.$attr("iconfont-cdn",""+M+"/font-awesome/4.4.0/css/font-awesome.min.css")+'"'+l+">");else J=""+a.$attr("iconfont-name","font-awesome")+".css",k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(J,a.$attr("stylesdir",""),!1)+'"'+l+">");s=J=a.$attr("source-highlighter");if("coderay"["$==="](s)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==D&&D!==d)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",
""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](s)&&a.$attr("pygments-css","class")["$=="]("class"))if(s=a.$attr("pygments-style"),!1!==D&&D!==d)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(s),a.$attr("stylesdir",""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_pygments_stylesheet(s));if(!((c=(D=a.$docinfo())["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))k["$<<"](D);k["$<<"]("</head>");
D=[];if((c=a.$id())!==d&&(!c.$$is_boolean||!0==c))D["$<<"]('id="'+a.$id()+'"');if((c=(b=(e=a["$attr?"]("toc-class"),!1!==e&&e!==d?a["$attr?"]("toc"):e),!1!==b&&b!==d?a["$attr?"]("toc-placement","auto"):b))!==d&&(!c.$$is_boolean||!0==c))D["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');else D["$<<"]('class="'+a.$doctype()+'"');if((c=a["$attr?"]("max-width"))!==d&&(!c.$$is_boolean||!0==c))D["$<<"]('style="max-width: '+a.$attr("max-width")+';"');k["$<<"]("<body "+
r(D," ")+">");if(!((c=a.$noheader())!==d&&(!c.$$is_boolean||!0==c))){k["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){k["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((c=(b=a["$attr?"]("toc"),!1!==b&&b!==d?a["$attr?"]("toc-placement","auto"):b))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");k["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+
a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((c=a["$has_header?"]())!==d&&(!c.$$is_boolean||!0==c)){if(!((c=a.$notitle())!==d&&(!c.$$is_boolean||!0==c)))k["$<<"]("<h1>"+a.$header().$title()+"</h1>");R=[];if((c=a["$attr?"]("author"))!==d&&(!c.$$is_boolean||!0==c)){R["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+p);if((c=a["$attr?"]("email"))!==d&&(!c.$$is_boolean||!0==c))R["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+
p);if(n(D=a.$attr("authorcount").$to_i(),1))(c=(b=z(2,D,!1)).$each,c.$$p=(g=function(c){var b;null==c&&(c=d);R["$<<"]('<span id="author'+c+'" class="author">'+a.$attr("author_"+c)+"</span>"+p);return(b=a["$attr?"]("email_"+c))!==d&&(!b.$$is_boolean||!0==b)?R["$<<"]('<span id="email'+c+'" class="email">'+a.$sub_macros(a.$attr("email_"+c))+"</span>"+p):d},g.$$s=this,g),c).call(b)}if((c=a["$attr?"]("revnumber"))!==d&&(!c.$$is_boolean||!0==c))R["$<<"]('<span id="revnumber">'+(!1!==(c=a.$attr("version-label"))&&
c!==d?c:"").$downcase()+" "+a.$attr("revnumber")+((c=a["$attr?"]("revdate"))!==d&&(!c.$$is_boolean||!0==c)?",":"")+"</span>");if((c=a["$attr?"]("revdate"))!==d&&(!c.$$is_boolean||!0==c))R["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((c=a["$attr?"]("revremark"))!==d&&(!c.$$is_boolean||!0==c))R["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>");if(!((c=R["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))k["$<<"]('<div class="details">'),k.$concat(R),k["$<<"]("</div>")}if((c=
(e=a["$attr?"]("toc"),!1!==e&&e!==d?a["$attr?"]("toc-placement","auto"):e))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}k["$<<"]("</div>")}k["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");if((c=(e=a["$footnotes?"](),!1!==e&&e!==d?a["$attr?"]("nofootnotes")["$!"]():e))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]('<div id="footnotes">\n<hr'+l+">"),(c=(e=a.$footnotes()).$each,
c.$$p=(h=function(a){null==a&&(a=d);return k["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},h.$$s=this,h),c).call(e),k["$<<"]("</div>");if(!((c=a.$nofooter())!==d&&(!c.$$is_boolean||!0==c))){k["$<<"]('<div id="footer">');k["$<<"]('<div id="footer-text">');if((c=a["$attr?"]("revnumber"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p);if((c=a["$attr?"]("last-update-label"))!==
d&&(!c.$$is_boolean||!0==c))k["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));k["$<<"]("</div>");k["$<<"]("</div>")}if(!((c=(D=a.$docinfo("footer"))["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))k["$<<"](D);s=J;"highlightjs"["$==="](s)||"highlight.js"["$==="](s)?(D=a.$attr("highlightjsdir",""+M+"/highlight.js/8.9.1"),k["$<<"]('<link rel="stylesheet" href="'+D+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+l+">"),k["$<<"]('<script src="'+D+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](s)&&(D=a.$attr("prettifydir",""+M+"/prettify/r298"),k["$<<"]('<link rel="stylesheet" href="'+D+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+l+">"),k["$<<"]('<script src="'+D+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));if((c=a["$attr?"]("stem"))!==d&&(!c.$$is_boolean||!0==c))l=a.$attr("eqnums","none"),l["$=="]("")&&(l="AMS"),k["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+y.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+
"],\n    displayMath: ["+y.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+y.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+(' equationNumbers: { autoNumber: "'+l+'" } ')+'}\n});\n\x3c/script>\n<script src="'+M+'/mathjax/2.5.3/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>');k["$<<"]("</body>");k["$<<"]("</html>");return r(k,
y.get("EOL"))});a.defn(k,"$embedded",function(a){var c,b,e,g=d,h=d,g=[];if(a.$doctype()["$=="]("manpage")){if(!((c=a.$notitle())!==d&&(!c.$$is_boolean||!0==c)))h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,g["$<<"]("<h1"+h+">"+a.$doctitle()+" Manual Page</h1>");g["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else if((c=(b=a["$has_header?"](),!1!==b&&b!==d?a.$notitle()["$!"]():b))!==
d&&(!c.$$is_boolean||!0==c))h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,g["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>");if((c=(b=a["$attr?"]("toc"),!1!==b&&b!==d?["macro","preamble"]["$include?"](a.$attr("toc-placement"))["$!"]():b))!==d&&(!c.$$is_boolean||!0==c))g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");g["$<<"](a.$content());if((c=(b=a["$footnotes?"](),!1!==b&&b!==d?a["$attr?"]("nofootnotes")["$!"]():
b))!==d&&(!c.$$is_boolean||!0==c))g["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(c=(b=a.$footnotes()).$each,c.$$p=(e=function(a){null==a&&(a=d);return g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},e.$$s=this,e),c).call(b),g["$<<"]("</div>");return r(g,y.get("EOL"))});a.defn(k,"$outline",function(a,c){var b,e,g,k=d,m=d,p=d,B=d,n=d,M=d;null==c&&(c=w([],{}));if((b=(k=a.$sections())["$empty?"]())!==
d&&(!b.$$is_boolean||!0==b))return d;m=!1!==(b=c["$[]"]("sectnumlevels"))&&b!==d?b:a.$document().$attr("sectnumlevels",3).$to_i();p=!1!==(b=c["$[]"]("toclevels"))&&b!==d?b:a.$document().$attr("toclevels",2).$to_i();B=[];n=(M=k["$[]"](0)).$level();if((b=(e=n["$=="](0))?M.$special():n["$=="](0))!==d&&(!b.$$is_boolean||!0==b))n=1;B["$<<"]('<ul class="sectlevel'+n+'">');(b=(e=k).$each,b.$$p=(g=function(a){var c=g.$$s||this,b,f,e,k=d,v=d;null==a&&(a=d);k=(b=(f=(e=a.$numbered(),!1!==e&&e!==d?a.$caption()["$!"]():
e),!1!==f&&f!==d?h(a.$level(),m):f))!==d&&(!b.$$is_boolean||!0==b)?""+a.$sectnum()+" ":d;return(b=l(a.$level(),p)?v=c.$outline(a,w(["toclevels","secnumlevels"],{toclevels:p,secnumlevels:m})):l(a.$level(),p))!==d&&(!b.$$is_boolean||!0==b)?(B["$<<"]('<li><a href="#'+a.$id()+'">'+k+a.$captioned_title()+"</a>"),B["$<<"](v),B["$<<"]("</li>")):B["$<<"]('<li><a href="#'+a.$id()+'">'+k+a.$captioned_title()+"</a></li>")},g.$$s=this,g),b).call(e);B["$<<"]("</ul>");return r(B,y.get("EOL"))});a.defn(k,"$section",
function(a){var c,b,g,k=d,m=d,l=d,p=d,B=d,n=d,r=d,D=d,s=d,k=a.$level();if((c=(b=k["$=="](0))?a.$special():k["$=="](0))!==d&&(!c.$$is_boolean||!0==c))k=1;m="h"+e(k,1);l=p=B=n=d;if((c=a.$id())!==d&&(!c.$$is_boolean||!0==c))if(l=' id="'+a.$id()+'"',(c=a.$document()["$attr?"]("sectanchors"))!==d&&(!c.$$is_boolean||!0==c))p='<a class="anchor" href="#'+a.$id()+'"></a>';else if((c=a.$document()["$attr?"]("sectlinks"))!==d&&(!c.$$is_boolean||!0==c))B='<a class="link" href="#'+a.$id()+'">',n="</a>";if(k["$=="](0))return"<h1"+
l+' class="sect0">'+p+B+a.$title()+n+"</h1>\n"+a.$content();r=(c=D=a.$role())!==d&&(!c.$$is_boolean||!0==c)?' class="sect'+k+" "+D+'"':' class="sect'+k+'"';s=(c=(b=(g=a.$numbered(),!1!==g&&g!==d?a.$caption()["$!"]():g),!1!==b&&b!==d?h(k,a.$document().$attr("sectnumlevels",3).$to_i()):b))!==d&&(!c.$$is_boolean||!0==c)?""+a.$sectnum()+" ":d;return"<div"+r+">\n<"+m+l+">"+p+B+s+a.$captioned_title()+n+"</"+m+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"});
a.defn(k,"$admonition",function(a){var c,b=d,e=d,g=d,h=d,k=d,b=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,e=a.$attr("name"),g=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$title()+"</div>\n":d,h=(c=a.$document()["$attr?"]("icons"))!==d&&(!c.$$is_boolean||!0==c)?(c=a.$document()["$attr?"]("icons","font"))!==d&&(!c.$$is_boolean||!0==c)?'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>':'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+
">":'<div class="title">'+a.$caption()+"</div>";return"<div"+b+' class="admonitionblock '+e+(c=k=a.$role(),!1!==c&&c!==d?" "+k:c)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(k,"$audio",function(a){var c,b=d,e=d,g=d,h=g=d,b=a.$document()["$attr?"]("htmlsyntax","xml"),e=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,g=["audioblock",a.$style(),a.$role()].$compact(),g=' class="'+r(g," ")+'"',h=
(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$captioned_title()+"</div>\n":d;return"<div"+e+g+">\n"+h+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((c=a["$option?"]("autoplay"))!==d&&(!c.$$is_boolean||!0==c)?this.$append_boolean_attribute("autoplay",b):d)+((c=a["$option?"]("nocontrols"))!==d&&(!c.$$is_boolean||!0==c)?d:this.$append_boolean_attribute("controls",b))+((c=a["$option?"]("loop"))!==d&&(!c.$$is_boolean||!0==c)?this.$append_boolean_attribute("loop",
b):d)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});a.defn(k,"$colist",function(a){var c,b,g,h,k,m=d,l=d,p=d,n=p=d,m=[],l=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,p=["colist",a.$style(),a.$role()].$compact(),p=' class="'+r(p," ")+'"';m["$<<"]("<div"+l+p+">");if((c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c))m["$<<"]('<div class="title">'+a.$title()+"</div>");(c=a.$document()["$attr?"]("icons"))!==d&&(!c.$$is_boolean||!0==c)?(m["$<<"]("<table>"),
n=a.$document()["$attr?"]("icons","font"),(c=(b=a.$items()).$each_with_index,c.$$p=(g=function(c,b){var h=g.$$s||this,k=d,k=d;null==h.void_element_slash&&(h.void_element_slash=d);null==c&&(c=d);null==b&&(b=d);k=e(b,1);k=!1!==n&&n!==d?'<i class="conum" data-value="'+k+'"></i><b>'+k+"</b>":'<img src="'+a.$icon_uri("callouts/"+k)+'" alt="'+k+'"'+h.void_element_slash+">";return m["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+c.$text()+"</td>\n</tr>")},g.$$s=this,g),c).call(b),m["$<<"]("</table>")):(m["$<<"]("<ol>"),
(c=(h=a.$items()).$each,c.$$p=(k=function(a){null==a&&(a=d);return m["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},k.$$s=this,k),c).call(h),m["$<<"]("</ol>"));m["$<<"]("</div>");return r(m,y.get("EOL"))});a.defn(k,"$dlist",function(b){var c,e,g,h,k,m,l,p=d,n=d,M=d,D=M=M=d,s=n=d,p=[],n=(c=b.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+b.$id()+'"':d,M=b.$style(),M=("qanda"["$==="](M)?["qlist","qanda",b.$role()]:"horizontal"["$==="](M)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),M=
' class="'+r(M," ")+'"';p["$<<"]("<div"+n+M+">");if((c=b["$title?"]())!==d&&(!c.$$is_boolean||!0==c))p["$<<"]('<div class="title">'+b.$title()+"</div>");M=b.$style();if("qanda"["$==="](M))p["$<<"]("<ol>"),(c=(e=b.$items()).$each,c.$$p=(g=function(c,b){var f=g.$$s||this,e,h,k;null==c&&(c=d);null==b&&(b=d);p["$<<"]("<li>");(e=(h=[].concat(a.to_a(c))).$each,e.$$p=(k=function(a){null==a&&(a=d);return p["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=f,k),e).call(h);if(!1!==b&&b!==d){if((e=b["$text?"]())!==
d&&(!e.$$is_boolean||!0==e))p["$<<"]("<p>"+b.$text()+"</p>");if((e=b["$blocks?"]())!==d&&(!e.$$is_boolean||!0==e))p["$<<"](b.$content())}return p["$<<"]("</li>")},g.$$s=this,g),c).call(e),p["$<<"]("</ol>");else if("horizontal"["$==="](M)){D=this.void_element_slash;p["$<<"]("<table>");if((c=!1!==(h=b["$attr?"]("labelwidth"))&&h!==d?h:b["$attr?"]("itemwidth"))!==d&&(!c.$$is_boolean||!0==c))p["$<<"]("<colgroup>"),n=(c=b["$attr?"]("labelwidth"))!==d&&(!c.$$is_boolean||!0==c)?' style="width: '+b.$attr("labelwidth").$chomp("%")+
'%;"':d,p["$<<"]("<col"+n+D+">"),n=(c=b["$attr?"]("itemwidth"))!==d&&(!c.$$is_boolean||!0==c)?' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':d,p["$<<"]("<col"+n+D+">"),p["$<<"]("</colgroup>");(c=(h=b.$items()).$each,c.$$p=(k=function(c,e){var g=k.$$s||this,h,m,l,x=d,v=d;null==c&&(c=d);null==e&&(e=d);p["$<<"]("<tr>");p["$<<"]('<td class="hdlist1'+((h=b["$option?"]("strong"))!==d&&(!h.$$is_boolean||!0==h)?" strong":d)+'">');x=[].concat(a.to_a(c));v=x["$[]"](-1);(h=(m=x).$each,h.$$p=(l=function(a){var c;
null==a&&(a=d);p["$<<"](a.$text());return(c=a["$!="](v))!==d&&(!c.$$is_boolean||!0==c)?p["$<<"]("<br"+D+">"):d},l.$$s=g,l),h).call(m);p["$<<"]("</td>");p["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==d){if((h=e["$text?"]())!==d&&(!h.$$is_boolean||!0==h))p["$<<"]("<p>"+e.$text()+"</p>");if((h=e["$blocks?"]())!==d&&(!h.$$is_boolean||!0==h))p["$<<"](e.$content())}p["$<<"]("</td>");return p["$<<"]("</tr>")},k.$$s=this,k),c).call(h);p["$<<"]("</table>")}else p["$<<"]("<dl>"),s=(c=b.$style())!==d&&(!c.$$is_boolean||
!0==c)?d:' class="hdlist1"',(c=(m=b.$items()).$each,c.$$p=(l=function(c,b){var f=l.$$s||this,e,g,h;null==c&&(c=d);null==b&&(b=d);(e=(g=[].concat(a.to_a(c))).$each,e.$$p=(h=function(a){null==a&&(a=d);return p["$<<"]("<dt"+s+">"+a.$text()+"</dt>")},h.$$s=f,h),e).call(g);if(!1!==b&&b!==d){p["$<<"]("<dd>");if((e=b["$text?"]())!==d&&(!e.$$is_boolean||!0==e))p["$<<"]("<p>"+b.$text()+"</p>");if((e=b["$blocks?"]())!==d&&(!e.$$is_boolean||!0==e))p["$<<"](b.$content());return p["$<<"]("</dd>")}return d},l.$$s=
this,l),c).call(m),p["$<<"]("</dl>");p["$<<"]("</div>");return r(p,y.get("EOL"))});a.defn(k,"$example",function(a){var c,b=d,e=d,g=d,b=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,e=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$captioned_title()+"</div>\n":d;return"<div"+b+' class="'+((c=g=a.$role())!==d&&(!c.$$is_boolean||!0==c)?r(["exampleblock",g]," "):"exampleblock")+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});a.defn(k,"$floating_title",
function(a){var c,b=d,g=d,h=d,b="h"+e(a.$level(),1),g=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,h=[a.$style(),a.$role()].$compact();return"<"+b+g+' class="'+r(h," ")+'">'+a.$title()+"</"+b+">"});a.defn(k,"$image",function(a){var c,b,e,g=d,h=d,k=d,m=d,p=d,n=d,m=k=k=h=h=g=g=m=d,g=a.$attr("target"),h=(c=a["$attr?"]("width"))!==d&&(!c.$$is_boolean||!0==c)?' width="'+a.$attr("width")+'"':d,k=(c=a["$attr?"]("height"))!==d&&(!c.$$is_boolean||!0==c)?' height="'+a.$attr("height")+'"':
d;if((c=(b=!1!==(e=a["$attr?"]("format","svg",!1))&&e!==d?e:g["$include?"](".svg"),!1!==b&&b!==d?l(a.$document().$safe(),y.get("SafeMode").$$scope.get("SECURE")):b))!==d&&(!c.$$is_boolean||!0==c))!1!==(c=m=a["$option?"]("inline"))&&c!==d?c:p=a["$option?"]("interactive"),!1!==m&&m!==d?n=!1!==(c=this.$read_svg_contents(a,g))&&c!==d?c:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==p&&p!==d&&(m=(c=a["$attr?"]("fallback"))!==d&&(!c.$$is_boolean||!0==c)?'<img src="'+a.$image_uri(a.$attr("fallback"))+
'" alt="'+a.$attr("alt")+'"'+h+k+this.void_element_slash+">":'<span class="alt">'+a.$attr("alt")+"</span>",n='<object type="image/svg+xml" data="'+a.$image_uri(g)+'"'+h+k+">"+m+"</object>");!1!==(c=n)&&c!==d?c:n='<img src="'+a.$image_uri(g)+'" alt="'+a.$attr("alt")+'"'+h+k+this.void_element_slash+">";if((c=g=a.$attr("link"))!==d&&(!c.$$is_boolean||!0==c))n='<a class="image" href="'+g+'">'+n+"</a>";g=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d;h=["imageblock",a.$style(),a.$role()].$compact();
h=' class="'+r(h," ")+'"';k=[];if((c=a["$attr?"]("align"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]("text-align: "+a.$attr("align"));if((c=a["$attr?"]("float"))!==d&&(!c.$$is_boolean||!0==c))k["$<<"]("float: "+a.$attr("float"));k=(c=k["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)?d:' style="'+r(k,";")+'"';m=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'\n<div class="title">'+a.$captioned_title()+"</div>":d;return"<div"+g+h+k+'>\n<div class="content">\n'+n+"\n</div>"+m+"\n</div>"});a.defn(k,"$listing",
function(a){var c,b=d,e=d,g=d,h=d,k=h=b=g=b=d,m=d,b=!1!==(c=a.$document()["$attr?"]("prewrap")["$!"]())&&c!==d?c:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=(c=e=a.$attr("language",d,!1))!==d&&(!c.$$is_boolean||!0==c)?' data-lang="'+e+'"':d,h=a.$document().$attr("source-highlighter"),"coderay"["$==="](h)?b=' class="CodeRay highlight'+(!1!==b&&b!==d?" nowrap":d)+'"':"pygments"["$==="](h)?b=' class="pygments highlight'+(!1!==b&&b!==d?" nowrap":d)+'"':"highlightjs"["$==="](h)||"highlight.js"["$==="](h)?
(b=' class="highlightjs highlight'+(!1!==b&&b!==d?" nowrap":d)+'"',!1!==e&&e!==d&&(g=' class="language-'+e+'"'+g)):"prettify"["$==="](h)?(b=' class="prettyprint highlight'+(!1!==b&&b!==d?" nowrap":d)+((c=a["$attr?"]("linenums"))!==d&&(!c.$$is_boolean||!0==c)?" linenums":d)+'"',!1!==e&&e!==d&&(g=' class="language-'+e+'"'+g)):"html-pipeline"["$==="](h)?(b=!1!==e&&e!==d?' lang="'+e+'"':d,g=d):(b=' class="highlight'+(!1!==b&&b!==d?" nowrap":d)+'"',!1!==e&&e!==d&&(g=' class="language-'+e+'"'+g)),g="<pre"+
b+"><code"+g+">",b="</code></pre>"):(g="<pre"+(!1!==b&&b!==d?' class="nowrap"':d)+">",b="</pre>");h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d;k=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$captioned_title()+"</div>\n":d;return"<div"+h+' class="listingblock'+(c=m=a.$role(),!1!==c&&c!==d?" "+m:c)+'">\n'+k+'<div class="content">\n'+g+a.$content()+b+"\n</div>\n</div>"});a.defn(k,"$literal",function(a){var c,b=d,e=d,g=d,h=d,b=(c=a.$id())!==d&&(!c.$$is_boolean||
!0==c)?' id="'+a.$id()+'"':d,e=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$title()+"</div>\n":d,g=!1!==(c=a.$document()["$attr?"]("prewrap")["$!"]())&&c!==d?c:a["$option?"]("nowrap");return"<div"+b+' class="literalblock'+(c=h=a.$role(),!1!==c&&c!==d?" "+h:c)+'">\n'+e+'<div class="content">\n<pre'+(!1!==g&&g!==d?' class="nowrap"':d)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(k,"$stem",function(b){var c,e,g=d,h=d,k=d,m=d,p=d,l=d,g=(c=b.$id())!==d&&(!c.$$is_boolean||
!0==c)?' id="'+b.$id()+'"':d,h=(c=b["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+b.$title()+"</div>\n":d;c=a.to_ary(y.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym()));k=null==c[0]?d:c[0];m=null==c[1]?d:c[1];if(!((c=(e=(p=b.$content())["$start_with?"](k),!1!==e&&e!==d?p["$end_with?"](m):e))!==d&&(!c.$$is_boolean||!0==c)))p=""+k+p+m;return"<div"+g+' class="'+((c=l=b.$role())!==d&&(!c.$$is_boolean||!0==c)?r(["stemblock",l]," "):"stemblock")+'">\n'+h+'<div class="content">\n'+
p+"\n</div>\n</div>"});a.defn(k,"$olist",function(a){var c,b,e,g=d,h=d,k=d,m=h=k=d,k=d,g=[],h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,k=["olist",a.$style(),a.$role()].$compact(),k=' class="'+r(k," ")+'"';g["$<<"]("<div"+h+k+">");if((c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c))g["$<<"]('<div class="title">'+a.$title()+"</div>");h=(c=m=a.$list_marker_keyword())!==d&&(!c.$$is_boolean||!0==c)?' type="'+m+'"':d;k=(c=a["$attr?"]("start"))!==d&&(!c.$$is_boolean||!0==c)?' start="'+
a.$attr("start")+'"':d;g["$<<"]('<ol class="'+a.$style()+'"'+h+k+">");(c=(b=a.$items()).$each,c.$$p=(e=function(a){var c;null==a&&(a=d);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((c=a["$blocks?"]())!==d&&(!c.$$is_boolean||!0==c))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e),c).call(b);g["$<<"]("</ol>");g["$<<"]("</div>");return r(g,y.get("EOL"))});a.defn(k,"$open",function(a){var c,b,e,g=d,h=d,k=d,m=d;if((g=a.$style())["$=="]("abstract")){if((c=a.$parent()["$=="](a.$document())?
a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))!==d&&(!c.$$is_boolean||!0==c))return this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d;k=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$title()+"</div>":d;return"<div"+h+' class="quoteblock abstract'+(c=m=a.$role(),!1!==c&&c!==d?" "+m:c)+
'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if((c=g["$=="]("partintro")?!1!==(b=!1!==(e=a.$level()["$!="](0))&&e!==d?e:a.$parent().$context()["$!="]("section"))&&b!==d?b:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))!==d&&(!c.$$is_boolean||!0==c))return this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"";h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':
d;k=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$title()+"</div>":d;return"<div"+h+' class="openblock'+((c=!1!==g&&g!==d?g["$!="]("open"):g)!==d&&(!c.$$is_boolean||!0==c)?" "+g:"")+(c=m=a.$role(),!1!==c&&c!==d?" "+m:c)+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});a.defn(k,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(k,"$paragraph",function(a){var c,b=d,b=d,b=(c=a.$role())!==d&&(!c.$$is_boolean||!0==c)?
'class="paragraph '+a.$role()+'"':'class="paragraph"',b=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?'id="'+a.$id()+'" '+b:b;return(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"});a.defn(k,"$preamble",function(a){var c,b,e=d,e=(c=(b=a["$attr?"]("toc"),!1!==b&&b!==d?a["$attr?"]("toc-placement","preamble"):b))!==d&&(!c.$$is_boolean||!0==c)?'\n<div id="toc" class="'+a.$attr("toc-class",
"toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a.$document())+"\n</div>":d;return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"});a.defn(k,"$quote",function(a){var c,b,e=d,g=d,h=g=d,k=d,m=d,p=d,p=k=d,e=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,g=["quoteblock",a.$role()].$compact(),g=' class="'+r(g," ")+'"',h=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'\n<div class="title">'+a.$title()+"</div>":d,k=
(c=a["$attr?"]("attribution"))!==d&&(!c.$$is_boolean||!0==c)?a.$attr("attribution"):d,m=(c=a["$attr?"]("citetitle"))!==d&&(!c.$$is_boolean||!0==c)?a.$attr("citetitle"):d;(c=!1!==(b=k)&&b!==d?b:m)!==d&&(!c.$$is_boolean||!0==c)?(p=!1!==m&&m!==d?"<cite>"+m+"</cite>":d,k=!1!==k&&k!==d?"&#8212; "+k+(!1!==m&&m!==d?"<br"+this.void_element_slash+">\n":d):d,p='\n<div class="attribution">\n'+k+p+"\n</div>"):p=d;return"<div"+e+g+">"+h+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+p+"\n</div>"});a.defn(k,
"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(k,"$sidebar",function(a){var c,b=d,e=d,g=d,b=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,e=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'<div class="title">'+a.$title()+"</div>\n":d;return"<div"+b+' class="'+((c=g=a.$role())!==d&&(!c.$$is_boolean||!0==c)?r(["sidebarblock",g]," "):"sidebarblock")+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"});a.defn(k,"$table",function(a){var c,
b,e,g,h,k,m,p,l,M,D=d,s=d,R=d,A=d,t=d,u=A=R=t=d,w=d,D=[],s=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,R=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],A=[];if(!((c=a["$option?"]("autowidth"))!==d&&(!c.$$is_boolean||!0==c)))if((t=a.$attr("tablepcwidth"))["$=="](100))R["$<<"]("spread");else A["$<<"]("width: "+t+"%;");if((c=t=a.$role())!==d&&(!c.$$is_boolean||!0==c))R["$<<"](t);R=' class="'+r(R," ")+'"';if((c=a["$attr?"]("float"))!==d&&(!c.$$is_boolean||
!0==c))A["$<<"]("float: "+a.$attr("float")+";");A=(c=A["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)?d:' style="'+r(A," ")+'"';D["$<<"]("<table"+s+R+A+">");if((c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c))D["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");n(a.$attr("rowcount"),0)&&(u=this.void_element_slash,D["$<<"]("<colgroup>"),(c=a["$option?"]("autowidth"))!==d&&(!c.$$is_boolean||!0==c)?(w="<col"+u+">",(c=(b=a.$columns().$size()).$times,c.$$p=(e=function(){return D["$<<"](w)},
e.$$s=this,e),c).call(b)):(c=(g=a.$columns()).$each,c.$$p=(h=function(a){null==a&&(a=d);return D["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+u+">")},h.$$s=this,h),c).call(g),D["$<<"]("</colgroup>"),(c=(k=(p=(l=["head","foot","body"]).$select,p.$$p=(M=function(c){null==c&&(c=d);return a.$rows()["$[]"](c)["$empty?"]()["$!"]()},M.$$s=this,M),p).call(l)).$each,c.$$p=(m=function(c){var b=m.$$s||this,e,g,h;null==c&&(c=d);D["$<<"]("<t"+c+">");(e=(g=a.$rows()["$[]"](c)).$each,e.$$p=(h=function(b){var e=
h.$$s||this,g,k,m;null==b&&(b=d);D["$<<"]("<tr>");(g=(k=b).$each,g.$$p=(m=function(b){var e=m.$$s||this,g,h,k,p,l=d,x=d,B=x=d,n=d,v=d,r=d;null==b&&(b=d);c["$=="]("head")?l=b.$text():(x=b.$style(),"asciidoc"["$==="](x)?l="<div>"+b.$content()+"</div>":"verse"["$==="](x)?l='<div class="verse">'+b.$text()+"</div>":"literal"["$==="](x)?l='<div class="literal"><pre>'+b.$text()+"</pre></div>":(l="",(g=(h=b.$content()).$each,g.$$p=(k=function(a){null==a&&(a=d);return l=""+l+'<p class="tableblock">'+a+"</p>"},
k.$$s=e,k),g).call(h)));x=(g=!1!==(p=c["$=="]("head"))&&p!==d?p:b.$style()["$=="]("header"))!==d&&(!g.$$is_boolean||!0==g)?"th":"td";B=' class="tableblock halign-'+b.$attr("halign")+" valign-"+b.$attr("valign")+'"';n=(g=b.$colspan())!==d&&(!g.$$is_boolean||!0==g)?' colspan="'+b.$colspan()+'"':d;v=(g=b.$rowspan())!==d&&(!g.$$is_boolean||!0==g)?' rowspan="'+b.$rowspan()+'"':d;r=(g=a.$document()["$attr?"]("cellbgcolor"))!==d&&(!g.$$is_boolean||!0==g)?' style="background-color: '+a.$document().$attr("cellbgcolor")+
';"':d;return D["$<<"]("<"+x+B+n+v+r+">"+l+"</"+x+">")},m.$$s=e,m),g).call(k);return D["$<<"]("</tr>")},h.$$s=b,h),e).call(g);return D["$<<"]("</t"+c+">")},m.$$s=this,m),c).call(k));D["$<<"]("</table>");return r(D,y.get("EOL"))});a.defn(k,"$toc",function(a){var c,b,e=d,g=d,h=d,k=d,m=d,p=d;if(!((c=(b=(e=a.$document())["$attr?"]("toc-placement","macro"),!1!==b&&b!==d?e["$attr?"]("toc"):b))!==d&&(!c.$$is_boolean||!0==c)))return"\x3c!-- toc disabled --\x3e";(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?(g=
' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"'):(g=' id="toc"',h=' id="toctitle"');k=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?a.$title():e.$attr("toc-title");m=(c=a["$attr?"]("levels"))!==d&&(!c.$$is_boolean||!0==c)?a.$attr("levels").$to_i():d;p=(c=a["$role?"]())!==d&&(!c.$$is_boolean||!0==c)?a.$role():e.$attr("toc-class","toc");return"<div"+g+' class="'+p+'">\n<div'+h+' class="title">'+k+"</div>\n"+this.$outline(e,w(["toclevels"],{toclevels:m}))+"\n</div>"});a.defn(k,"$ulist",function(a){var c,
b,e,g=d,h=d,k=d,m=d,p=d,l=d,n=d,g=[],h=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,k=["ulist",a.$style(),a.$role()].$compact(),p=m=d;(c=l=a["$option?"]("checklist"))!==d&&(!c.$$is_boolean||!0==c)?(k.$insert(1,"checklist"),n=' class="checklist"',(c=a["$option?"]("interactive"))!==d&&(!c.$$is_boolean||!0==c)?(c=a.$document()["$attr?"]("htmlsyntax","xml"))!==d&&(!c.$$is_boolean||!0==c)?(m='<input type="checkbox" data-item-complete="1" checked="checked"/> ',p='<input type="checkbox" data-item-complete="0"/> '):
(m='<input type="checkbox" data-item-complete="1" checked> ',p='<input type="checkbox" data-item-complete="0"> '):(c=a.$document()["$attr?"]("icons","font"))!==d&&(!c.$$is_boolean||!0==c)?(m='<i class="fa fa-check-square-o"></i> ',p='<i class="fa fa-square-o"></i> '):(m="&#10003; ",p="&#10063; ")):n=(c=a.$style())!==d&&(!c.$$is_boolean||!0==c)?' class="'+a.$style()+'"':d;g["$<<"]("<div"+h+' class="'+r(k," ")+'">');if((c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c))g["$<<"]('<div class="title">'+
a.$title()+"</div>");g["$<<"]("<ul"+n+">");(c=(b=a.$items()).$each,c.$$p=(e=function(a){var c;null==a&&(a=d);g["$<<"]("<li>");if((c=!1!==l&&l!==d?a["$attr?"]("checkbox"):l)!==d&&(!c.$$is_boolean||!0==c))g["$<<"]("<p>"+((c=a["$attr?"]("checked"))!==d&&(!c.$$is_boolean||!0==c)?m:p)+a.$text()+"</p>");else g["$<<"]("<p>"+a.$text()+"</p>");if((c=a["$blocks?"]())!==d&&(!c.$$is_boolean||!0==c))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e),c).call(b);g["$<<"]("</ul>");g["$<<"]("</div>");
return r(g,y.get("EOL"))});a.defn(k,"$verse",function(a){var c,b,e=d,g=d,h=g=d,k=d,m=d,p=d,p=k=d,e=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+a.$id()+'"':d,g=["verseblock",a.$role()].$compact(),g=' class="'+r(g," ")+'"',h=(c=a["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'\n<div class="title">'+a.$title()+"</div>":d,k=(c=a["$attr?"]("attribution"))!==d&&(!c.$$is_boolean||!0==c)?a.$attr("attribution"):d,m=(c=a["$attr?"]("citetitle"))!==d&&(!c.$$is_boolean||!0==c)?a.$attr("citetitle"):d;(c=!1!==
(b=k)&&b!==d?b:m)!==d&&(!c.$$is_boolean||!0==c)?(p=!1!==m&&m!==d?"<cite>"+m+"</cite>":d,k=!1!==k&&k!==d?"&#8212; "+k+(!1!==m&&m!==d?"<br"+this.void_element_slash+">\n":d):d,p='\n<div class="attribution">\n'+k+p+"\n</div>"):p=d;return"<div"+e+g+">"+h+'\n<pre class="content">'+a.$content()+"</pre>"+p+"\n</div>"});a.defn(k,"$video",function(b){var c,e,g=this,h=d,k=d,m=d,p=d,l=d,n=d,s=d,D=d,L=d,y=d,A=d,t=d,u=d,w=d,z=d,Z=d,K=d,N=d,Y=d,V=d,Q=d,W=d,T=d,F=d,ba=d,H=d,P=d,ja=d,ka=d,ha=d,U=d,h=b.$document()["$attr?"]("htmlsyntax",
"xml"),k=(c=b.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="'+b.$id()+'"':d,m=["videoblock",b.$style(),b.$role()].$compact(),p=' class="'+r(m," ")+'"',l=(c=b["$title?"]())!==d&&(!c.$$is_boolean||!0==c)?'\n<div class="title">'+b.$captioned_title()+"</div>":d,n=(c=b["$attr?"]("width"))!==d&&(!c.$$is_boolean||!0==c)?' width="'+b.$attr("width")+'"':d,s=(c=b["$attr?"]("height"))!==d&&(!c.$$is_boolean||!0==c)?' height="'+b.$attr("height")+'"':d;return function(){D=b.$attr("poster");if("vimeo"["$==="](D)){if(!((c=
(L=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))L=""+L+":";y=(c=b["$attr?"]("start",d,!1))!==d&&(!c.$$is_boolean||!0==c)?"#at="+b.$attr("start"):d;A="?";t=(c=b["$option?"]("autoplay"))!==d&&(!c.$$is_boolean||!0==c)?""+A+"autoplay=1":d;!1!==t&&t!==d&&(A="&amp;");u=(c=b["$option?"]("loop"))!==d&&(!c.$$is_boolean||!0==c)?""+A+"loop=1":d;return"<div"+k+p+">"+l+'\n<div class="content">\n<iframe'+n+s+' src="'+L+"//player.vimeo.com/video/"+b.$attr("target")+
y+t+u+'" frameborder="0"'+((c=b["$option?"]("nofullscreen"))!==d&&(!c.$$is_boolean||!0==c)?d:g.$append_boolean_attribute("allowfullscreen",h))+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](D)){if(!((c=(L=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)))L=""+L+":";w=(c=b["$option?"]("related"))!==d&&(!c.$$is_boolean||!0==c)?1:0;z=(c=b["$attr?"]("start",d,!1))!==d&&(!c.$$is_boolean||!0==c)?"&amp;start="+b.$attr("start"):d;Z=(c=b["$attr?"]("end",d,!1))!==
d&&(!c.$$is_boolean||!0==c)?"&amp;end="+b.$attr("end"):d;t=(c=b["$option?"]("autoplay"))!==d&&(!c.$$is_boolean||!0==c)?"&amp;autoplay=1":d;u=(c=b["$option?"]("loop"))!==d&&(!c.$$is_boolean||!0==c)?"&amp;loop=1":d;K=(c=b["$option?"]("nocontrols"))!==d&&(!c.$$is_boolean||!0==c)?"&amp;controls=0":d;(c=b["$option?"]("nofullscreen"))!==d&&(!c.$$is_boolean||!0==c)?(N="&amp;fs=0",Y=d):(N=d,Y=g.$append_boolean_attribute("allowfullscreen",h));V=(c=b["$option?"]("modest"))!==d&&(!c.$$is_boolean||!0==c)?"&amp;modestbranding=1":
d;Q=(c=b["$attr?"]("theme",d,!1))!==d&&(!c.$$is_boolean||!0==c)?"&amp;theme="+b.$attr("theme"):d;W=(c=b["$attr?"]("lang"))!==d&&(!c.$$is_boolean||!0==c)?"&amp;hl="+b.$attr("lang"):d;c=a.to_ary(b.$attr("target").$split("/",2));T=null==c[0]?d:c[0];F=null==c[1]?d:c[1];(c=!1!==(e=F)&&e!==d?e:F=b.$attr("list",d,!1))!==d&&(!c.$$is_boolean||!0==c)?ba="&amp;list="+F:(c=a.to_ary(T.$split(",",2)),T=null==c[0]?d:c[0],H=null==c[1]?d:c[1],ba=(c=!1!==(e=H)&&e!==d?e:H=b.$attr("playlist",d,!1))!==d&&(!c.$$is_boolean||
!0==c)?"&amp;playlist="+H:!1!==u&&u!==d?"&amp;playlist="+T:d);return"<div"+k+p+">"+l+'\n<div class="content">\n<iframe'+n+s+' src="'+L+"//www.youtube.com/embed/"+T+"?rel="+w+z+Z+t+u+K+ba+N+V+Q+W+'" frameborder="0"'+Y+"></iframe>\n</div>\n</div>"}P=(c=(""+(ja=b.$attr("poster")))["$empty?"]())!==d&&(!c.$$is_boolean||!0==c)?d:' poster="'+b.$media_uri(ja)+'"';ka=b.$attr("start",d,!1);ha=b.$attr("end",d,!1);U=(c=!1!==(e=ka)&&e!==d?e:ha)!==d&&(!c.$$is_boolean||!0==c)?"#t="+ka+(!1!==ha&&ha!==d?",":d)+ha:
d;return"<div"+k+p+">"+l+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+U+'"'+n+s+P+((c=b["$option?"]("autoplay"))!==d&&(!c.$$is_boolean||!0==c)?g.$append_boolean_attribute("autoplay",h):d)+((c=b["$option?"]("nocontrols"))!==d&&(!c.$$is_boolean||!0==c)?d:g.$append_boolean_attribute("controls",h))+((c=b["$option?"]("loop"))!==d&&(!c.$$is_boolean||!0==c)?g.$append_boolean_attribute("loop",h):d)+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});
a.defn(k,"$inline_anchor",function(a){var c,b,e=this,g=d,h=d,k=d,m=d,p=d,l=d,g=a.$target();return function(){h=a.$type();if("xref"["$==="](h))return k=!1!==(c=a.$attributes()["$[]"]("refid"))&&c!==d?c:g,m=!1!==(c=a.$text())&&c!==d?c:!1!==(b=a.$document().$references()["$[]"]("ids")["$[]"](k))&&b!==d?b:"["+k+"]",'<a href="'+g+'">'+m+"</a>";if("ref"["$==="](h))return'<a id="'+g+'"></a>';if("link"["$==="](h)){p=[];if((c=a.$id())!==d&&(!c.$$is_boolean||!0==c))p["$<<"](' id="'+a.$id()+'"');if((c=l=a.$role())!==
d&&(!c.$$is_boolean||!0==c))p["$<<"](' class="'+l+'"');if((c=a["$attr?"]("title",d,!1))!==d&&(!c.$$is_boolean||!0==c))p["$<<"](' title="'+a.$attr("title")+'"');if((c=a["$attr?"]("window",d,!1))!==d&&(!c.$$is_boolean||!0==c))p["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+g+'"'+p.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](h)?'<a id="'+g+'"></a>['+g+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(k,"$inline_break",function(a){return""+
a.$text()+"<br"+this.void_element_slash+">"});a.defn(k,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(k,"$inline_callout",function(a){var c,b=d;return(c=a.$document()["$attr?"]("icons","font"))!==d&&(!c.$$is_boolean||!0==c)?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":(c=a.$document()["$attr?"]("icons"))!==d&&(!c.$$is_boolean||!0==c)?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):
'<b class="conum">('+a.$text()+")</b>"});a.defn(k,"$inline_footnote",function(a){var c,b=d,e=d;if((c=b=a.$attr("index"))!==d&&(!c.$$is_boolean||!0==c)){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";e=(c=a.$id())!==d&&(!c.$$is_boolean||!0==c)?' id="_footnote_'+a.$id()+'"':d;return'<sup class="footnote"'+e+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+
b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":d});a.defn(k,"$inline_image",function(a){var c,b,e,g,h,k,m,p,n=d,r=d,D=d,s=b=D=d,R=d,A=d,t=d,u=b=d,n=d;if((c=(b=(n=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(n=a.$type())["$=="]("icon"))!==d&&(!c.$$is_boolean||!0==c))r="fa fa-"+a.$target(),(c=(b=w(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,c.$$p=
(e=function(c,b){var e;null==c&&(c=d);null==b&&(b=d);return(e=a["$attr?"](c))!==d&&(!e.$$is_boolean||!0==e)?r=""+r+" "+b+a.$attr(c):d},e.$$s=this,e),c).call(b),D=(c=a["$attr?"]("title"))!==d&&(!c.$$is_boolean||!0==c)?' title="'+a.$attr("title")+'"':d,D='<i class="'+r+'"'+D+"></i>";else if((c=(e=n["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():n["$=="]("icon"))!==d&&(!c.$$is_boolean||!0==c))D="["+a.$attr("alt")+"]";else{b=a.$target();s=(c=(e=["width","height","title"]).$map,c.$$p=(g=function(c){var b;
null==c&&(c=d);return(b=a["$attr?"](c))!==d&&(!b.$$is_boolean||!0==b)?" "+c+'="'+a.$attr(c)+'"':d},g.$$s=this,g),c).call(e).$join();if((c=(h=(k=(m=n["$!="]("icon"),!1!==m&&m!==d?!1!==(p=a["$attr?"]("format","svg",!1))&&p!==d?p:b["$include?"](".svg"):m),!1!==k&&k!==d?l(a.$document().$safe(),y.get("SafeMode").$$scope.get("SECURE")):k),!1!==h&&h!==d?!1!==(k=R=a["$option?"]("inline"))&&k!==d?k:A=a["$option?"]("interactive"):h))!==d&&(!c.$$is_boolean||!0==c))!1!==R&&R!==d?D=!1!==(c=this.$read_svg_contents(a,
b))&&c!==d?c:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==A&&A!==d&&(t=(c=a["$attr?"]("fallback"))!==d&&(!c.$$is_boolean||!0==c)?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+s+this.void_element_slash+">":'<span class="alt">'+a.$attr("alt")+"</span>",D='<object type="image/svg+xml" data="'+a.$image_uri(b)+'"'+s+">"+t+"</object>");!1!==(c=D)&&c!==d?c:D='<img src="'+(n["$=="]("icon")?a.$icon_uri(b):a.$image_uri(b))+'" alt="'+a.$attr("alt")+'"'+s+this.void_element_slash+
">"}if((c=a["$attr?"]("link"))!==d&&(!c.$$is_boolean||!0==c))b=(c=a["$attr?"]("window"))!==d&&(!c.$$is_boolean||!0==c)?' target="'+a.$attr("window")+'"':d,D='<a class="image" href="'+a.$attr("link")+'"'+b+">"+D+"</a>";r=(c=u=a.$role())!==d&&(!c.$$is_boolean||!0==c)?""+n+" "+u:n;n=(c=a["$attr?"]("float"))!==d&&(!c.$$is_boolean||!0==c)?' style="float: '+a.$attr("float")+'"':d;return'<span class="'+r+'"'+n+">"+D+"</span>"});a.defn(k,"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?
a.$text():""});a.defn(k,"$inline_kbd",function(a){var c,b,e,g=d,g=d;if((g=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+g["$[]"](0)+"</kbd>";g=(c=(b=g).$map,c.$$p=(e=function(a){null==a&&(a=d);return"<kbd>"+a+"</kbd>+"},e.$$s=this,e),c).call(b).$join().$chop();return'<span class="keyseq">'+g+"</span>"});a.defn(k,"$inline_menu",function(a){var c,b,e,g=d,h=d,k=h=d,g=a.$attr("menu");return(c=(h=a.$attr("submenus"))["$empty?"]()["$!"]())!==d&&(!c.$$is_boolean||!0==c)?(h=(c=(b=h).$map,c.$$p=(e=function(a){null==
a&&(a=d);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},e.$$s=this,e),c).call(b).$join().$chop(),'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+h+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"):(c=k=a.$attr("menuitem"))!==d&&(!c.$$is_boolean||!0==c)?'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+k+"</span></span>":'<span class="menu">'+g+"</span>"});a.defn(k,"$inline_quoted",function(b){var c,e=d,g=d,
h=d,k=d,e=d;c=a.to_ary(y.get("QUOTE_TAGS")["$[]"](b.$type()));e=null==c[0]?d:c[0];g=null==c[1]?d:c[1];h=null==c[2]?d:c[2];e=(c=k=b.$role())!==d&&(!c.$$is_boolean||!0==c)?!1!==h&&h!==d?""+e.$chop()+' class="'+k+'">'+b.$text()+g:'<span class="'+k+'">'+e+b.$text()+g+"</span>":""+e+b.$text()+g;return(c=b.$id())!==d&&(!c.$$is_boolean||!0==c)?'<a id="'+b.$id()+'"></a>'+e:e});a.defn(k,"$append_boolean_attribute",function(a,c){return!1!==c&&c!==d?" "+a+'="'+a+'"':" "+a});return(a.defn(k,"$read_svg_contents",
function(a,c){var b,e,g,h=d,k=d;if((b=h=a.$read_contents(c,w(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))!==d&&(!b.$$is_boolean||!0==b))h=h.$sub(y.get("SvgPreambleRx"),""),k=d,(b=(e=["width","height"]).$each,b.$$p=(g=function(c){var b;null==c&&(c=d);return(b=a["$attr?"](c))!==d&&(!b.$$is_boolean||!0==b)?(!1!==(b=k)&&b!==d?b:k=h.$match(y.get("SvgStartTagRx"))["$[]"](0).$gsub(y.get("DimensionAttributeRx"),""),k=""+k.$chop()+" "+c+'="'+a.$attr(c)+
'px">'):d},g.$$s=this,g),b).call(e),!1!==k&&k!==d&&(h=h.$sub(y.get("SvgStartTagRx"),k));return h}),d)&&"read_svg_contents"})(u.get("Converter"),u.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.slice,e=a.module,d=a.klass,t=a.hash2,b=a.range;return function(w){w=e(w,"Asciidoctor").$$scope;(function(e,$super){function p(){}var q=p=d(e,$super,"Document",p),g=
q.$$proto,k=q.$$scope,s,y,A;g.attributes=g.safe=g.reader=g.base_dir=g.parsed=g.parent_document=g.extensions=g.options=g.counters=g.references=g.doctype=g.backend=g.header=g.blocks=g.attributes_modified=g.id=g.callouts=g.header_attributes=g.attribute_overrides=g.converter=g.outfilesuffix=g.docinfo_processor_extensions=g.document=h;a.cdecl(k,"Footnote",a.get("Struct").$new("index","id","text"));(function(b,$super){function e(){}var g=e=d(b,$super,"AttributeEntry",e);g.$attr_reader("name","value","negate");
a.defn(g,"$initialize",function(a,b,f){var d;null==f&&(f=h);this.name=a;this.value=b;return this.negate=(d=f["$nil?"]())!==h&&(!d.$$is_boolean||!0==d)?b["$nil?"]():f});return(a.defn(g,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==h?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),h)&&"save_to"})(k.base,null);(function(b,$super){function e(){}var g=e=d(b,$super,"Title",e),k=g.$$proto,m=g.$$scope;k.sanitized=k.subtitle=k.combined=h;g.$attr_reader("main");a.alias(g,
"title","main");g.$attr_reader("subtitle");g.$attr_reader("combined");a.defn(g,"$initialize",function(b,f){var d,e,g,k=h;null==f&&(f=t([],{}));if((d=(e=this.sanitized=f["$[]"]("sanitize"),!1!==e&&e!==h?b["$include?"]("<"):e))!==h&&(!d.$$is_boolean||!0==d))b=b.$gsub(m.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip();(d=!1!==(e=(k=!1!==(g=f["$[]"]("separator"))&&g!==h?g:":")["$empty?"]())&&e!==h?e:b["$include?"](k=""+k+" ")["$!"]())!==h&&(!d.$$is_boolean||!0==d)?(this.main=b,this.subtitle=h):(d=a.to_ary(b.$rpartition(k)),
this.main=null==d[0]?h:d[0],this.subtitle=null==d[2]?h:d[2]);return this.combined=b});a.defn(g,"$sanitized?",function(){return this.sanitized});a.defn(g,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(g,"$to_s",function(){return this.combined}),h)&&"to_s"})(k.base,null);q.$attr_reader("safe");q.$attr_reader("compat_mode");q.$attr_reader("sourcemap");q.$attr_reader("references");q.$attr_reader("counters");q.$attr_reader("callouts");q.$attr_reader("header");q.$attr_reader("base_dir");
q.$attr_reader("options");q.$attr_reader("outfilesuffix");q.$attr_reader("parent_document");q.$attr_reader("reader");q.$attr_reader("converter");q.$attr_reader("extensions");a.defn(q,"$initialize",s=function(f,c){var d,e,g,p,l,n,B,q,M,D,L=h,y=h,A=h,X=h,w=X=h,z=h,S=L=z=X=L=X=X=h;null==f&&(f=h);null==c&&(c=t([],{}));s.$$p=null;a.find_super_dispatcher(this,"initialize",s,null).apply(this,[this,"document"]);if((d=L=c.$delete("parent"))!==h&&(!d.$$is_boolean||!0==d))this.parent_document=L,d="base_dir",
e=c,!1!==(g=e["$[]"](d))&&g!==h?g:e["$[]="](d,L.$base_dir()),this.references=(d=(e=L.$references()).$inject,d.$$p=(p=function(a,b){null==a&&(a=h);var c=b[0],d=b[1];if(c["$=="]("footnotes"))a["$[]="]("footnotes",[]);else a["$[]="](c,d);return a},p.$$s=this,p),d).call(e,t([],{})),y=L.$attributes().$dup(),y.$delete("doctype"),y.$delete("compat-mode"),this.attribute_overrides=y,this.safe=L.$safe(),this.compat_mode=L.$compat_mode(),this.sourcemap=L.$sourcemap(),this.converter=L.$converter(),A=!1,this.extensions=
L.$extensions();else{this.parent_document=h;this.references=t("ids footnotes links images indexterms includes".split(" "),{ids:t([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});y=t([],{});(d=(g=!1!==(l=c["$[]"]("attributes"))&&l!==h?l:t([],{})).$each,d.$$p=(e=function(a,c){var d;null==a&&(a=h);null==c&&(c=h);if((d=a["$start_with?"]("!"))!==h&&(!d.$$is_boolean||!0==d))a=a["$[]"](b(1,-1,!1)),c=h;else if((d=a["$end_with?"]("!"))!==h&&(!d.$$is_boolean||!0==d))a=a.$chop(),
c=h;return y["$[]="](a.$downcase(),c)},e.$$s=this,e),d).call(g);this.attribute_overrides=y;if((d=(X=c["$[]"]("safe"))["$!"]())!==h&&(!d.$$is_boolean||!0==d))this.safe=k.get("SafeMode").$$scope.get("SECURE");else if((d=a.get("Fixnum")["$==="](X))!==h&&(!d.$$is_boolean||!0==d))this.safe=X;else try{this.safe=k.get("SafeMode").$const_get(X.$to_s().$upcase())}catch(Z){try{this.safe=k.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.sourcemap=c["$[]"]("sourcemap");
this.compat_mode=!1;this.converter=h;try{A=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":h}catch(K){if(K.$$class===a.NameError)A=h;else throw K;}this.extensions=h}this.parsed=!1;this.header=h;this.counters=t([],{});this.callouts=k.get("Callouts").$new();this.attributes_modified=a.get("Set").$new();this.options=c;this.docinfo_processor_extensions=t([],{});X=(d="header_footer",l=c,!1!==(n=l["$[]"](d))&&n!==h?n:l["$[]="](d,!1));c.$freeze();w=this.attributes;w["$[]="]("sectids","");
if(!(!1!==X&&X!==h))w["$[]="]("notitle","");w["$[]="]("toc-placement","auto");w["$[]="]("stylesheet","");w["$[]="]("webfonts","");if(!1!==X&&X!==h)w["$[]="]("copycss","");w["$[]="]("prewrap","");w["$[]="]("attribute-undefined",k.get("Compliance").$attribute_undefined());w["$[]="]("attribute-missing",k.get("Compliance").$attribute_missing());w["$[]="]("iconfont-remote","");w["$[]="]("caution-caption","Caution");w["$[]="]("important-caption","Important");w["$[]="]("note-caption","Note");w["$[]="]("tip-caption",
"Tip");w["$[]="]("warning-caption","Warning");w["$[]="]("appendix-caption","Appendix");w["$[]="]("example-caption","Example");w["$[]="]("figure-caption","Figure");w["$[]="]("table-caption","Table");w["$[]="]("toc-title","Table of Contents");w["$[]="]("manname-title","NAME");w["$[]="]("untitled-label","Untitled");w["$[]="]("version-label","Version");w["$[]="]("last-update-label","Last updated");y["$[]="]("asciidoctor","");y["$[]="]("asciidoctor-version",k.get("VERSION"));z=(d=(l=k.get("SafeMode").$constants()).$detect,
d.$$p=(B=function(a){var b=B.$$s||this;null==b.safe&&(b.safe=h);null==a&&(a=h);return k.get("SafeMode").$const_get(a)["$=="](b.safe)},B.$$s=this,B),d).call(l).$to_s().$downcase();y["$[]="]("safe-mode-name",z);y["$[]="]("safe-mode-"+z,"");y["$[]="]("safe-mode-level",this.safe);y["$[]="]("embedded",!1!==X&&X!==h?h:"");d="max-include-depth";n=y;!1!==(q=n["$[]"](d))&&q!==h?q:n["$[]="](d,64);if(!((d=y["$[]"]("allow-uri-read")["$nil?"]()["$!"]())!==h&&(!d.$$is_boolean||!0==d)))y["$[]="]("allow-uri-read",
h);y["$[]="]("user-home",k.get("USER_HOME"));if((d=y["$key?"]("numbered"))!==h&&(!d.$$is_boolean||!0==d))y["$[]="]("sectnums",y.$delete("numbered"));(d=c["$[]"]("base_dir"))!==h&&(!d.$$is_boolean||!0==d)?this.base_dir=y["$[]="]("docdir",a.get("File").$expand_path(c["$[]"]("base_dir"))):(d=y["$[]"]("docdir"))!==h&&(!d.$$is_boolean||!0==d)?this.base_dir=y["$[]="]("docdir",a.get("File").$expand_path(y["$[]"]("docdir"))):this.base_dir=y["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd()));
if((d=X=c["$[]"]("backend"))!==h&&(!d.$$is_boolean||!0==d))y["$[]="]("backend",""+X);if((d=X=c["$[]"]("doctype"))!==h&&(!d.$$is_boolean||!0==d))y["$[]="]("doctype",""+X);if(m(this.safe,k.get("SafeMode").$$scope.get("SERVER"))){d="copycss";n=y;!1!==(q=n["$[]"](d))&&q!==h?q:n["$[]="](d,h);d="source-highlighter";n=y;!1!==(q=n["$[]"](d))&&q!==h?q:n["$[]="](d,h);d="backend";n=y;!1!==(q=n["$[]"](d))&&q!==h?q:n["$[]="](d,k.get("DEFAULT_BACKEND"));if((d=(n=L["$!"](),!1!==n&&n!==h?y["$key?"]("docfile"):n))!==
h&&(!d.$$is_boolean||!0==d))y["$[]="]("docfile",y["$[]"]("docfile")["$[]"](b(r(y["$[]"]("docdir").$length(),1),-1,!1)));y["$[]="]("docdir","");y["$[]="]("user-home",".");if(m(this.safe,k.get("SafeMode").$$scope.get("SECURE"))){if(!((d=y.$fetch("linkcss","")["$nil?"]())!==h&&(!d.$$is_boolean||!0==d)))y["$[]="]("linkcss","");d="icons";n=y;!1!==(q=n["$[]"](d))&&q!==h?q:n["$[]="](d,h)}}(d=(n=y).$delete_if,d.$$p=(M=function(b,c){var d,f,e=h;null==b&&(b=h);null==c&&(c=h);e=!1;if((d=c["$nil?"]())!==h&&(!d.$$is_boolean||
!0==d))w.$delete(b);else{if((d=(f=a.get("String")["$==="](c),!1!==f&&f!==h?c["$end_with?"]("@"):f))!==h&&(!d.$$is_boolean||!0==d))c=c.$chop(),e=!0;w["$[]="](b,c)}return e},M.$$s=this,M),d).call(n);if((d=w["$key?"]("compat-mode"))!==h&&(!d.$$is_boolean||!0==d))this.compat_mode=!0;if(!1!==L&&L!==h)return d="doctype",q=w,!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,k.get("DEFAULT_DOCTYPE")),this.reader=k.get("Reader").$new(f,c["$[]"]("cursor")),k.get("Parser").$parse(this.reader,this),this.$restore_attributes(),
this.parsed=!0;if((d="backend",q=w,!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,k.get("DEFAULT_BACKEND")))["$=="]("manpage"))w["$[]="]("doctype",y["$[]="]("doctype","manpage"));else d="doctype",q=w,!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,k.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(w["$[]"]("backend"),!0);L=a.get("Time").$now();X=(d="localdate",q=w,!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,L.$strftime("%Y-%m-%d")));if(!((d=z=w["$[]"]("localtime"))!==h&&(!d.$$is_boolean||!0==d)))try{z=
w["$[]="]("localtime",L.$strftime("%H:%M:%S %Z"))}catch(N){try{z=w["$[]="]("localtime",L.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}d="localdatetime";q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,""+X+" "+z);d="docdate";q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,X);d="doctime";q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,z);d="docdatetime";q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,""+X+" "+z);d="stylesdir";q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,".");d="iconsdir";
q=w;!1!==(D=q["$[]"](d))&&D!==h?D:q["$[]="](d,a.get("File").$join(w.$fetch("imagesdir","./images"),"icons"));if(!1!==A&&A!==h){if((d=L=c["$[]"]("extensions_registry"))!==h&&(!d.$$is_boolean||!0==d)){if(!((d=!1!==(q=k.get("Extensions").$$scope.get("Registry")["$==="](L))&&q!==h?q:(D=a.get("RUBY_ENGINE_JRUBY"),!1!==D&&D!==h?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](L):D))!==h&&(!d.$$is_boolean||!0==d)))L=k.get("Extensions").$$scope.get("Registry").$new()}else L=
(d=a.get("Proc")["$==="](S=c["$[]"]("extensions")))!==h&&(!d.$$is_boolean||!0==d)?(d=(q=k.get("Extensions")).$build_registry,d.$$p=S.$to_proc(),d).call(q):k.get("Extensions").$$scope.get("Registry").$new();this.extensions=L.$activate(this)}return this.reader=k.get("PreprocessorReader").$new(this,f,k.get("Reader").$$scope.get("Cursor").$new(w["$[]"]("docfile"),this.base_dir))});a.defn(q,"$parse",function(a){var b,d,e,g,m,p=h,l=h;null==a&&(a=h);if((b=this.parsed)!==h&&(!b.$$is_boolean||!0==b))return this;
p=this;!1!==a&&a!==h&&(this.reader=k.get("PreprocessorReader").$new(p,a,k.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir)));if((b=(d=l=(e=this.parent_document)!==h&&(!e.$$is_boolean||!0==e)?h:this.extensions,!1!==d&&d!==h?l["$preprocessors?"]():d))!==h&&(!b.$$is_boolean||!0==b))(b=(d=l.$preprocessors()).$each,b.$$p=(g=function(a){var b=g.$$s||this,c;null==b.reader&&(b.reader=h);null==a&&(a=h);return b.reader=!1!==(c=a.$process_method()["$[]"](p,b.reader))&&
c!==h?c:b.reader},g.$$s=this,g),b).call(d);k.get("Parser").$parse(this.reader,p,t(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()}));this.$restore_attributes();if((b=(e=!1!==l&&l!==h)?l["$treeprocessors?"]():l)!==h&&(!b.$$is_boolean||!0==b))(b=(e=l.$treeprocessors()).$each,b.$$p=(m=function(a){var b,c,d,f=h;null==a&&(a=h);return(b=(c=(d=f=a.$process_method()["$[]"](p),!1!==d&&d!==h?k.get("Document")["$==="](f):d),!1!==c&&c!==h?f["$!="](p):c))!==h&&(!b.$$is_boolean||
!0==b)?p=f:h},m.$$s=this,m),b).call(e);this.parsed=!0;return p});a.defn(q,"$counter",function(a,b){var d,e,g=h,k=h;null==b&&(b=h);if((d=(e=g=(k=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==e&&e!==h?this.counters["$key?"](a):e))!==h&&(!d.$$is_boolean||!0==d))this.counters["$[]="](a,this.$nextval(k));else(d=b["$nil?"]())!==h&&(!d.$$is_boolean||!0==d)?b=this.$nextval(!1!==g&&g!==h?k:0):b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()),this.counters["$[]="](a,b);return this.attributes["$[]="](a,
this.counters["$[]"](a))});a.defn(q,"$counter_increment",function(a,b){var d=h,d=this.$counter(a);k.get("AttributeEntry").$new(a,d).$save_to(b.$attributes());return d});a.defn(q,"$nextval",function(b){var c,d=h;if((c=a.get("Integer")["$==="](b))!==h&&(!c.$$is_boolean||!0==c))return r(b,1);d=b.$to_i();return(c=d.$to_s()["$!="](b.$to_s()))!==h&&(!c.$$is_boolean||!0==c)?r(b["$[]"](0).$ord(),1).$chr():r(d,1)});a.defn(q,"$register",function(b,c,d){var e,g,k,m=h,p=m=h;null==d&&(d=!1);m=b;"ids"["$==="](m)?
(e=a.to_ary([].concat(a.to_a(c))),m=null==e[0]?h:e[0],p=null==e[1]?h:e[1],!1!==(e=p)&&e!==h?e:p=r(r("[",m),"]"),b=!1!==d&&d!==h?this.references["$[]"]("ids")["$[]="](m,p):(e=m,g=this.references["$[]"]("ids"),!1!==(k=g["$[]"](e))&&k!==h?k:g["$[]="](e,p))):b="footnotes"["$==="](m)||"indexterms"["$==="](m)?this.references["$[]"](b)["$<<"](c):(e=this.options["$[]"]("catalog_assets"))!==h&&(!e.$$is_boolean||!0==e)?this.references["$[]"](b)["$<<"](c):h;return b});a.defn(q,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});
a.defn(q,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(q,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(q,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(q,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(q,"$source",function(){var a;return(a=this.reader)!==h&&(!a.$$is_boolean||!0==a)?this.reader.$source():h});a.defn(q,"$source_lines",function(){var a;return(a=this.reader)!==h&&(!a.$$is_boolean||
!0==a)?this.reader.$source_lines():h});a.defn(q,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==h?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(q,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==h?a:this.backend=this.attributes["$[]"]("backend")});a.defn(q,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(q,"$title",function(){return this.attributes["$[]"]("title")});a.defn(q,"$title=",function(a){var b,d;!1!==(b=this.header)&&
b!==h?b:this.header=k.get("Section").$new(this,0);return b=[a],d=this.header,d["$title="].apply(d,b),b[b.length-1]});a.defn(q,"$doctitle",function(a){var b,d,e=h,g=h,m=h;null==a&&(a=t([],{}));if((b=(e=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==h&&(!b.$$is_boolean||!0==b))e=this.$title();else if((b=(d=g=this.$first_section(),!1!==d&&d!==h?g["$title?"]():d))!==h&&(!b.$$is_boolean||!0==b))e=g.$title();else if(!((b=(d=a["$[]"]("use_fallback"),!1!==d&&d!==h?e=this.attributes["$[]"]("untitled-label"):
d))!==h&&(!b.$$is_boolean||!0==b)))return h;return(b=m=a["$[]"]("partition"))!==h&&(!b.$$is_boolean||!0==b)?k.get("Title").$new(e,a.$merge(t(["separator"],{separator:m["$=="](!0)?this.attributes["$[]"]("title-separator"):m}))):(b=(d=a["$[]"]("sanitize"),!1!==d&&d!==h?e["$include?"]("<"):d))!==h&&(!b.$$is_boolean||!0==b)?e.$gsub(k.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():e});a.alias(q,"name","doctitle");a.defn(q,"$author",function(){return this.attributes["$[]"]("author")});a.defn(q,"$revdate",
function(){return this.attributes["$[]"]("revdate")});a.defn(q,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==h?this.attributes["$key?"]("notitle"):a});a.defn(q,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(q,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(q,"$first_section",function(){var a,b,d,e;return(a=this["$has_header?"]())!==h&&(!a.$$is_boolean||!0==a)?this.header:(a=(b=!1!==(e=this.blocks)&&
e!==h?e:[]).$detect,a.$$p=(d=function(a){null==a&&(a=h);return a.$context()["$=="]("section")},d.$$s=this,d),a).call(b)});a.defn(q,"$has_header?",function(){var a;return(a=this.header)!==h&&(!a.$$is_boolean||!0==a)?!0:!1});a.alias(q,"header?","has_header?");a.defn(q,"$<<",y=function(b){var c=l.call(arguments,0),d=y.$$p;y.$$p=null;a.find_super_dispatcher(this,"<<",y,d).apply(this,c);return b.$context()["$=="]("section")?this.$assign_index(b):h});a.defn(q,"$finalize_header",function(a,b){null==b&&(b=
!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!(!1!==b&&b!==h))a["$[]="]("invalid-header",!0);return a});a.defn(q,"$save_attributes",function(){var a,b,d,e,g=h,m=h,p=h,l=h,n=h,q=h,r=h,l=p=h;if((g=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if(!((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==h?b:this.attributes_modified["$include?"]("toc"))!==h&&(!a.$$is_boolean||!0==a)))g["$[]="]("toc","");if(!((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==h?b:this.attributes_modified["$include?"]("sectnums"))!==
h&&(!a.$$is_boolean||!0==a)))g["$[]="]("sectnums","")}if(!((a=!1!==(b=g["$key?"]("doctitle"))&&b!==h?b:(m=this.$doctitle())["$!"]())!==h&&(!a.$$is_boolean||!0==a)))g["$[]="]("doctitle",m);if(!((a=this.id)!==h&&(!a.$$is_boolean||!0==a)))this.id=g["$[]"]("css-signature");p=(a=l=(b=g.$delete("toc2"))!==h&&(!b.$$is_boolean||!0==b)?"left":g["$[]"]("toc"))!==h&&(!a.$$is_boolean||!0==a)?(a=(b=n=g.$fetch("toc-placement","macro"),!1!==b&&b!==h?n["$!="]("auto"):b))!==h&&(!a.$$is_boolean||!0==a)?n:g["$[]"]("toc-position"):
h;if((a=(b=!1!==l&&l!==h)?!1!==(d=l["$empty?"]()["$!"]())&&d!==h?d:p["$nil_or_empty?"]()["$!"]():l)!==h&&(!a.$$is_boolean||!0==a)){q="left";r="toc2";p=(a=p["$nil_or_empty?"]()["$!"]())!==h&&(!a.$$is_boolean||!0==a)?p:(a=l["$empty?"]()["$!"]())!==h&&(!a.$$is_boolean||!0==a)?l:q;g["$[]="]("toc","");g["$[]="]("toc-placement","auto");l=p;if("left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l))g["$[]="]("toc-position","left");else if("right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l))g["$[]="]("toc-position",
"right");else if("top"["$==="](l)||"^"["$==="](l))g["$[]="]("toc-position","top");else if("bottom"["$==="](l)||"v"["$==="](l))g["$[]="]("toc-position","bottom");else"preamble"["$==="](l)||"macro"["$==="](l)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",p)):g.$delete("toc-position"),r=h;!1!==r&&r!==h&&(a="toc-class",b=g,!1!==(d=b["$[]"](a))&&d!==h?d:b["$[]="](a,r))}if((a=g["$key?"]("compat-mode"))!==h&&(!a.$$is_boolean||!0==a)){if((a=g["$has_key?"]("language"))!==h&&(!a.$$is_boolean||
!0==a))g["$[]="]("source-language",g["$[]"]("language"));this.compat_mode=!0}else this.compat_mode=!1;this.outfilesuffix=g["$[]"]("outfilesuffix");this.header_attributes=g.$dup();return(a=this["$nested?"]())!==h&&(!a.$$is_boolean||!0==a)?h:(a=(b=k.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(e=function(a){var b=e.$$s||this,c,d;null==b.attribute_overrides&&(b.attribute_overrides=h);null==a&&(a=h);return(c=(d=b.attribute_overrides["$key?"](a),!1!==d&&d!==h?b.attribute_overrides["$[]"](a):d))!==h&&(!c.$$is_boolean||
!0==c)?b.attribute_overrides.$delete(a):h},e.$$s=this,e),a).call(b)});a.defn(q,"$restore_attributes",function(){this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(q,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(q,"$playback_attributes",function(a){var b,d,e;return(b=a["$key?"]("attribute_entries"))!==h&&(!b.$$is_boolean||!0==b)?(b=(d=a["$[]"]("attribute_entries")).$each,b.$$p=(e=function(a){var b=e.$$s||this,c,d=h;null==b.attributes&&
(b.attributes=h);null==a&&(a=h);d=a.$name();if((c=a.$negate())!==h&&(!c.$$is_boolean||!0==c))return b.attributes.$delete(d),d["$=="]("compat-mode")?b.compat_mode=!1:h;b.attributes["$[]="](d,a.$value());return d["$=="]("compat-mode")?b.compat_mode=!0:h},e.$$s=this,e),b).call(d):h});a.defn(q,"$set_attribute",function(a,b){var d,e=h;if((d=this["$attribute_locked?"](a))!==h&&(!d.$$is_boolean||!0==d))return!1;e=a;if("backend"["$==="](e))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),
this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](e))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0});a.defn(q,"$delete_attribute",function(a){var b;if((b=this["$attribute_locked?"](a))!==h&&(!b.$$is_boolean||!0==b))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0});a.defn(q,"$attribute_locked?",
function(a){return this.attribute_overrides["$key?"](a)});a.defn(q,"$apply_attribute_value_subs",function(a){var b,d=h,e=h;return(b=d=k.get("AttributeEntryPassMacroRx").$match(a))!==h&&(!b.$$is_boolean||!0==b)?(b=d["$[]"](1)["$empty?"]()["$!"]())!==h&&(!b.$$is_boolean||!0==b)?(e=this.$resolve_pass_subs(d["$[]"](1)),(b=e["$empty?"]())!==h&&(!b.$$is_boolean||!0==b)?d["$[]"](2):this.$apply_subs(d["$[]"](2),e)):d["$[]"](2):this.$apply_header_subs(a)});a.defn(q,"$update_backend_attributes",function(a,
c){var d,e,g=h,m=h,p=h,l=h,n=h,q=n=m=h,r=h,n=h;null==c&&(c=!1);if((d=!1!==(e=c)&&e!==h?e:!1!==a&&a!==h?a["$!="](this.attributes["$[]"]("backend")):a)!==h&&(!d.$$is_boolean||!0==d)){g=this.attributes;m=g["$[]"]("backend");p=g["$[]"]("basebackend");l=g["$[]"]("doctype");if((d=a["$start_with?"]("xhtml"))!==h&&(!d.$$is_boolean||!0==d))g["$[]="]("htmlsyntax","xml"),a=a["$[]"](b(1,-1,!1));else if((d=a["$start_with?"]("html"))!==h&&(!d.$$is_boolean||!0==d)&&!g["$[]"]("htmlsyntax")["$=="]("xml"))g["$[]="]("htmlsyntax",
"html");if((d=n=k.get("BACKEND_ALIASES")["$[]"](a))!==h&&(!d.$$is_boolean||!0==d))a=n;!1!==m&&m!==h&&(g.$delete("backend-"+m),!1!==l&&l!==h&&g.$delete("backend-"+m+"-doctype-"+l));!1!==l&&l!==h&&(g["$[]="]("doctype-"+l,""),g["$[]="]("backend-"+a+"-doctype-"+l,""));g["$[]="]("backend",a);g["$[]="]("backend-"+a,"");if((d=k.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=this.$create_converter()))!==h&&(!d.$$is_boolean||!0==d)){m=this.converter.$basebackend();if(!((d=this["$attribute_locked?"]("outfilesuffix"))!==
h&&(!d.$$is_boolean||!0==d)))g["$[]="]("outfilesuffix",this.converter.$outfilesuffix());n=this.converter.$filetype()}else if(m=a.$sub(k.get("TrailingDigitsRx"),""),q=!1!==(d=k.get("DEFAULT_EXTENSIONS")["$[]"](m))&&d!==h?d:".html",n=q["$[]"](b(1,-1,!1)),!((d=this["$attribute_locked?"]("outfilesuffix"))!==h&&(!d.$$is_boolean||!0==d)))g["$[]="]("outfilesuffix",q);(d=r=g["$[]"]("filetype"))!==h&&(!d.$$is_boolean||!0==d)&&g.$delete("filetype-"+r);g["$[]="]("filetype",n);g["$[]="]("filetype-"+n,"");if((d=
n=k.get("DEFAULT_PAGE_WIDTHS")["$[]"](m))!==h&&(!d.$$is_boolean||!0==d))g["$[]="]("pagewidth",n);else g.$delete("pagewidth");if((d=m["$!="](p))!==h&&(!d.$$is_boolean||!0==d))if(!1!==p&&p!==h&&(g.$delete("basebackend-"+p),!1!==l&&l!==h&&g.$delete("basebackend-"+p+"-doctype-"+l)),g["$[]="]("basebackend",m),g["$[]="]("basebackend-"+m,""),!1!==l&&l!==h)g["$[]="]("basebackend-"+m+"-doctype-"+l,"");return this.backend=h}return h});a.defn(q,"$update_doctype_attributes",function(a){var b,d=h,e=h,g=h,k=h;
if((b=!1!==a&&a!==h?a["$!="](this.attributes["$[]"]("doctype")):a)!==h&&(!b.$$is_boolean||!0==b)){d=this.attributes;e=d["$[]"]("doctype");g=d["$[]"]("backend");k=d["$[]"]("basebackend");!1!==e&&e!==h&&(d.$delete("doctype-"+e),!1!==g&&g!==h&&d.$delete("backend-"+g+"-doctype-"+e),!1!==k&&k!==h&&d.$delete("basebackend-"+k+"-doctype-"+e));d["$[]="]("doctype",a);d["$[]="]("doctype-"+a,"");if(!1!==g&&g!==h)d["$[]="]("backend-"+g+"-doctype-"+a,"");if(!1!==k&&k!==h)d["$[]="]("basebackend-"+k+"-doctype-"+
a,"");return this.doctype=h}return h});a.defn(q,"$create_converter",function(){var b,c=h,d=h,e=h,g=h,m=h,c=t([],{});c["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));d=(b=e=this.options["$[]"]("template_dir"))!==h&&(!b.$$is_boolean||!0==b)?c["$[]="]("template_dirs",[e]):(b=d=this.options["$[]"]("template_dirs"))!==h&&(!b.$$is_boolean||!0==b)?c["$[]="]("template_dirs",d):h;!1!==d&&d!==h&&(c["$[]="]("template_cache",this.options.$fetch("template_cache",!0)),c["$[]="]("template_engine",this.options["$[]"]("template_engine")),
c["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),c["$[]="]("eruby",this.options["$[]"]("eruby")),c["$[]="]("safe",this.safe));m=(b=g=this.options["$[]"]("converter"))!==h&&(!b.$$is_boolean||!0==b)?k.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),g)):k.get("Converter").$$scope.get("Factory").$default(!1);return m.$create(this.$backend(),c)});a.defn(q,"$convert",function(a){var b,d,e,g=h,p=h,l=h,n=h;null==a&&(a=t([],{}));(b=this.parsed)!==
h&&(!b.$$is_boolean||!0==b)||this.$parse();if(!((b=!1!==(d=m(this.safe,k.get("SafeMode").$$scope.get("SERVER")))&&d!==h?d:a["$empty?"]())!==h&&(!b.$$is_boolean||!0==b)))(b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))!==h&&(!b.$$is_boolean||!0==b)||this.attributes.$delete("outfile"),(b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))!==h&&(!b.$$is_boolean||!0==b)||this.attributes.$delete("outdir");(b=this.converter)!==h&&(!b.$$is_boolean||!0==b)||this.$fail("asciidoctor: FAILED: missing converter for backend '"+
this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?p=(b=(d=g=this.blocks["$[]"](0),!1!==d&&d!==h?g.$content_model()["$!="]("compound"):d))!==h&&(!b.$$is_boolean||!0==b)?g.$content():h:(l=(b=(d=a["$key?"]("header_footer"))!==h&&(!d.$$is_boolean||!0==d)?a["$[]"]("header_footer"):this.options["$[]"]("header_footer"))!==h&&(!b.$$is_boolean||!0==b)?"document":"embedded",p=this.converter.$convert(this,l));if(!((b=this.parent_document)!==h&&(!b.$$is_boolean||!0==b)))if((b=(d=n=this.extensions,
!1!==d&&d!==h?n["$postprocessors?"]():d))!==h&&(!b.$$is_boolean||!0==b))(b=(d=n.$postprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=h);return p=a.$process_method()["$[]"](b,p)},e.$$s=this,e),b).call(d);return p});a.alias(q,"render","convert");a.defn(q,"$write",function(b,c){var d,e,g;if((d=k.get("Writer")["$==="](this.converter))!==h&&(!d.$$is_boolean||!0==d))return this.converter.$write(b,c);if((d=c["$respond_to?"]("write"))!==h&&(!d.$$is_boolean||!0==d)){if(!((d=b["$nil_or_empty?"]())!==
h&&(!d.$$is_boolean||!0==d)))c.$write(b.$chomp()),c.$write(k.get("EOL"))}else(d=(e=a.get("File")).$open,d.$$p=(g=function(a){null==a&&(a=h);return a.$write(b)},g.$$s=this,g),d).call(e,c,"w");return h});a.defn(q,"$content",A=function(){var b=l.call(arguments,0),c=A.$$p;A.$$p=null;this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",A,c).apply(this,b)});a.defn(q,"$docinfo",function(a,b){var d,e,g,p,l=h,q=h,B=h,r=h,s=l=h,D=h,q=q=h;null==a&&(a="head");null==b&&(b=h);if(m(this.$safe(),
k.get("SafeMode").$$scope.get("SECURE")))return"";l=a["$=="]("footer")?"-footer":h;!1!==b&&b!==h||(b=this.outfilesuffix);q=this.attributes["$[]"]("docinfodir");B=h;r=(d=(r=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())!==h&&(!d.$$is_boolean||!0==d)?(d=this.attributes["$key?"]("docinfo2"))!==h&&(!d.$$is_boolean||!0==d)?["private","shared"]:(d=this.attributes["$key?"]("docinfo1"))!==h&&(!d.$$is_boolean||!0==d)?["shared"]:!1!==r&&r!==h?["private"]:h:(d=(e=r.$split(",")).$map,d.$$p="strip".$to_proc(),
d).call(e);if(!1!==r&&r!==h){l="docinfo"+l+b;if(!((d=r["$&"](["shared","shared-"+a])["$empty?"]())!==h&&(!d.$$is_boolean||!0==d)))if(s=this.$normalize_system_path(l,q),(d=B=this.$read_asset(s,t(["normalize"],{normalize:!0})))!==h&&(!d.$$is_boolean||!0==d))if((d=!1!==(g=D)&&g!==h?g:D=this.$resolve_docinfo_subs())!==h&&(!d.$$is_boolean||!0==d))B=(d=D["$=="]("attributes"))!==h&&(!d.$$is_boolean||!0==d)?this.$sub_attributes(B):this.$apply_subs(B,D);if(!((d=!1!==(g=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&
g!==h?g:r["$&"](["private","private-"+a])["$empty?"]())!==h&&(!d.$$is_boolean||!0==d)))if(s=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+l,q),(d=q=this.$read_asset(s,t(["normalize"],{normalize:!0})))!==h&&(!d.$$is_boolean||!0==d)){if((d=!1!==(g=D)&&g!==h?g:D=this.$resolve_docinfo_subs())!==h&&(!d.$$is_boolean||!0==d))q=(d=D["$=="]("attributes"))!==h&&(!d.$$is_boolean||!0==d)?this.$sub_attributes(q):this.$apply_subs(q,D);B=!1!==B&&B!==h?""+B+k.get("EOL")+q:q}}if((d=(g=this.extensions,
!1!==g&&g!==h?this["$docinfo_processors?"](a):g))!==h&&(!d.$$is_boolean||!0==d))q=n((d=(g=this.docinfo_processor_extensions["$[]"](a)).$map,d.$$p=(p=function(a){var b=p.$$s||this;null==a&&(a=h);return a.$process_method()["$[]"](b)},p.$$s=this,p),d).call(g).$compact(),k.get("EOL")),B=!1!==B&&B!==h?""+B+k.get("EOL")+q:q;return""+B});a.defn(q,"$resolve_docinfo_subs",function(){var a,b=h;return(a=this.attributes["$key?"]("docinfosubs"))!==h&&(!a.$$is_boolean||!0==a)?(b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),
"block",h,"docinfo"),(a=b["$empty?"]())!==h&&(!a.$$is_boolean||!0==a)?h:b):"attributes"});a.defn(q,"$docinfo_processors?",function(a){var b,d;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))!==h&&(!b.$$is_boolean||!0==b)?this.docinfo_processor_extensions["$[]"](a)["$!="](!1):(b=(d=this.extensions,!1!==d&&d!==h?this.document.$extensions()["$docinfo_processors?"](a):d))!==h&&(!b.$$is_boolean||!0==b)?this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():
this.docinfo_processor_extensions["$[]="](a,!1)});return(a.defn(q,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](h))!==h&&(!a.$$is_boolean||!0==a)?this.header.$title():h).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),h)&&"to_s"})(w.base,w.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module,n=a.klass,h=a.hash2;return function(l){l=r(l,"Asciidoctor").$$scope;(function(e,$super){function l(){}var b=l=n(e,$super,"Inline",l),r;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.defn(b,"$initialize",r=function(b,e,p,l){var g,k=m;null==p&&(p=m);null==l&&(l=h([],{}));r.$$p=null;a.find_super_dispatcher(this,"initialize",r,null).apply(this,[b,e]);this.node_name="inline_"+
e;this.text=p;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return(g=(k=l["$[]"]("attributes"))["$nil_or_empty?"]())!==m&&(!g.$$is_boolean||!0==g)?m:this.$update_attributes(k)});a.defn(b,"$block?",function(){return!1});a.defn(b,"$inline?",function(){return!0});a.defn(b,"$convert",function(){return this.$converter().$convert(this)});return a.alias(b,"render","convert")})(l.base,l.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.slice,n=a.module,h=a.klass;return function(l){l=n(l,"Asciidoctor").$$scope;(function(e,$super){function l(){}var b=l=h(e,$super,"List",l),n=b.$$proto,z,u;n.context=n.document=n.style=m;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",z=function(b,e){var g=r.call(arguments,0),h=z.$$p;z.$$p=null;return a.find_super_dispatcher(this,"initialize",
z,h).apply(this,g)});a.defn(b,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==m?a:this.context["$=="]("olist")});a.defn(b,"$convert",u=function(){var b=r.call(arguments,0),e=u.$$p,g=m;u.$$p=null;return this.context["$=="]("colist")?(g=a.find_super_dispatcher(this,"convert",u,e).apply(this,b),this.document.$callouts().$next_list(),g):a.find_super_dispatcher(this,"convert",u,e).apply(this,b)});a.alias(b,"render","convert");return(a.defn(b,"$to_s",function(){return"#<"+
this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),m)&&"to_s"})(l.base,l.get("AbstractBlock"));(function(e,$super){function l(){}var b=l=h(e,$super,"ListItem",l),n=b.$$proto,r=b.$$scope,u;n.text=n.blocks=m;b.$attr_accessor("marker");a.defn(b,"$initialize",u=function(b,e){null==e&&(e=m);u.$$p=null;a.find_super_dispatcher(this,"initialize",u,null).apply(this,[b,"list_item"]);this.text=e;return this.level=
b.$level()});a.defn(b,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(b,"$text",function(){return this.$apply_subs(this.text)});a.defn(b,"$simple?",function(){var a,b,e=m;return!1!==(a=this.blocks["$empty?"]())&&a!==m?a:(b=this.blocks.$size()["$=="](1)?r.get("List")["$==="](e=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==m?e["$outline?"]():b)});a.defn(b,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(b,"$fold_first",function(a,b){var e,
h,l,n,A,f,c=m,v=m;null==a&&(a=!1);null==b&&(b=!1);if((e=(h=(l=c=this.blocks["$[]"](0),!1!==l&&l!==m?r.get("Block")["$==="](c):l),!1!==h&&h!==m?!1!==(l=c.$context()["$=="]("paragraph")?a["$!"]():c.$context()["$=="]("paragraph"))&&l!==m?l:(n=(A=!1!==(f=b)&&f!==m?f:a["$!"](),!1!==A&&A!==m?c.$context()["$=="]("literal"):A),!1!==n&&n!==m?c["$option?"]("listparagraph"):n):h))!==m&&(!e.$$is_boolean||!0==e))v=this.$blocks().$shift(),(e=this.text["$nil_or_empty?"]())!==m&&(!e.$$is_boolean||!0==e)||v.$lines().$unshift(this.text),
this.text=v.$source();return m});return(a.defn(b,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==m?a:[]).$size()+"}>"}),m)&&"to_s"})(l.base,l.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="ignore";var b=a.nil,w=a.breaker,z=a.module,u=a.klass,p=a.hash2,q=a.range,g=a.gvars;return function(k){(function(k,$super){function A(){}var f=A=u(k,$super,"Parser",A),c=f.$$scope,v,G,C,z;a.cdecl(c,"BlockMatchData",c.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(c,"TabRx",/\t/);a.cdecl(c,
"TabIndentRx",/^\t+/);a.cdecl(c,"StartOfBlockProc",(v=f.$lambda,v.$$p=(G=function(a){var d=G.$$s||this,e,f;null==a&&(a=b);return!1!==(e=(f=a["$start_with?"]("["),!1!==f&&f!==b?c.get("BlockAttributeLineRx")["$=~"](a):f))&&e!==b?e:d["$is_delimited_block?"](a)},G.$$s=f,G),v).call(f));a.cdecl(c,"StartOfListProc",(v=f.$lambda,v.$$p=(C=function(a){null==a&&(a=b);return c.get("AnyListRx")["$=~"](a)},C.$$s=f,C),v).call(f));a.cdecl(c,"StartOfBlockOrListProc",(v=f.$lambda,v.$$p=(z=function(a){var d=z.$$s||
this,e,f,g;null==a&&(a=b);return!1!==(e=!1!==(f=d["$is_delimited_block?"](a))&&f!==b?f:(g=a["$start_with?"]("["),!1!==g&&g!==b?c.get("BlockAttributeLineRx")["$=~"](a):g))&&e!==b?e:c.get("AnyListRx")["$=~"](a)},z.$$s=f,z),v).call(f));a.cdecl(c,"NoOp",b);a.defn(f,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});a.defs(f,"$parse",function(c,d,e){var f,g,h=b,k=b;null==e&&(e=p([],{}));h=this.$parse_document_header(c,d);if(!((f=e["$[]"]("header_only"))!==
b&&(!f.$$is_boolean||!0==f)))for(;(g=c["$has_more_lines?"]())!==b&&(!g.$$is_boolean||!0==g);)if(g=a.to_ary(this.$next_section(c,d,h)),k=null==g[0]?b:g[0],h=null==g[1]?b:g[1],!1!==k&&k!==b)d["$<<"](k);return d});a.defs(f,"$parse_document_header",function(c,d){var e,f,g=b,h=b,k=b,m=b,l=b,p=m=b,n=b,g=this.$parse_block_metadata_lines(c,d);if((e=g["$has_key?"]("title"))!==b&&(!e.$$is_boolean||!0==e))return d.$finalize_header(g,!1);h=b;if(!((e=(k=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())!==
b&&(!e.$$is_boolean||!0==e)))e=[k],f=d,f["$title="].apply(f,e),e[e.length-1],h=k;m=b;if((e=this["$is_next_line_document_title?"](c,g))!==b&&(!e.$$is_boolean||!0==e)){if((e=d.$sourcemap())!==b&&(!e.$$is_boolean||!0==e))l=c.$cursor();e=a.to_ary(this.$parse_section_title(c,d));d["$id="](null==e[0]?b:e[0]);m=null==e[2]?b:e[2];p=null==e[4]?b:e[4];!1!==h&&h!==b||(e=[m],f=d,f["$title="].apply(f,e),e[e.length-1],h=m);!1!==p&&p!==b||d.$set_attribute("compat-mode","");(e=n=g.$delete("separator"))!==b&&(!e.$$is_boolean||
!0==e)&&d.$set_attribute("title-separator",n);!1!==l&&l!==b&&(e=[l],f=d.$header(),f["$source_location="].apply(f,e),e[e.length-1]);d.$attributes()["$[]="]("doctitle",m);if(!((e=d.$id())!==b&&(!e.$$is_boolean||!0==e)))e=[g.$delete("id")],f=d,f["$id="].apply(f,e),e[e.length-1];this.$parse_header_metadata(c,d)}if((e=(f=(k=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b?k["$!="](m):f))!==b&&(!e.$$is_boolean||!0==e))e=[k],f=d,f["$title="].apply(f,e),e[e.length-1],h=k;if(!1!==
h&&h!==b)d.$attributes()["$[]="]("doctitle",h);d.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,d);return d.$finalize_header(g)});a.defs(f,"$parse_manpage_header",function(a,d){var e,f=b,f=f=b;(e=f=c.get("ManpageTitleVolnumRx").$match(d.$attributes()["$[]"]("doctitle")))!==b&&(!e.$$is_boolean||!0==e)?(d.$attributes()["$[]="]("mantitle",d.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),d.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip())):(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+
": malformed manpage title"),d.$attributes()["$[]="]("mantitle",d.$attributes()["$[]"]("doctitle")),d.$attributes()["$[]="]("manvolnum","1"));a.$skip_blank_lines();return(e=this["$is_next_line_section?"](a,p([],{})))!==b&&(!e.$$is_boolean||!0==e)?(f=this.$initialize_section(a,d,p([],{})),f.$level()["$=="](1)?(f=a.$read_lines_until(p(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(e=f=c.get("ManpageNamePurposeRx").$match(f))!==b&&(!e.$$is_boolean||!0==e)?(d.$attributes()["$[]="]("manname",
d.$sub_attributes(f["$[]"](1))),d.$attributes()["$[]="]("manpurpose",f["$[]"](2)),d.$backend()["$=="]("manpage")?(d.$attributes()["$[]="]("docname",d.$attributes()["$[]"]("manname")),d.$attributes()["$[]="]("outfilesuffix","."+d.$attributes()["$[]"]("manvolnum"))):b):this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")):this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+
": name section expected")});a.defs(f,"$next_section",function(d,e,f){var g,h,k,l,q=b,s=b,C=b,v=b,A=b,t=b,u=b,G=b,w=u=b,z=w=w=b,I=b,A=s=b;null==f&&(f=p([],{}));C=s=q=!1;if((g=(h=(k=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"),!1!==h&&h!==b?!1!==(k=!1!==(l=v=e["$has_header?"]())&&l!==b?l:f.$delete("invalid-header"))&&k!==b?k:this["$is_next_line_section?"](d,f)["$!"]():h))!==b&&(!g.$$is_boolean||!0==g)){A=e.$doctype();if((g=!1!==(h=v)&&h!==b?h:(k=A["$=="]("book"))?
f["$[]"](1)["$!="]("abstract"):A["$=="]("book"))!==b&&(!g.$$is_boolean||!0==g)){q=C=c.get("Block").$new(e,"preamble",p(["content_model"],{content_model:"compound"}));if((g=(h=A["$=="]("book"))?e["$attr?"]("preface-title"):A["$=="]("book"))!==b&&(!g.$$is_boolean||!0==g))g=[e.$attr("preface-title")],h=q,h["$title="].apply(h,g),g[g.length-1];e["$<<"](q)}t=e;u=0;G=(g=e.$attributes()["$has_key?"]("fragment"))!==b&&(!g.$$is_boolean||!0==g)?b:A["$=="]("book")?[0,1]:[1]}else A=e.$document().$doctype(),t=
this.$initialize_section(d,e,f),f=(g=u=f["$[]"]("title"))!==b&&(!g.$$is_boolean||!0==g)?p(["title"],{title:u}):p([],{}),u=t.$level(),(g=(h=u["$=="](0))?A["$=="]("book"):u["$=="](0))!==b&&(!g.$$is_boolean||!0==g)?(s=t.$special()["$!"](),G=(g=(h=t.$special(),!1!==h&&h!==b?["preface","appendix"]["$include?"](t.$sectname()):h))!==b&&(!g.$$is_boolean||!0==g)?[m(u,2)]:[m(u,1)]):G=[m(u,1)];for(d.$skip_blank_lines();(h=d["$has_more_lines?"]())!==b&&(!h.$$is_boolean||!0==h);){this.$parse_block_metadata_lines(d,
t,f);if((h=w=this["$is_next_line_section?"](d,f))!==b&&(!h.$$is_boolean||!0==h))if(w=m(w,t.$document().$attr("leveloffset",0).$to_i()),(h=!1!==(k=r(w,u))&&k!==b?k:t.$context()["$=="]("document")?w["$=="](0):t.$context()["$=="]("document"))!==b&&(!h.$$is_boolean||!0==h))(h=(k=w["$=="](0))?A["$!="]("book"):w["$=="](0))!==b&&(!h.$$is_boolean||!0==h)?this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections"):(h=(k=!1!==G&&G!==b)?G["$include?"](w)["$!"]():G)!==
b&&(!h.$$is_boolean||!0==h)&&this.$warn(m(m("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ","expected "+(r(G.$size(),1)?"levels":"level")+" "+n(G," or ")+", "),"got level "+w)),h=a.to_ary(this.$next_section(d,t,f)),w=null==h[0]?b:h[0],f=null==h[1]?b:h[1],t["$<<"](w);else{(h=(k=w["$=="](0))?A["$!="]("book"):w["$=="](0))!==b&&(!h.$$is_boolean||!0==h)&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections");break}else if(w=d.$line_info(),
(h=z=this.$next_block(d,!1!==(k=C)&&k!==b?k:t,f,p(["parse_metadata"],{parse_metadata:!1})))!==b&&(!h.$$is_boolean||!0==h)){if(!1!==s&&s!==b)if((h=t["$blocks?"]()["$!"]())!==b&&(!h.$$is_boolean||!0==h)){if((h=z.$style()["$!="]("partintro"))!==b&&(!h.$$is_boolean||!0==h))z.$context()["$=="]("paragraph")?(h=["open"],k=z,k["$context="].apply(k,h),h[h.length-1],h=["partintro"],k=z,k["$style="].apply(k,h),h[h.length-1]):(C=c.get("Block").$new(t,"open",p(["content_model"],{content_model:"compound"})),h=
["partintro"],k=C,k["$style="].apply(k,h),h[h.length-1],h=[C],k=z,k["$parent="].apply(k,h),h[h.length-1],t["$<<"](C))}else if(t.$blocks().$size()["$=="](1))if(I=t.$blocks()["$[]"](0),(h=(k=C["$!"](),!1!==k&&k!==b?I.$content_model()["$=="]("compound"):k))!==b&&(!h.$$is_boolean||!0==h))this.$warn("asciidoctor: ERROR: "+w+": illegal block content outside of partintro block");else if((h=I.$content_model()["$!="]("compound"))!==b&&(!h.$$is_boolean||!0==h))C=c.get("Block").$new(t,"open",p(["content_model"],
{content_model:"compound"})),h=["partintro"],k=C,k["$style="].apply(k,h),h[h.length-1],t.$blocks().$shift(),I.$style()["$=="]("partintro")&&(h=["paragraph"],k=I,k["$context="].apply(k,h),h[h.length-1],h=[b],k=I,k["$style="].apply(k,h),h[h.length-1]),h=[C],k=I,k["$parent="].apply(k,h),h[h.length-1],C["$<<"](I),h=[C],k=z,k["$parent="].apply(k,h),h[h.length-1],t["$<<"](C);(!1!==(h=C)&&h!==b?h:t)["$<<"](z);f=p([],{})}d.$skip_blank_lines()}if(!1!==s&&s!==b)(g=(h=t["$blocks?"](),!1!==h&&h!==b?t.$blocks()["$[]"](-1).$context()["$=="]("section"):
h))!==b&&(!g.$$is_boolean||!0==g)||this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==q&&q!==b)if(s=e,(g=q["$blocks?"]())!==b&&(!g.$$is_boolean||!0==g)){if((g=(h=(k=c.get("Compliance").$unwrap_standalone_preamble(),!1!==k&&k!==b?s.$blocks().$size()["$=="](1):k),!1!==h&&h!==b?A["$!="]("book"):h))!==b&&(!g.$$is_boolean||!0==g))for(s.$blocks().$shift();(h=A=q.$blocks().$shift())!==b&&(!h.$$is_boolean||!0==h);)h=
[s],k=A,k["$parent="].apply(k,h),h[h.length-1],s["$<<"](A)}else s.$blocks().$shift();return[(g=t["$!="](e))!==b&&(!g.$$is_boolean||!0==g)?t:b,f.$dup()]});a.defs(f,"$next_block",function(d,e,f,g){var k,n,s,C,v,A,t,u,G,w,z,I=b,Y=b,V=b,Q=b,W=b,T=b,F=b,ba=b,H=b,P=b,ja=b,ka=b,ha=b,U=b,O=v=b,la=b,ea=b,ca=b,da=ca=b,ia=v=ca=v=b,fa=ca=H=H=b,oa=b,ma=b,na=v=H=H=fa=ca=v=H=fa=b,pa=O=U=O=v=ca=v=v=b,qa=b,ra=U=O=O=b,I=I=I=b;null==f&&(f=p([],{}));null==g&&(g=p([],{}));I=d.$skip_blank_lines();if(!((k=d["$has_more_lines?"]())!==
b&&(!k.$$is_boolean||!0==k)))return b;if((k=(n=Y=g["$[]"]("text"),!1!==n&&n!==b?r(I,0):n))!==b&&(!k.$$is_boolean||!0==k))g.$delete("text"),Y=!1;V=g.$fetch("parse_metadata",!0);Q=e.$document();(k=W=Q.$extensions())!==b&&(!k.$$is_boolean||!0==k)?(T=W["$blocks?"](),F=W["$block_macros?"]()):T=F=!1;ba=c.get("ListItem")["$==="](e);ja=P=H=b;ka=Q.$sourcemap();for(ha=b;(n=(s=H["$!"](),!1!==s&&s!==b?d["$has_more_lines?"]():s))!==b&&(!n.$$is_boolean||!0==n);)if((n=(s=!1!==V&&V!==b)?this.$parse_block_metadata_line(d,
Q,f,g):V)!==b&&(!n.$$is_boolean||!0==n))d.$advance();else{!1!==ka&&ka!==b&&(ha=d.$cursor());U=d.$read_line();v=!1;ea=la=O=b;if((n=f["$[]"](1))!==b&&(!n.$$is_boolean||!0==n))n=a.to_ary(this.$parse_style_attribute(f,d)),P=null==n[0]?b:n[0],ja=null==n[1]?b:n[1];if((n=ca=this["$is_delimited_block?"](U,!0))!==b&&(!n.$$is_boolean||!0==n))if(v=!0,O=la=ca.$context(),ea=ca.$terminator(),(n=P["$!"]())!==b&&(!n.$$is_boolean||!0==n))P=f["$[]="]("style",O.$to_s());else if((n=P["$!="](O.$to_s()))!==b&&(!n.$$is_boolean||
!0==n))(n=ca.$masq()["$include?"](P))!==b&&(!n.$$is_boolean||!0==n)?O=P.$to_sym():(n=(s=ca.$masq()["$include?"]("admonition"),!1!==s&&s!==b?c.get("ADMONITION_STYLES")["$include?"](P):s))!==b&&(!n.$$is_boolean||!0==n)?O="admonition":(n=(s=!1!==T&&T!==b)?W["$registered_for_block?"](P,O):T)!==b&&(!n.$$is_boolean||!0==n)?O=P.$to_sym():(this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+O+" block: "+P),P=O.$to_s());if(!(!1!==v&&v!==b))for(;(s=!0)!==b&&(!s.$$is_boolean||!0==
s);){if((s=(C=(v=!1!==P&&P!==b)?c.get("Compliance").$strict_verbatim_paragraphs():P,!1!==C&&C!==b?c.get("VERBATIM_STYLES")["$include?"](P):C))!==b&&(!s.$$is_boolean||!0==s)){O=P.$to_sym();d.$unshift_line(U);break}if(!(!1!==Y&&Y!==b))if(ca=(s=c.get("Compliance").$markdown_syntax())!==b&&(!s.$$is_boolean||!0==s)?U.$lstrip().$chr():U.$chr(),(s=(C=(v=c.get("LAYOUT_BREAK_LINES")["$has_key?"](ca),!1!==v&&v!==b?h(U.$length(),3):v),!1!==C&&C!==b?((v=c.get("Compliance").$markdown_syntax())!==b&&(!v.$$is_boolean||
!0==v)?c.get("LayoutBreakLinePlusRx"):c.get("LayoutBreakLineRx"))["$=~"](U):C))!==b&&(!s.$$is_boolean||!0==s)){H=c.get("Block").$new(e,c.get("LAYOUT_BREAK_LINES")["$[]"](ca),p(["content_model"],{content_model:"empty"}));break}else if((s=(C=U["$end_with?"]("]"),!1!==C&&C!==b?da=c.get("MediaBlockMacroRx").$match(U):C))!==b&&(!s.$$is_boolean||!0==s)){v=da["$[]"](1).$to_sym();H=c.get("Block").$new(e,v,p(["content_model"],{content_model:"empty"}));ca=v["$=="]("image")?["alt","width","height"]:v["$=="]("video")?
["poster","width","height"]:[];if(!((s=!1!==(C=P["$!"]())&&C!==b?C:ja)!==b&&(!s.$$is_boolean||!0==s))){if(v["$=="]("image"))f["$[]="]("alt",P);f.$delete("style");P=b}H.$parse_attributes(da["$[]"](3),ca,p(["unescape_input","sub_input","sub_result","into"],{unescape_input:v["$=="]("image"),sub_input:!0,sub_result:!1,into:f}));v=H.$sub_attributes(da["$[]"](2),p(["attribute_missing"],{attribute_missing:"drop-line"}));if((s=v["$empty?"]())!==b&&(!s.$$is_boolean||!0==s)){if(Q.$attributes().$fetch("attribute-missing",
c.get("Compliance").$attribute_missing())["$=="]("skip"))return c.get("Block").$new(e,"paragraph",p(["content_model","source"],{content_model:"simple",source:[U]}));f.$clear();return b}f["$[]="]("target",v);break}else if((s=(C=ca["$=="]("t"))?da=c.get("TocBlockMacroRx").$match(U):ca["$=="]("t"))!==b&&(!s.$$is_boolean||!0==s)){H=c.get("Block").$new(e,"toc",p(["content_model"],{content_model:"empty"}));H.$parse_attributes(da["$[]"](1),[],p(["sub_result","into"],{sub_result:!1,into:f}));break}else if((s=
(C=(v=!1!==F&&F!==b)?da=c.get("GenericBlockMacroRx").$match(U):F,!1!==C&&C!==b?ia=W["$registered_for_block_macro?"](da["$[]"](1)):C))!==b&&(!s.$$is_boolean||!0==s)){v=da["$[]"](2);H=da["$[]"](3);if(ia.$config()["$[]"]("content_model")["$=="]("attributes")){if(!((s=H["$empty?"]())!==b&&(!s.$$is_boolean||!0==s)))Q.$parse_attributes(H,!1!==(s=ia.$config()["$[]"]("pos_attrs"))&&s!==b?s:[],p(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:f}))}else f["$[]="]("text",H);if((s=H=ia.$config()["$[]"]("default_attrs"))!==
b&&(!s.$$is_boolean||!0==s))(s=(C=H).$each,s.$$p=(A=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=f,!1!==(g=e["$[]"](d))&&g!==b?g:e["$[]="](d,c)},A.$$s=this,A),s).call(C);if((s=H=ia.$process_method()["$[]"](e,v,f.$dup()))!==b&&(!s.$$is_boolean||!0==s))f.$replace(H.$attributes());else return f.$clear(),b;break}if((s=da=c.get("CalloutListRx").$match(U))!==b&&(!s.$$is_boolean||!0==s)){H=c.get("List").$new(e,"colist");f["$[]="]("style","arabic");d.$unshift_line(U);for(ca=1;(v=!1!==
(t=da)&&t!==b?t:(u=d["$has_more_lines?"](),!1!==u&&u!==b?da=c.get("CalloutListRx").$match(d.$peek_line()):u))!==b&&(!v.$$is_boolean||!0==v);){(v=da["$[]"](1).$to_i()["$!="](ca))!==b&&(!v.$$is_boolean||!0==v)&&this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+l(d.$lineno(),2)+": callout list item index: expected "+ca+" got "+da["$[]"](1));fa=this.$next_list_item(d,H,da);ca=m(ca,1);if(!1!==fa&&fa!==b)if(H["$<<"](fa),oa=Q.$callouts().$callout_ids(H.$items().$size()),(v=oa["$empty?"]()["$!"]())!==
b&&(!v.$$is_boolean||!0==v))fa.$attributes()["$[]="]("coids",oa);else this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+l(d.$lineno(),2)+": no callouts refer to list item "+H.$items().$size());da=b}Q.$callouts().$next_list();break}else if((s=c.get("UnorderedListRx")["$=~"](U))!==b&&(!s.$$is_boolean||!0==s)){d.$unshift_line(U);H=this.$next_outline_list(d,"ulist",e);break}else if((s=da=c.get("OrderedListRx").$match(U))!==b&&(!s.$$is_boolean||!0==s)){d.$unshift_line(U);H=this.$next_outline_list(d,
"olist",e);if((s=(v=f["$[]"]("style")["$!"](),!1!==v&&v!==b?H.$attributes()["$[]"]("style")["$!"]():v))!==b&&(!s.$$is_boolean||!0==s))if(ma=H.$items()["$[]"](0).$marker(),(s=ma["$start_with?"]("."))!==b&&(!s.$$is_boolean||!0==s))f["$[]="]("style",(!1!==(s=c.get("ORDERED_LIST_STYLES")["$[]"](l(ma.$length(),1)))&&s!==b?s:c.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else P=(s=(v=c.get("ORDERED_LIST_STYLES")).$detect,s.$$p=(G=function(a){null==a&&(a=b);return c.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ma)},
G.$$s=this,G),s).call(v),f["$[]="]("style",(!1!==(s=P)&&s!==b?s:c.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((s=da=c.get("DefinitionListRx").$match(U))!==b&&(!s.$$is_boolean||!0==s)){d.$unshift_line(U);H=this.$next_labeled_list(d,da,e);break}else if((s=(t=!1!==(u=P["$=="]("float"))&&u!==b?u:P["$=="]("discrete"),!1!==t&&t!==b?this["$is_section_title?"](U,(u=c.get("Compliance").$underline_style_section_titles())!==b&&(!u.$$is_boolean||!0==u)?d.$peek_line(!0):b):t))!==b&&(!s.$$is_boolean||
!0==s)){d.$unshift_line(U);s=a.to_ary(this.$parse_section_title(d,Q));fa=null==s[0]?b:s[0];H=null==s[1]?b:s[1];v=null==s[2]?b:s[2];ca=null==s[3]?b:s[3];if(!1!==H&&H!==b)f["$[]="]("reftext",H);if((s=f["$has_key?"]("id"))!==b&&(!s.$$is_boolean||!0==s))!1!==(s=fa)&&s!==b?s:fa=f["$[]"]("id");H=c.get("Block").$new(e,"floating_title",p(["content_model"],{content_model:"empty"}));(s=fa["$nil_or_empty?"]())!==b&&(!s.$$is_boolean||!0==s)?(fa=c.get("Section").$new(e),s=[v],t=fa,t["$title="].apply(t,s),s[s.length-
1],s=[fa.$generate_id()]):s=[fa];t=H;t["$id="].apply(t,s);s[s.length-1];s=[ca];t=H;t["$level="].apply(t,s);s[s.length-1];s=[v];t=H;t["$title="].apply(t,s);s[s.length-1];break}else if((s=(t=!1!==P&&P!==b)?P["$!="]("normal"):P)!==b&&(!s.$$is_boolean||!0==s))if((s=c.get("PARAGRAPH_STYLES")["$include?"](P))!==b&&(!s.$$is_boolean||!0==s)){O=P.$to_sym();la="paragraph";d.$unshift_line(U);break}else if((s=c.get("ADMONITION_STYLES")["$include?"](P))!==b&&(!s.$$is_boolean||!0==s)){O="admonition";la="paragraph";
d.$unshift_line(U);break}else if((s=(t=!1!==T&&T!==b)?W["$registered_for_block?"](P,"paragraph"):T)!==b&&(!s.$$is_boolean||!0==s)){O=P.$to_sym();la="paragraph";d.$unshift_line(U);break}else this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+P),P=b;H=(s=I["$=="](0))?ba:I["$=="](0);if((s=(t=P["$!="]("normal"),!1!==t&&t!==b?c.get("LiteralParagraphRx")["$=~"](U):t))!==b&&(!s.$$is_boolean||!0==s))d.$unshift_line(U),H=this.$read_paragraph_lines(d,H,p(["skip_line_comments"],
{skip_line_comments:Y})),this["$adjust_indentation!"](H),H=c.get("Block").$new(e,"literal",p(["content_model","source","attributes"],{content_model:"verbatim",source:H,attributes:f})),!1!==ba&&ba!==b&&H.$set_option("listparagraph");else{d.$unshift_line(U);H=this.$read_paragraph_lines(d,H,p(["skip_line_comments"],{skip_line_comments:!0}));if((s=H["$empty?"]())!==b&&(!s.$$is_boolean||!0==s))return d.$advance(),b;this.$catalog_inline_anchors(H.$join(c.get("EOL")),Q);v=H["$[]"](0);if((s=(t=Y["$!"](),
!1!==t&&t!==b?na=c.get("AdmonitionParagraphRx").$match(v):t))!==b&&(!s.$$is_boolean||!0==s))H["$[]="](0,na.$post_match().$lstrip()),f["$[]="]("style",na["$[]"](1)),f["$[]="]("name",v=na["$[]"](1).$downcase()),s="caption",t=f,!1!==(u=t["$[]"](s))&&u!==b?u:t["$[]="](s,Q.$attributes()["$[]"](""+v+"-caption")),H=c.get("Block").$new(e,"admonition",p(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:f}));else if((s=(t=(u=Y["$!"](),!1!==u&&u!==b?c.get("Compliance").$markdown_syntax():
u),!1!==t&&t!==b?v["$start_with?"]("> "):t))!==b&&(!s.$$is_boolean||!0==s)){(s=(t=H)["$map!"],s.$$p=(w=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](q(1,-1,!1)):(c=a["$start_with?"]("> "))!==b&&(!c.$$is_boolean||!0==c)?a["$[]"](q(2,-1,!1)):a},w.$$s=this,w),s).call(t);if((s=H["$[]"](-1)["$start_with?"]("-- "))!==b&&(!s.$$is_boolean||!0==s)){s=a.to_ary(H.$pop()["$[]"](q(3,-1,!1)).$split(", ",2));v=null==s[0]?b:s[0];for(ca=null==s[1]?b:s[1];(u=H["$[]"](-1)["$empty?"]())!==b&&(!u.$$is_boolean||
!0==u);)H.$pop()}else s=a.to_ary(b),v=null==s[0]?b:s[0],ca=null==s[1]?b:s[1];f["$[]="]("style","quote");if(!1!==v&&v!==b)f["$[]="]("attribution",v);if(!1!==ca&&ca!==b)f["$[]="]("citetitle",ca);H=this.$build_block("quote","compound",!1,e,c.get("Reader").$new(H),f)}else if((s=(u=Y["$!"](),!1!==u&&u!==b?this["$blockquote?"](H,v):u))!==b&&(!s.$$is_boolean||!0==s)){H["$[]="](0,v["$[]"](q(1,-1,!1)));s=a.to_ary(H.$pop()["$[]"](q(3,-1,!1)).$split(", ",2));v=null==s[0]?b:s[0];for(ca=null==s[1]?b:s[1];(u=H["$[]"](-1)["$empty?"]())!==
b&&(!u.$$is_boolean||!0==u);)H.$pop();H["$[]="](-1,H["$[]"](-1).$chop());f["$[]="]("style","quote");if(!1!==v&&v!==b)f["$[]="]("attribution",v);if(!1!==ca&&ca!==b)f["$[]="]("citetitle",ca);H=c.get("Block").$new(e,"quote",p(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:f}))}else{if(P["$=="]("normal"))this["$adjust_indentation!"](H);H=c.get("Block").$new(e,"paragraph",p(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:f}))}}break}if((n=
(s=H["$!"](),!1!==s&&s!==b?O:s))!==b&&(!n.$$is_boolean||!0==n)){if((n=!1!==(s=O["$=="]("abstract"))&&s!==b?s:O["$=="]("partintro"))!==b&&(!n.$$is_boolean||!0==n))O="open";v=O;if("admonition"["$==="](v))f["$[]="]("name",v=P.$downcase()),n="caption",s=f,!1!==(u=s["$[]"](n))&&u!==b?u:s["$[]="](n,Q.$attributes()["$[]"](""+v+"-caption")),H=this.$build_block(O,"compound",ea,e,d,f);else{if("comment"["$==="](v))return this.$build_block(O,"skip",ea,e,d,f),b;if("example"["$==="](v))H=this.$build_block(O,"compound",
ea,e,d,f);else if("listing"["$==="](v)||"fenced_code"["$==="](v)||"source"["$==="](v)){if(O["$=="]("fenced_code")){P=f["$[]="]("style","source");n=a.to_ary(U["$[]"](q(3,-1,!1)).$tr(" ","").$split(",",2));O=null==n[0]?b:n[0];U=null==n[1]?b:n[1];if((n=O["$nil_or_empty?"]()["$!"]())!==b&&(!n.$$is_boolean||!0==n)){if(f["$[]="]("language",O),!((n=U["$nil_or_empty?"]())!==b&&(!n.$$is_boolean||!0==n)))f["$[]="]("linenums","")}else if((n=O=Q.$attributes()["$[]"]("source-language"))!==b&&(!n.$$is_boolean||
!0==n))f["$[]="]("language",O);if((n=(s=f["$key?"]("indent")["$!"](),!1!==s&&s!==b?Q.$attributes()["$key?"]("source-indent"):s))!==b&&(!n.$$is_boolean||!0==n))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"));ea=ea["$[]"](q(0,2,!1))}else if(O["$=="]("source")){c.get("AttributeList").$rekey(f,[b,"language","linenums"]);if(!((n=f["$key?"]("language"))!==b&&(!n.$$is_boolean||!0==n)))if((n=O=Q.$attributes()["$[]"]("source-language"))!==b&&(!n.$$is_boolean||!0==n))f["$[]="]("language",O);if((n=
(s=f["$key?"]("indent")["$!"](),!1!==s&&s!==b?Q.$attributes()["$key?"]("source-indent"):s))!==b&&(!n.$$is_boolean||!0==n))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"))}H=this.$build_block("listing","verbatim",ea,e,d,f)}else if("literal"["$==="](v))H=this.$build_block(O,"verbatim",ea,e,d,f);else if("pass"["$==="](v))H=this.$build_block(O,"raw",ea,e,d,f);else if("stem"["$==="](v)||"latexmath"["$==="](v)||"asciimath"["$==="](v)){if(O["$=="]("stem"))f["$[]="]("style",(n=pa=f["$[]"](2))!==
b&&(!n.$$is_boolean||!0==n)?(n=pa["$include?"]("tex"))!==b&&(!n.$$is_boolean||!0==n)?"latexmath":"asciimath":(n=(qa=Q.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())!==b&&(!n.$$is_boolean||!0==n)?"asciimath":qa);H=this.$build_block("stem","raw",ea,e,d,f)}else if("open"["$==="](v)||"sidebar"["$==="](v))H=this.$build_block(O,"compound",ea,e,d,f);else if("table"["$==="](v)){O=d.$cursor();O=c.get("Reader").$new(d.$read_lines_until(p(["terminator","skip_line_comments"],{terminator:ea,skip_line_comments:!0})),
O);v=ea.$chr();if(","["$==="](v))f["$[]="]("format","csv");else if(":"["$==="](v))f["$[]="]("format","dsv");H=this.$next_table(O,e,f)}else if("quote"["$==="](v)||"verse"["$==="](v))c.get("AttributeList").$rekey(f,[b,"attribution","citetitle"]),H=this.$build_block(O,O["$=="]("verse")?"verbatim":"compound",ea,e,d,f);else if((n=(s=!1!==T&&T!==b)?ia=W["$registered_for_block?"](O,la):T)!==b&&(!n.$$is_boolean||!0==n)){if((n=(U=ia.$config()["$[]"]("content_model"))["$!="]("skip"))!==b&&(!n.$$is_boolean||
!0==n))if((n=(ra=!1!==(s=ia.$config()["$[]"]("pos_attrs"))&&s!==b?s:[])["$empty?"]()["$!"]())!==b&&(!n.$$is_boolean||!0==n)&&c.get("AttributeList").$rekey(f,[b].$concat(ra)),(n=H=ia.$config()["$[]"]("default_attrs"))!==b&&(!n.$$is_boolean||!0==n))(n=(s=H).$each,n.$$p=(z=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=f,!1!==(g=e["$[]"](d))&&g!==b?g:e["$[]="](d,c)},z.$$s=this,z),n).call(s);H=this.$build_block(O,U,ea,e,d,f,p(["extension"],{extension:ia}));if(!((n=(u=!1!==H&&H!==b)?
U["$!="]("skip"):H)!==b&&(!n.$$is_boolean||!0==n)))return f.$clear(),b}else this.$raise("Unsupported block type "+O+" at "+d.$line_info())}}}if(!1!==H&&H!==b){!1!==ha&&ha!==b&&(k=[ha],n=H,n["$source_location="].apply(n,k),k[k.length-1]);if(!((k=H["$title?"]())!==b&&(!k.$$is_boolean||!0==k)))k=[f["$[]"]("title")],n=H,n["$title="].apply(n,k),k[k.length-1];if(H.$context()["$=="]("image")){if(I=f["$[]"]("target"),H.$document().$register("images",I),k="alt",n=f,!1!==(u=n["$[]"](k))&&u!==b?u:n["$[]="](k,
c.get("Helpers").$basename(I,!0).$tr("_-"," ")),f["$[]="]("alt",H.$sub_specialchars(f["$[]"]("alt"))),H.$assign_caption(f.$delete("caption"),"figure"),(k=I=f["$[]"]("scaledwidth"))!==b&&(!k.$$is_boolean||!0==k))if((k=q(48,57,!1)["$include?"]((!1!==(n=I["$[]"](-1))&&n!==b?n:0).$ord()))!==b&&(!k.$$is_boolean||!0==k))f["$[]="]("scaledwidth",""+I+"%")}else k=H,!1!==(n=k.$caption())&&n!==b?n:k["$caption="](f.$delete("caption"));k=[f["$[]"]("style")];n=H;n["$style="].apply(n,k);k[k.length-1];if((k=I=(n=
H,!1!==(u=n.$id())&&u!==b?u:n["$id="](f["$[]"]("id"))))!==b&&(!k.$$is_boolean||!0==k))Q.$register("ids",[I,!1!==(k=f["$[]"]("reftext"))&&k!==b?k:(n=H["$title?"]())!==b&&(!n.$$is_boolean||!0==n)?H.$title():b]);(k=f["$empty?"]())!==b&&(!k.$$is_boolean||!0==k)||H.$attributes().$update(f);H.$lock_in_subs();if((k=H["$sub?"]("callouts"))!==b&&(!k.$$is_boolean||!0==k))(k=this.$catalog_callouts(H.$source(),Q))!==b&&(!k.$$is_boolean||!0==k)||H.$remove_sub("callouts")}return H});a.defs(f,"$blockquote?",function(a,
c){var d,e,f;null==c&&(c=b);return d=(e=r(a.$size(),1)?(!1!==(f=c)&&f!==b?f:a["$[]"](0))["$start_with?"]('"'):r(a.$size(),1),!1!==e&&e!==b?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==d&&d!==b?a["$[]"](-2)["$end_with?"]('"'):d});a.defs(f,"$read_paragraph_lines",function(a,d,e){var f,g=b;null==e&&(e=p([],{}));e["$[]="]("break_on_blank_lines",!0);e["$[]="]("break_on_list_continuation",!0);e["$[]="]("preserve_last_line",!0);g=!1!==d&&d!==b?(f=c.get("Compliance").$block_terminates_paragraph())!==b&&(!f.$$is_boolean||
!0==f)?c.get("StartOfBlockOrListProc"):c.get("StartOfListProc"):(f=c.get("Compliance").$block_terminates_paragraph())!==b&&(!f.$$is_boolean||!0==f)?c.get("StartOfBlockProc"):c.get("NoOp");return(f=a.$read_lines_until,f.$$p=g.$to_proc(),f).call(a,e)});a.defs(f,"$is_delimited_block?",function(f,g){var h,k,m=b,p=b,s=b,v=b,s=m=k=b;null==g&&(g=!1);if(!((h=(k=r(m=f.$length(),1))?c.get("DELIMITED_BLOCK_LEADERS")["$include?"](f["$[]"](q(0,1,!1))):r(m=f.$length(),1))!==b&&(!h.$$is_boolean||!0==h)))return b;
if(m["$=="](2))p=f,s=2;else{e(m,4)?(p=f,s=m):(p=f["$[]"](q(0,3,!1)),s=4);v=!1;if((h=c.get("Compliance").$markdown_syntax())!==b&&(!h.$$is_boolean||!0==h))if(k=s["$=="](4)?p.$chop():p,k["$=="]("```")){if((h=s["$=="](4)?p["$end_with?"]("`"):s["$=="](4))!==b&&(!h.$$is_boolean||!0==h))return b;p=k;s=3;v=!0}if((h=(k=s["$=="](3))?v["$!"]():s["$=="](3))!==b&&(!h.$$is_boolean||!0==h))return b}if((h=c.get("DELIMITED_BLOCKS")["$has_key?"](p))!==b&&(!h.$$is_boolean||!0==h)){if((h=!1!==(k=d(s,4))&&k!==b?k:s["$=="](m))!==
b&&(!h.$$is_boolean||!0==h))return!1!==g&&g!==b?(h=a.to_a(c.get("DELIMITED_BLOCKS")["$[]"](p)),m=null==h[0]?b:h[0],s=null==h[1]?b:h[1],c.get("BlockMatchData").$new(m,s,p,p)):!0;if((""+p+n(p["$[]"](q(-1,-1,!1)),l(m,s)))["$=="](f))return!1!==g&&g!==b?(h=a.to_a(c.get("DELIMITED_BLOCKS")["$[]"](p)),m=null==h[0]?b:h[0],s=null==h[1]?b:h[1],c.get("BlockMatchData").$new(m,s,p,f)):!0}return b});a.defs(f,"$build_block",function(a,d,e,f,g,h,k){var m,l,n=b,q=b,s=n=q=b,s=s=s=s=b;null==k&&(k=p([],{}));(m=!1!==
(l=d["$=="]("skip"))&&l!==b?l:d["$=="]("raw"))!==b&&(!m.$$is_boolean||!0==m)?(n=d["$=="]("skip"),q="simple"):(n=!1,q=d);(m=e["$nil?"]())!==b&&(!m.$$is_boolean||!0==m)?(q["$=="]("verbatim")?q=g.$read_lines_until(p(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(d["$=="]("compound")&&(d="simple"),q=this.$read_paragraph_lines(g,!1,p(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),n=b):(m=q["$!="]("compound"))!==
b&&(!m.$$is_boolean||!0==m)?(q=g.$read_lines_until(p(["terminator","skip_processing"],{terminator:e,skip_processing:n})),n=b):e["$=="](!1)?(q=b,n=g):(q=b,s=g.$cursor(),n=c.get("Reader").$new(g.$read_lines_until(p(["terminator","skip_processing"],{terminator:e,skip_processing:n})),s));if(d["$=="]("skip"))return h.$clear(),q;if(d["$=="]("verbatim"))if((m=s=h["$[]"]("indent"))!==b&&(!m.$$is_boolean||!0==m))this["$adjust_indentation!"](q,s,!1!==(m=h["$[]"]("tabsize"))&&m!==b?m:f.$document().$attributes()["$[]"]("tabsize"));
else if(r(s=(!1!==(m=h["$[]"]("tabsize"))&&m!==b?m:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))this["$adjust_indentation!"](q,b,s);if((m=s=k["$[]"]("extension"))!==b&&(!m.$$is_boolean||!0==m))if(h.$delete("style"),(m=s=s.$process_method()["$[]"](f,!1!==(l=n)&&l!==b?l:c.get("Reader").$new(q),h.$dup()))!==b&&(!m.$$is_boolean||!0==m)){if(h.$replace(s.$attributes()),(m=(l=s.$content_model()["$=="]("compound"))?(q=s.$lines())["$nil_or_empty?"]()["$!"]():s.$content_model()["$=="]("compound"))!==
b&&(!m.$$is_boolean||!0==m))d="compound",n=c.get("Reader").$new(q)}else return b;else s=c.get("Block").$new(f,a,p(["content_model","source","attributes"],{content_model:d,source:q,attributes:h}));if((m=(l=h["$has_key?"]("title"),!1!==l&&l!==b?s.$document()["$attr?"](""+s.$context()+"-caption"):l))!==b&&(!m.$$is_boolean||!0==m))m=[h.$delete("title")],l=s,l["$title="].apply(l,m),m[m.length-1],s.$assign_caption(h.$delete("caption"));d["$=="]("compound")&&this.$parse_blocks(n,s);return s});a.defs(f,"$parse_blocks",
function(a,d){for(var e,f=b;(e=a["$has_more_lines?"]())!==b&&(!e.$$is_boolean||!0==e);)if(f=c.get("Parser").$next_block(a,d),!1!==f&&f!==b)d["$<<"](f)});a.defs(f,"$next_outline_list",function(a,e,f){var g,h,k,l=b,p=b,n=g=b,q=b,s=b,l=c.get("List").$new(f,e);g=f.$context()["$=="](e)?[m(f.$level(),1)]:[1];h=l;h["$level="].apply(h,g);for(g[g.length-1];(h=(k=a["$has_more_lines?"](),!1!==k&&k!==b?p=c.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):k))!==b&&(!h.$$is_boolean||!0==h);){g=this.$resolve_list_marker(e,
p["$[]"](1));if((h=(k=l["$items?"](),!1!==k&&k!==b?g["$!="](l.$items()["$[]"](0).$marker()):k))!==b&&(!h.$$is_boolean||!0==h)){n=m(l.$level(),1);for(q=f;q.$context()["$=="](e);){if(g["$=="](q.$items()["$[]"](0).$marker())){n=q.$level();break}q=q.$parent()}}else n=l.$level();if((h=!1!==(k=l["$items?"]()["$!"]())&&k!==b?k:n["$=="](l.$level()))!==b&&(!h.$$is_boolean||!0==h))s=this.$next_list_item(a,l,p);else if(d(n,l.$level()))break;else if(r(n,l.$level()))l.$items()["$[]"](-1)["$<<"](this.$next_block(a,
l));if(!1!==s&&s!==b)l["$<<"](s);s=b;a.$skip_blank_lines()}return l});a.defs(f,"$catalog_callouts",function(a,d){var e,f,h=b,h=!1;if((e=a["$include?"]("<"))!==b&&(!e.$$is_boolean||!0==e))(e=a.$scan,e.$$p=(f=function(){var a,c=b;null==g["~"]&&(g["~"]=b);c=g["~"];(a=c["$[]"](0).$chr()["$!="]("\\"))!==b&&(!a.$$is_boolean||!0==a)&&d.$callouts().$register(c["$[]"](2));return h=!0},f.$$s=this,f),e).call(a,c.get("CalloutQuickScanRx"));return h});a.defs(f,"$catalog_inline_anchors",function(a,d){var e,f;if((e=
a["$include?"]("["))!==b&&(!e.$$is_boolean||!0==e))(e=a.$scan,e.$$p=(f=function(){var a,c=b,e=b,c=b;null==g["~"]&&(g["~"]=b);c=g["~"];if((a=c["$[]"](0)["$start_with?"]("\\"))!==b&&(!a.$$is_boolean||!0==a))return b;e=!1!==(a=c["$[]"](1))&&a!==b?a:c["$[]"](3);c=!1!==(a=c["$[]"](2))&&a!==b?a:c["$[]"](4);return d.$register("ids",[e,c])},f.$$s=this,f),e).call(a,c.get("InlineAnchorRx"));return b});a.defs(f,"$next_labeled_list",function(d,e,f){for(var g,h,k,m=b,l=b,p=b,n=b,q=b,m=c.get("List").$new(f,"dlist"),
l=b,p=c.get("DefinitionListSiblingRx")["$[]"](e["$[]"](2));(g=!1!==(h=e)&&h!==b?h:(k=d["$has_more_lines?"](),!1!==k&&k!==b?e=p.$match(d.$peek_line()):k))!==b&&(!g.$$is_boolean||!0==g);){g=a.to_ary(this.$next_list_item(d,m,e,p));n=null==g[0]?b:g[0];q=null==g[1]?b:g[1];if((g=(h=!1!==l&&l!==b)?l["$[]"](-1)["$!"]():l)!==b&&(!g.$$is_boolean||!0==g))l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](q);else m.$items()["$<<"](l=[[n],q]);e=b}return m});a.defs(f,"$next_list_item",function(a,d,e,f){var g,h,k=b,m=b,l=
b,n=b,r=l=b,s=r=r=n=b,v=b,C=v=s=b,t=b;null==f&&(f=b);if((k=d.$context())["$=="]("dlist"))m=c.get("ListItem").$new(d,e["$[]"](1)),l=c.get("ListItem").$new(d,e["$[]"](3)),n=e["$[]"](3)["$nil_or_empty?"]()["$!"]();else{l=e["$[]"](2);r=!1;if((g=(h=k["$=="]("ulist"))?l["$start_with?"]("["):k["$=="]("ulist"))!==b&&(!g.$$is_boolean||!0==g))if((g=l["$start_with?"]("[ ] "))!==b&&(!g.$$is_boolean||!0==g))r=!0,n=!1,l=l["$[]"](q(3,-1,!1)).$lstrip();else if((g=!1!==(h=l["$start_with?"]("[x] "))&&h!==b?h:l["$start_with?"]("[*] "))!==
b&&(!g.$$is_boolean||!0==g))n=r=!0,l=l["$[]"](q(3,-1,!1)).$lstrip();l=c.get("ListItem").$new(d,l);if(!1!==r&&r!==b&&(d.$attributes()["$[]="]("checklist-option",""),l.$attributes()["$[]="]("checkbox",""),!1!==n&&n!==b))l.$attributes()["$[]="]("checked","");!1!==(g=f)&&g!==b?g:f=this.$resolve_list_marker(k,e["$[]"](1),d.$items().$size(),!0,a);g=[f];h=l;h["$marker="].apply(h,g);g[g.length-1];n=!0}a.$advance();r=a.$cursor();r=c.get("Reader").$new(this.$read_lines_for_list_item(a,k,f,n),r);if((g=r["$has_more_lines?"]())!==
b&&(!g.$$is_boolean||!0==g)){s=r.$skip_line_comments();v=r.$peek_line();(g=s["$empty?"]())!==b&&(!g.$$is_boolean||!0==g)||r.$unshift_lines(s);if((g=v["$nil?"]()["$!"]())!==b&&(!g.$$is_boolean||!0==g)){s=v["$empty?"]();if((g=(h=s["$!"](),!1!==h&&h!==b?k["$!="]("dlist"):h))!==b&&(!g.$$is_boolean||!0==g))n=!1;v=(g=s["$!"](),!1!==g&&g!==b?v["$empty?"]()["$!"]():g)}else v=s=!1;for(C=p(["text"],{text:n["$!"]()});(h=r["$has_more_lines?"]())!==b&&(!h.$$is_boolean||!0==h);)if((h=t=this.$next_block(r,l,p([],
{}),C))!==b&&(!h.$$is_boolean||!0==h))l["$<<"](t);l.$fold_first(s,v)}if(k["$=="]("dlist")){if(!((g=!1!==(h=l["$text?"]())&&h!==b?h:l["$blocks?"]())!==b&&(!g.$$is_boolean||!0==g)))l=b;return[m,l]}return l});a.defs(f,"$read_lines_for_list_item",function(a,d,e,f){var h,k,m,l,n,q,r,s,v,C,t,u,A,G=b,w=b,I=b,z=b,F=b,ba=b,ba=l=b;null==g["~"]&&(g["~"]=b);null==e&&(e=b);null==f&&(f=!0);G=[];w="inactive";I=!1;for(z=b;(k=a["$has_more_lines?"]())!==b&&(!k.$$is_boolean||!0==k);){F=a.$read_line();if((k=this["$is_sibling_list_item?"](F,
d,e))!==b&&(!k.$$is_boolean||!0==k))break;ba=(k=G["$empty?"]())!==b&&(!k.$$is_boolean||!0==k)?b:G["$[]"](-1);if(ba["$=="](c.get("LIST_CONTINUATION"))){if(w["$=="]("inactive")&&(w="active",f=!0,!(!1!==I&&I!==b)))G["$[]="](-1,"");if(F["$=="](c.get("LIST_CONTINUATION"))){if((k=w["$!="]("frozen"))!==b&&(!k.$$is_boolean||!0==k))w="frozen",G["$<<"](F);F=b;continue}}if((k=l=this["$is_delimited_block?"](F,!0))!==b&&(!k.$$is_boolean||!0==k))if(w["$=="]("active"))G["$<<"](F),G.$concat(a.$read_lines_until(p(["terminator",
"read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),w="inactive";else break;else if((k=(m=(l=d["$=="]("dlist"))?w["$!="]("active"):d["$=="]("dlist"),!1!==m&&m!==b?c.get("BlockAttributeLineRx")["$=~"](F):m))!==b&&(!k.$$is_boolean||!0==k))break;else if((k=(m=w["$=="]("active"))?F["$empty?"]()["$!"]():w["$=="]("active"))!==b&&(!k.$$is_boolean||!0==k))if((k=c.get("LiteralParagraphRx")["$=~"](F))!==b&&(!k.$$is_boolean||!0==k))a.$unshift_line(F),G.$concat((k=(m=a).$read_lines_until,k.$$p=
(n=function(a){var c=n.$$s||this;null==a&&(a=b);return d["$=="]("dlist")?c["$is_sibling_list_item?"](a,d,e):d["$=="]("dlist")},n.$$s=this,n),k).call(m,p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive";else if((k=!1!==(l=!1!==(q=c.get("BlockTitleRx")["$=~"](F))&&q!==b?q:c.get("BlockAttributeLineRx")["$=~"](F))&&l!==b?l:c.get("AttributeEntryRx")["$=~"](F))!==b&&(!k.$$is_boolean||
!0==k))G["$<<"](F);else{if((k=ba=(l=(q=!1!==I&&I!==b?["dlist"]:c.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(r=function(a){null==a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](F)},r.$$s=this,r),l).call(q))!==b&&(!k.$$is_boolean||!0==k))if(I=!0,(k=(l=ba["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ba["$=="]("dlist"))!==b&&(!k.$$is_boolean||!0==k))f=!1;G["$<<"](F);w="inactive"}else if((k=(l=ba["$nil?"]()["$!"](),!1!==l&&l!==b?ba["$empty?"]():l))!==b&&(!k.$$is_boolean||!0==k)){if((k=
F["$empty?"]())!==b&&(!k.$$is_boolean||!0==k))if(a.$skip_blank_lines(),F=a.$read_line(),(k=!1!==(l=F["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](F,d,e))!==b&&(!k.$$is_boolean||!0==k))break;if(F["$=="](c.get("LIST_CONTINUATION")))z=G.$size(),G["$<<"](F);else if(!1!==f&&f!==b)if((k=this["$is_sibling_list_item?"](F,d,e))!==b&&(!k.$$is_boolean||!0==k))break;else if((k=ba=(l=(s=c.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(v=function(a){null==a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](F)},
v.$$s=this,v),l).call(s))!==b&&(!k.$$is_boolean||!0==k)){if(G["$<<"](F),I=!0,(k=(l=ba["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ba["$=="]("dlist"))!==b&&(!k.$$is_boolean||!0==k))f=!1}else if((k=c.get("LiteralParagraphRx")["$=~"](F))!==b&&(!k.$$is_boolean||!0==k))a.$unshift_line(F),G.$concat((k=(l=a).$read_lines_until,k.$$p=(C=function(a){var c=C.$$s||this;null==a&&(a=b);return d["$=="]("dlist")?c["$is_sibling_list_item?"](a,d,e):d["$=="]("dlist")},C.$$s=this,C),k).call(l,p(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else!1!==I&&I!==b||G.$pop(),G["$<<"](F),f=!0}else{if((k=F["$empty?"]()["$!"]())!==b&&(!k.$$is_boolean||!0==k))f=!0;if((k=ba=(t=(u=!1!==I&&I!==b?["dlist"]:c.get("NESTABLE_LIST_CONTEXTS")).$detect,t.$$p=(A=function(a){null==a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](F)},A.$$s=this,A),t).call(u))!==b&&(!k.$$is_boolean||!0==k))if(I=!0,(k=(t=ba["$=="]("dlist"))?
g["~"]["$[]"](3)["$nil_or_empty?"]():ba["$=="]("dlist"))!==b&&(!k.$$is_boolean||!0==k))f=!1;G["$<<"](F)}F=b}!1!==F&&F!==b&&a.$unshift_line(F);for(!1!==z&&z!==b&&G.$delete_at(z);(k=(t=G["$empty?"]()["$!"](),!1!==t&&t!==b?G["$[]"](-1)["$empty?"]():t))!==b&&(!k.$$is_boolean||!0==k);)G.$pop();(h=(k=G["$empty?"]()["$!"](),!1!==k&&k!==b?G["$[]"](-1)["$=="](c.get("LIST_CONTINUATION")):k))!==b&&(!h.$$is_boolean||!0==h)&&G.$pop();return G});a.defs(f,"$initialize_section",function(d,e,f){var g,h=b,k=b,m=b,
l=b,n=b,q=b,r=m=l=b;null==f&&(f=p([],{}));h=e.$document();if((g=h.$sourcemap())!==b&&(!g.$$is_boolean||!0==g))k=d.$cursor();g=a.to_ary(this.$parse_section_title(d,h));m=null==g[0]?b:g[0];l=null==g[1]?b:g[1];n=null==g[2]?b:g[2];q=null==g[3]?b:g[3];if(!1!==l&&l!==b)f["$[]="]("reftext",l);l=c.get("Section").$new(e,q,h.$attributes()["$has_key?"]("sectnums"));!1!==k&&k!==b&&(g=[k],e=l,e["$source_location="].apply(e,g),g[g.length-1]);g=[m];e=l;e["$id="].apply(e,g);g[g.length-1];g=[n];e=l;e["$title="].apply(e,
g);g[g.length-1];if((g=f["$[]"](1))!==b&&(!g.$$is_boolean||!0==g))if(g=a.to_ary(this.$parse_style_attribute(f,d)),m=null==g[0]?b:g[0],!1!==m&&m!==b){if(g=[m],e=l,e["$sectname="].apply(e,g),g[g.length-1],g=[!0],e=l,e["$special="].apply(e,g),g[g.length-1],(g=(e=l.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):l.$sectname()["$=="]("abstract"))!==b&&(!g.$$is_boolean||!0==g))g=["sect1"],e=l,e["$sectname="].apply(e,g),g[g.length-1],g=[!1],e=l,e["$special="].apply(e,g),g[g.length-1],g=[1],e=
l,e["$level="].apply(e,g),g[g.length-1]}else g=["sect"+l.$level()],e=l,e["$sectname="].apply(e,g),g[g.length-1];else(g=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))!==b&&(!g.$$is_boolean||!0==g)?(g=[!0],e=l,e["$special="].apply(e,g),g[g.length-1],g=["synopsis"]):g=["sect"+l.$level()],e=l,e["$sectname="].apply(e,g),g[g.length-1];(g=(e=l.$id()["$!"](),!1!==e&&e!==b?r=f["$[]"]("id"):e))!==b&&(!g.$$is_boolean||!0==g)?(g=[r],e=l,e["$id="].apply(e,g),
g[g.length-1]):(g=l,!1!==(e=g.$id())&&e!==b?e:g["$id="](l.$generate_id()));if((g=l.$id())!==b&&(!g.$$is_boolean||!0==g))l.$document().$register("ids",[l.$id(),!1!==(g=f["$[]"]("reftext"))&&g!==b?g:l.$title()]);l.$update_attributes(f);d.$skip_blank_lines();return l});a.defs(f,"$section_level",function(a){return c.get("SECTION_LEVELS")["$[]"](a.$chr())});a.defs(f,"$single_line_section_level",function(a){return l(a.$length(),1)});a.defs(f,"$is_next_line_section?",function(d,e){var f,g,h,k,m=b,l=b;return(f=
(g=(h=(m=e["$[]"](1))["$nil?"]()["$!"](),!1!==h&&h!==b?!1!==(k=(l=m["$[]"](0).$ord())["$=="](100))&&k!==b?k:l["$=="](102):h),!1!==g&&g!==b?m["$=~"](c.get("FloatingTitleStyleRx")):g))!==b&&(!f.$$is_boolean||!0==f)||!((f=d["$has_more_lines?"]())!==b&&(!f.$$is_boolean||!0==f))?!1:(f=c.get("Compliance").$underline_style_section_titles())!==b&&(!f.$$is_boolean||!0==f)?(f=this)["$is_section_title?"].apply(f,a.to_a(d.$peek_lines(2))):this["$is_section_title?"](d.$peek_line())});a.defs(f,"$is_next_line_document_title?",
function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(f,"$is_section_title?",function(a,c){var d,e=b;null==c&&(c=b);return(d=e=this["$is_single_line_section_title?"](a))!==b&&(!d.$$is_boolean||!0==d)?e:(d=!1!==c&&c!==b?e=this["$is_two_line_section_title?"](a,c):c)!==b&&(!d.$$is_boolean||!0==d)?e:!1});a.defs(f,"$is_single_line_section_title?",function(a){var d,e,f,g,h=b,k=b,h=!1!==a&&a!==b?a.$chr():b;return(d=(e=!1!==(f=h["$=="]("="))&&f!==b?f:(g=c.get("Compliance").$markdown_syntax(),
!1!==g&&g!==b?h["$=="]("#"):g),!1!==e&&e!==b?k=c.get("AtxSectionRx").$match(a):e))!==b&&(!d.$$is_boolean||!0==d)?this.$single_line_section_level(k["$[]"](1)):!1});a.defs(f,"$is_two_line_section_title?",function(a,d){var f,g,h,k,m;return(f=(g=(h=(k=(m=!1!==a&&a!==b?d:a,!1!==m&&m!==b?c.get("SECTION_LEVELS")["$has_key?"](d.$chr()):m),!1!==k&&k!==b?d["$=~"](c.get("SetextSectionLineRx")):k),!1!==h&&h!==b?a["$=~"](c.get("SetextSectionTitleRx")):h),!1!==g&&g!==b?e(l(this.$line_length(a),this.$line_length(d)).$abs(),
1):g))!==b&&(!f.$$is_boolean||!0==f)?this.$section_level(d):!1});a.defs(f,"$parse_section_title",function(a,d){var f,g,k,p,n,q=b,r=b,s=b,v=b,C=b,t=b,u=b,A=b,G=b,w=b,I=b,q=a.$read_line(),s=r=b,v=-1,C=b,t=!0,u=q.$chr();if((f=(g=!1!==(k=u["$=="]("="))&&k!==b?k:(p=c.get("Compliance").$markdown_syntax(),!1!==p&&p!==b?u["$=="]("#"):p),!1!==g&&g!==b?A=c.get("AtxSectionRx").$match(q):g))!==b&&(!f.$$is_boolean||!0==f)){if(v=this.$single_line_section_level(A["$[]"](1)),s=A["$[]"](2),(f=(g=s["$end_with?"]("]]"),
!1!==g&&g!==b?G=c.get("InlineSectionAnchorRx").$match(s):g))!==b&&(!f.$$is_boolean||!0==f))if((f=G["$[]"](2)["$nil?"]())!==b&&(!f.$$is_boolean||!0==f))s=G["$[]"](1),r=G["$[]"](3),C=G["$[]"](4)}else if((f=c.get("Compliance").$underline_style_section_titles())!==b&&(!f.$$is_boolean||!0==f))if((f=(g=(k=(p=(n=w=a.$peek_line(!0),!1!==n&&n!==b?c.get("SECTION_LEVELS")["$has_key?"](w.$chr()):n),!1!==p&&p!==b?w["$=~"](c.get("SetextSectionLineRx")):p),!1!==k&&k!==b?I=c.get("SetextSectionTitleRx").$match(q):
k),!1!==g&&g!==b?e(l(this.$line_length(q),this.$line_length(w)).$abs(),1):g))!==b&&(!f.$$is_boolean||!0==f)){s=I["$[]"](1);if((f=(g=s["$end_with?"]("]]"),!1!==g&&g!==b?G=c.get("InlineSectionAnchorRx").$match(s):g))!==b&&(!f.$$is_boolean||!0==f))if((f=G["$[]"](2)["$nil?"]())!==b&&(!f.$$is_boolean||!0==f))s=G["$[]"](1),r=G["$[]"](3),C=G["$[]"](4);v=this.$section_level(w);t=!1;a.$advance()}h(v,0)&&(v=m(v,d.$attr("leveloffset",0).$to_i()));return[r,C,s,v,t]});a.defs(f,"$line_length",function(a){var d;
return(d=c.get("FORCE_UNICODE_LINE_LENGTH"))!==b&&(!d.$$is_boolean||!0==d)?a.$scan(c.get("UnicodeCharScanRx")).$length():a.$length()});a.defs(f,"$parse_header_metadata",function(d,e){var f,g,h,k,l,n,s=b,v=b,C=b,t=b,u=t=b,A=b,G=u=b,C=v=b;null==e&&(e=b);this.$process_attribute_entries(d,e);s=p([],{});C=v=b;if((f=(g=d["$has_more_lines?"](),!1!==g&&g!==b?d["$next_line_empty?"]()["$!"]():g))!==b&&(!f.$$is_boolean||!0==f)){t=this.$process_authors(d.$read_line());if(!((f=t["$empty?"]())!==b&&(!f.$$is_boolean||
!0==f)))!1!==e&&e!==b&&((f=(g=t).$each,f.$$p=(h=function(c,d){var f;null==c&&(c=b);null==d&&(d=b);return(f=e.$attributes()["$has_key?"](c))!==b&&(!f.$$is_boolean||!0==f)?b:e.$attributes()["$[]="](c,(f=d["$is_a?"](a.get("String")))!==b&&(!f.$$is_boolean||!0==f)?e.$apply_header_subs(d):d)},h.$$s=this,h),f).call(g),v=e.$attributes()["$[]"]("author"),C=e.$attributes()["$[]"]("authors")),s=t;this.$process_attribute_entries(d,e);t=p([],{});if((f=(k=d["$has_more_lines?"](),!1!==k&&k!==b?d["$next_line_empty?"]()["$!"]():
k))!==b&&(!f.$$is_boolean||!0==f))if(u=d.$read_line(),(f=A=c.get("RevisionInfoLineRx").$match(u))!==b&&(!f.$$is_boolean||!0==f)){if((f=A["$[]"](1))!==b&&(!f.$$is_boolean||!0==f))t["$[]="]("revnumber",A["$[]"](1).$rstrip());if(!(u=A["$[]"](2).$strip())["$=="](""))if((f=(k=A["$[]"](1)["$!"](),!1!==k&&k!==b?u["$start_with?"]("v"):k))!==b&&(!f.$$is_boolean||!0==f))t["$[]="]("revnumber",u["$[]"](q(1,-1,!1)));else t["$[]="]("revdate",u);if((f=A["$[]"](3))!==b&&(!f.$$is_boolean||!0==f))t["$[]="]("revremark",
A["$[]"](3).$rstrip())}else d.$unshift_line(u);if(!((f=t["$empty?"]())!==b&&(!f.$$is_boolean||!0==f)))!1!==e&&e!==b&&(f=(k=t).$each,f.$$p=(l=function(a,c){var d;null==a&&(a=b);null==c&&(c=b);return(d=e.$attributes()["$has_key?"](a))!==b&&(!d.$$is_boolean||!0==d)?b:e.$attributes()["$[]="](a,e.$apply_header_subs(c))},l.$$s=this,l),f).call(k),s.$update(t);this.$process_attribute_entries(d,e);d.$skip_blank_lines()}if(!1!==e&&e!==b){t=b;if((f=(n=e.$attributes()["$has_key?"]("author"),!1!==n&&n!==b?(G=
e.$attributes()["$[]"]("author"))["$!="](v):n))!==b&&(!f.$$is_boolean||!0==f))t=this.$process_authors(G,!0,!1);else if((f=(n=e.$attributes()["$has_key?"]("authors"),!1!==n&&n!==b?(G=e.$attributes()["$[]"]("authors"))["$!="](C):n))!==b&&(!f.$$is_boolean||!0==f))t=this.$process_authors(G,!0);else{v=[];for(C="author_"+m(v.$size(),1);(n=e.$attributes()["$has_key?"](C))!==b&&(!n.$$is_boolean||!0==n);)v["$<<"](e.$attributes()["$[]"](C)),C="author_"+m(v.$size(),1);v.$size()["$=="](1)?t=this.$process_authors(v["$[]"](0),
!0,!1):r(v.$size(),1)&&(t=this.$process_authors(v.$join("; "),!0))}if(!1!==t&&t!==b&&(e.$attributes().$update(t),(f=(n=e.$attributes()["$has_key?"]("email")["$!"](),!1!==n&&n!==b?e.$attributes()["$has_key?"]("email_1"):n))!==b&&(!f.$$is_boolean||!0==f)))e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1"))}return s});a.defs(f,"$process_authors",function(a,d,e){var f,g,h,k,l,n=this,q=b,r=b,s=b;null==d&&(d=!1);null==e&&(e=!0);q=p([],{});r="author authorinitials firstname middlename lastname email".split(" ");
s=function(){return!1!==e&&e!==b?(f=(g=a.$split(";")).$map,f.$$p=(h=function(a){null==a&&(a=b);return a.$strip()},h.$$s=n,h),f).call(g):[a]}();(f=(k=s).$each_with_index,f.$$p=(l=function(a,e){var f=l.$$s||this,g,h,k,n,s,v,C,B=b,t=b,D=b,u=D=b,A=b;null==a&&(a=b);null==e&&(e=b);if((g=a["$empty?"]())!==b&&(!g.$$is_boolean||!0==g))return b;B=p([],{});(g=e["$zero?"]())!==b&&(!g.$$is_boolean||!0==g)?(g=(h=r).$each,g.$$p=(k=function(a){null==a&&(a=b);return B["$[]="](a.$to_sym(),a)},k.$$s=f,k),g).call(h):
(g=(n=r).$each,g.$$p=(s=function(a){null==a&&(a=b);return B["$[]="](a.$to_sym(),""+a+"_"+m(e,1))},s.$$s=f,s),g).call(n);t=b;if(!1!==d&&d!==b)t=a.$split(" ",3);else if((g=D=c.get("AuthorInfoLineRx").$match(a))!==b&&(!g.$$is_boolean||!0==g))t=D.$to_a(),t.$shift();if((g=t["$nil?"]())!==b&&(!g.$$is_boolean||!0==g))q["$[]="](B["$[]"]("author"),q["$[]="](B["$[]"]("firstname"),D=a.$strip().$tr_s(" "," "))),q["$[]="](B["$[]"]("authorinitials"),D["$[]"](0,1));else{q["$[]="](B["$[]"]("firstname"),D=t["$[]"](0).$tr("_",
" "));q["$[]="](B["$[]"]("author"),D);q["$[]="](B["$[]"]("authorinitials"),D["$[]"](0,1));if((g=(v=t["$[]"](1)["$nil?"]()["$!"](),!1!==v&&v!==b?t["$[]"](2)["$nil?"]()["$!"]():v))!==b&&(!g.$$is_boolean||!0==g))q["$[]="](B["$[]"]("middlename"),u=t["$[]"](1).$tr("_"," ")),q["$[]="](B["$[]"]("lastname"),A=t["$[]"](2).$tr("_"," ")),q["$[]="](B["$[]"]("author"),[D,u,A].$join(" ")),q["$[]="](B["$[]"]("authorinitials"),[D["$[]"](0,1),u["$[]"](0,1),A["$[]"](0,1)].$join());else if((g=t["$[]"](1)["$nil?"]()["$!"]())!==
b&&(!g.$$is_boolean||!0==g))q["$[]="](B["$[]"]("lastname"),A=t["$[]"](1).$tr("_"," ")),q["$[]="](B["$[]"]("author"),[D,A].$join(" ")),q["$[]="](B["$[]"]("authorinitials"),[D["$[]"](0,1),A["$[]"](0,1)].$join());if(!((g=!1!==(v=d)&&v!==b?v:t["$[]"](3)["$nil?"]())!==b&&(!g.$$is_boolean||!0==g)))q["$[]="](B["$[]"]("email"),t["$[]"](3))}q["$[]="]("authorcount",m(e,1));e["$=="](1)&&(g=(v=r).$each,g.$$p=(C=function(a){var c;null==a&&(a=b);return(c=q["$has_key?"](a))!==b&&(!c.$$is_boolean||!0==c)?q["$[]="](""+
a+"_1",q["$[]"](a)):b},C.$$s=f,C),g).call(v);return(g=e["$zero?"]())!==b&&(!g.$$is_boolean||!0==g)?q["$[]="]("authors",q["$[]"](B["$[]"]("author"))):q["$[]="]("authors",""+q["$[]"]("authors")+", "+q["$[]"](B["$[]"]("author")))},l.$$s=n,l),f).call(k);return q});a.defs(f,"$parse_block_metadata_lines",function(a,c,d,e){var f;null==d&&(d=p([],{}));for(null==e&&(e=p([],{}));(f=this.$parse_block_metadata_line(a,c,d,e))!==b&&(!f.$$is_boolean||!0==f);)a.$advance(),a.$skip_blank_lines();return d});a.defs(f,
"$parse_block_metadata_line",function(a,d,e,f){var g,h,k,m=b,l=b,n=b,l=m=b;null==f&&(f=p([],{}));if(!((g=a["$has_more_lines?"]())!==b&&(!g.$$is_boolean||!0==g)))return!1;m=a.$peek_line();if((g=(h=l=m["$start_with?"]("//"),!1!==h&&h!==b?n=c.get("CommentBlockRx").$match(m):h))!==b&&(!g.$$is_boolean||!0==g))m=n["$[]"](0),a.$read_lines_until(p(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));else if(!((g=
(h=!1!==l&&l!==b)?c.get("CommentLineRx")["$=~"](m):l)!==b&&(!g.$$is_boolean||!0==g)))if((g=(h=(k=f["$[]"]("text")["$!"](),!1!==k&&k!==b?m["$start_with?"](":"):k),!1!==h&&h!==b?n=c.get("AttributeEntryRx").$match(m):h))!==b&&(!g.$$is_boolean||!0==g))this.$process_attribute_entry(a,d,e,n);else if((g=(h=l=(k=m["$start_with?"]("["),!1!==k&&k!==b?m["$end_with?"]("]"):k),!1!==h&&h!==b?n=c.get("BlockAnchorRx").$match(m):h))!==b&&(!g.$$is_boolean||!0==g)){if(!((g=n["$[]"](1)["$nil_or_empty?"]())!==b&&(!g.$$is_boolean||
!0==g)))if(e["$[]="]("id",n["$[]"](1)),!((g=n["$[]"](2)["$nil?"]())!==b&&(!g.$$is_boolean||!0==g)))e["$[]="]("reftext",n["$[]"](2))}else if((g=(h=!1!==l&&l!==b)?n=c.get("BlockAttributeListRx").$match(m):l)!==b&&(!g.$$is_boolean||!0==g))d.$document().$parse_attributes(n["$[]"](1),[],p(["sub_input","into"],{sub_input:!0,into:e}));else if((g=(h=f["$[]"]("text")["$!"](),!1!==h&&h!==b?n=c.get("BlockTitleRx").$match(m):h))!==b&&(!g.$$is_boolean||!0==g))e["$[]="]("title",n["$[]"](1));else return!1;return!0});
a.defs(f,"$process_attribute_entries",function(a,c,d){var e;null==d&&(d=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,c,d))!==b&&(!e.$$is_boolean||!0==e);)a.$advance(),a.$skip_comment_lines()});a.defs(f,"$process_attribute_entry",function(a,d,e,f){var g,h,k=b,m=b,l=b,p=b,n=b,q=b;null==e&&(e=b);null==f&&(f=b);!1!==(g=f)&&g!==b?g:f=(h=a["$has_more_lines?"]())!==b&&(!h.$$is_boolean||!0==h)?c.get("AttributeEntryRx").$match(a.$peek_line()):b;if(!1!==f&&f!==b){k=f["$[]"](1);if(!((g=
(m=!1!==(h=f["$[]"](2))&&h!==b?h:"")["$empty?"]())!==b&&(!g.$$is_boolean||!0==g)))if((g=!1!==(h=m["$end_with?"](l=c.get("LINE_CONTINUATION")))&&h!==b?h:m["$end_with?"](l=c.get("LINE_CONTINUATION_LEGACY")))!==b&&(!g.$$is_boolean||!0==g))for(m=m.$chop().$rstrip();(h=a.$advance())!==b&&(!h.$$is_boolean||!0==h)&&!((h=(p=a.$peek_line().$strip())["$empty?"]())!==b&&(!h.$$is_boolean||!0==h));){if((h=n=p["$end_with?"](l))!==b&&(!h.$$is_boolean||!0==h))p=p.$chop().$rstrip();q=(h=m["$end_with?"](c.get("LINE_BREAK")))!==
b&&(!h.$$is_boolean||!0==h)?c.get("EOL"):" ";m=""+m+q+p;if(!(!1!==n&&n!==b))break}this.$store_attribute(k,m,!1!==d&&d!==b?d.$document():b,e);return!0}return!1});a.defs(f,"$store_attribute",function(a,d,e,f){var g,h=b,h=b;null==e&&(e=b);null==f&&(f=b);if((g=a["$end_with?"]("!"))!==b&&(!g.$$is_boolean||!0==g))d=b,a=a.$chop();else if((g=a["$start_with?"]("!"))!==b&&(!g.$$is_boolean||!0==g))d=b,a=a["$[]"](q(1,-1,!1));a=this.$sanitize_attribute_name(a);h=!0;!1!==e&&e!==b&&(a["$=="]("numbered")?a="sectnums":
a["$=="]("leveloffset")&&(!1!==d&&d!==b)&&(h=d.$chr(),"+"["$==="](h)?d=m(e.$attr("leveloffset",0).$to_i(),(!1!==(g=d["$[]"](q(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s():"-"["$==="](h)&&(d=l(e.$attr("leveloffset",0).$to_i(),(!1!==(g=d["$[]"](q(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s())),h=!1!==d&&d!==b?e.$set_attribute(a,d):e.$delete_attribute(a));if((g=!1!==h&&h!==b?f:h)!==b&&(!g.$$is_boolean||!0==g))!1!==d&&d!==b&&(d=e.$attributes()["$[]"](a)),c.get("Document").$$scope.get("AttributeEntry").$new(a,d).$save_to(f);
return[a,d]});a.defs(f,"$resolve_list_marker",function(a,c,d,e,f){var g;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);return(g=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))!==b&&(!g.$$is_boolean||!0==g)?this.$resolve_ordered_list_marker(c,d,e,f):a["$=="]("colist")?"<1>":c});a.defs(f,"$resolve_ordered_list_marker",function(a,d,e,f){var g,h,k,l=b,p=b,n=b,l=b;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);l=(g=(h=c.get("ORDERED_LIST_STYLES")).$detect,g.$$p=(k=function(d){null==d&&
(d=b);return c.get("OrderedListMarkerRxMap")["$[]"](d)["$=~"](a)},k.$$s=this,k),g).call(h);p=n=b;"arabic"["$==="](l)?(!1!==e&&e!==b&&(p=m(d,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](l)?(!1!==e&&e!==b&&(p=m("a"["$[]"](0).$ord(),d).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](l)?(!1!==e&&e!==b&&(p=m("A"["$[]"](0).$ord(),d).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](l)?(!1!==e&&e!==b&&(p=m(d,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](l)&&(!1!==e&&
e!==b&&(p=m(d,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(g=!1!==e&&e!==b?p["$!="](n):e)!==b&&(!g.$$is_boolean||!0==g)&&this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+p+", got "+n);return a});a.defs(f,"$is_sibling_list_item?",function(d,e,f){var g,h=b,k=b,m=b;(g=f["$is_a?"](a.get("Regexp")))!==b&&(!g.$$is_boolean||!0==g)?(h=f,k=!1):(h=c.get("ListRxMap")["$[]"](e),k=f);return(g=m=h.$match(d))!==b&&(!g.$$is_boolean||!0==g)?!1!==k&&k!==b?k["$=="](this.$resolve_list_marker(e,
m["$[]"](1))):!0:!1});a.defs(f,"$next_table",function(d,e,f){var g,h,k,l,p,n,r=b,s=b,v=b,C=b,u=b,A=b,G=b,w=b,I=b,z=b,W=A=b,r=c.get("Table").$new(e,f);if((g=f["$has_key?"]("title"))!==b&&(!g.$$is_boolean||!0==g))g=[f.$delete("title")],h=r,h["$title="].apply(h,g),g[g.length-1],r.$assign_caption(f.$delete("caption"));(g=f["$[]"]("cols")["$nil_or_empty?"]())!==b&&(!g.$$is_boolean||!0==g)?s=!1:(r.$create_columns(this.$parse_col_specs(f["$[]"]("cols"))),s=!0);v=d.$skip_blank_lines();C=c.get("Table").$$scope.get("ParserContext").$new(d,
r,f);for(u=-1;(h=d["$has_more_lines?"]())!==b&&(!h.$$is_boolean||!0==h);){u=m(u,1);A=d.$read_line();if((h=(k=(l=(p=v["$=="](0)?u["$zero?"]():v["$=="](0),!1!==p&&p!==b?f["$has_key?"]("options")["$!"]():p),!1!==l&&l!==b?(G=d.$peek_line())["$nil?"]()["$!"]():l),!1!==k&&k!==b?G["$empty?"]():k))!==b&&(!h.$$is_boolean||!0==h))h=[!0],k=r,k["$has_header_option="].apply(k,h),h[h.length-1],r.$set_option("header");C.$format()["$=="]("psv")&&((h=C["$starts_with_delimiter?"](A))!==b&&(!h.$$is_boolean||!0==h)?
(A=A["$[]"](q(1,-1,!1)),C.$close_open_cell()):(h=a.to_ary(this.$parse_cell_spec(A,"start",C.$delimiter())),w=null==h[0]?b:h[0],A=null==h[1]?b:h[1],(h=w["$nil?"]()["$!"]())!==b&&(!h.$$is_boolean||!0==h)&&C.$close_open_cell(w)));for(I=!1;(k=!1!==(l=I["$!"]())&&l!==b?l:A["$empty?"]()["$!"]())!==b&&(!k.$$is_boolean||!0==k);)if(I=!0,(k=z=C.$match_delimiter(A))!==b&&(!k.$$is_boolean||!0==k)){if(C.$format()["$=="]("csv")){if((k=C["$buffer_has_unclosed_quotes?"](z.$pre_match()))!==b&&(!k.$$is_boolean||!0==
k)){A=C.$skip_matched_delimiter(z);continue}}else if((k=z.$pre_match()["$end_with?"]("\\"))!==b&&(!k.$$is_boolean||!0==k)){if((k=(A=C.$skip_matched_delimiter(z,!0))["$empty?"]())!==b&&(!k.$$is_boolean||!0==k)){k=[""+C.$buffer()+c.get("EOL")];l=C;l["$buffer="].apply(l,k);k[k.length-1];C.$keep_cell_open();break}continue}C.$format()["$=="]("psv")?(k=a.to_ary(this.$parse_cell_spec(z.$pre_match(),"end")),w=null==k[0]?b:k[0],A=null==k[1]?b:k[1],C.$push_cell_spec(w),k=[""+C.$buffer()+A]):k=[""+C.$buffer()+
z.$pre_match()];l=C;l["$buffer="].apply(l,k);k[k.length-1];if((A=z.$post_match())["$=="](""))I=!1;C.$close_cell()}else k=[""+C.$buffer()+A+c.get("EOL")],l=C,l["$buffer="].apply(l,k),k[k.length-1],C.$format()["$=="]("csv")&&(k=[""+C.$buffer().$rstrip()+" "],l=C,l["$buffer="].apply(l,k),k[k.length-1]),A="",(k=!1!==(l=C.$format()["$=="]("psv"))&&l!==b?l:(p=C.$format()["$=="]("csv"))?C["$buffer_has_unclosed_quotes?"]():C.$format()["$=="]("csv"))!==b&&(!k.$$is_boolean||!0==k)?C.$keep_cell_open():C.$close_cell(!0);
if(!((h=C["$cell_open?"]())!==b&&(!h.$$is_boolean||!0==h)))v=d.$skip_blank_lines();if(!((h=d["$has_more_lines?"]())!==b&&(!h.$$is_boolean||!0==h)))(h=C["$cell_open?"]())!==b&&(!h.$$is_boolean||!0==h)&&C.$close_cell(!0)}g="colcount";h=r.$attributes();!1!==(k=h["$[]"](g))&&k!==b?k:h["$[]="](g,C.$col_count());if((g=s["$!"]())!==b&&(!g.$$is_boolean||!0==g))W=t(100,C.$col_count()).$floor(),(g=(h=r.$columns()).$each,g.$$p=(n=function(a){null==a&&(a=b);return a.$assign_width(0,W)},n.$$s=this,n),g).call(h);
r.$partition_header_footer(f);return r});a.defs(f,"$parse_col_specs",function(d){var e,f,g,h,k,m=b;if((e=c.get("DigitsRx")["$=~"](d))!==b&&(!e.$$is_boolean||!0==e))return(e=(f=a.get("Array")).$new,e.$$p=(g=function(){return p(["width"],{width:1})},g.$$s=this,g),e).call(f,d.$to_i());m=[];(e=(h=d.$split(",",-1)).$each,e.$$p=(k=function(d){var e=k.$$s||this,f,g,h,l=b,n=b,q=b,r=b;null==d&&(d=b);if(d["$=="](""))return m["$<<"](p(["width"],{width:1}));if((f=l=c.get("ColumnSpecRx").$match(d))!==b&&(!f.$$is_boolean||
!0==f)){n=p([],{});if((f=l["$[]"](2))!==b&&(!f.$$is_boolean||!0==f)){f=a.to_ary(l["$[]"](2).$split("."));q=null==f[0]?b:f[0];r=null==f[1]?b:f[1];if((f=(g=q["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](q):g))!==b&&(!f.$$is_boolean||!0==f))n["$[]="]("halign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](q));if((f=(g=r["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):
g))!==b&&(!f.$$is_boolean||!0==f))n["$[]="]("valign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}n["$[]="]("width",(f=l["$[]"](3))!==b&&(!f.$$is_boolean||!0==f)?l["$[]"](3).$to_i():1);if((f=(g=l["$[]"](4),!1!==g&&g!==b?c.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):g))!==b&&(!f.$$is_boolean||!0==f))n["$[]="]("style",c.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(f=l["$[]"](1))!==b&&(!f.$$is_boolean||!0==f)?(f=(g=1).$upto,f.$$p=(h=function(){return m["$<<"](n.$dup())},
h.$$s=e,h),f).call(g,l["$[]"](1).$to_i()):m["$<<"](n)}return b},k.$$s=this,k),e).call(h);return m});a.defs(f,"$parse_cell_spec",function(d,e,f){var g,h,k=b,m=b,l=b,n=l=k=b,q=b;null==e&&(e="start");null==f&&(f=b);k=b;m="";l=e;if("start"["$==="](l))if((g=d["$include?"](f))!==b&&(!g.$$is_boolean||!0==g))if(g=a.to_ary(d.$split(f,2)),k=null==g[0]?b:g[0],m=null==g[1]?b:g[1],(g=k=c.get("CellSpecStartRx").$match(k))!==b&&(!g.$$is_boolean||!0==g)){if((g=k["$[]"](0)["$empty?"]())!==b&&(!g.$$is_boolean||!0==
g))return[p([],{}),m]}else return[b,d];else return[b,d];else if("end"["$==="](l))if((g=k=c.get("CellSpecEndRx").$match(d))!==b&&(!g.$$is_boolean||!0==g)){if((g=k["$[]"](0).$lstrip()["$empty?"]())!==b&&(!g.$$is_boolean||!0==g))return[p([],{}),d.$rstrip()];m=k.$pre_match()}else return[p([],{}),d];l=p([],{});if((g=k["$[]"](1))!==b&&(!g.$$is_boolean||!0==g))if(g=a.to_ary(k["$[]"](1).$split(".")),n=null==g[0]?b:g[0],q=null==g[1]?b:g[1],n=(g=n["$nil_or_empty?"]())!==b&&(!g.$$is_boolean||!0==g)?1:n.$to_i(),
q=(g=q["$nil_or_empty?"]())!==b&&(!g.$$is_boolean||!0==g)?1:q.$to_i(),k["$[]"](2)["$=="]("+")){if(!n["$=="](1))l["$[]="]("colspan",n);if(!q["$=="](1))l["$[]="]("rowspan",q)}else if(k["$[]"](2)["$=="]("*")&&!n["$=="](1))l["$[]="]("repeatcol",n);if((g=k["$[]"](3))!==b&&(!g.$$is_boolean||!0==g)){g=a.to_ary(k["$[]"](3).$split("."));n=null==g[0]?b:g[0];q=null==g[1]?b:g[1];if((g=(h=n["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):h))!==b&&
(!g.$$is_boolean||!0==g))l["$[]="]("halign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((g=(h=q["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):h))!==b&&(!g.$$is_boolean||!0==g))l["$[]="]("valign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}if((g=(h=k["$[]"](4),!1!==h&&h!==b?c.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):h))!==b&&(!g.$$is_boolean||!0==g))l["$[]="]("style",
c.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return[l,m]});a.defs(f,"$parse_style_attribute",function(a,d){var e,f,g,h,k,l,q,r=b,s=b,v=b,C=b,t=b,A=b,u=s=g=b;null==d&&(d=b);r=a["$[]"]("style");s=a["$[]"](1);if((e=(f=(g=!1!==s&&s!==b)?s["$include?"](" ")["$!"]():s,!1!==f&&f!==b?c.get("Compliance").$shorthand_property_syntax():f))!==b&&(!e.$$is_boolean||!0==e)){v="style";C=[];t=p([],{});A=(e=(f=this).$lambda,e.$$p=(h=function(){var a=h.$$s||this,c,e,f=b;if((c=C["$empty?"]())!==b&&(!c.$$is_boolean||
!0==c))return(c=v["$!="]("style"))!==b&&(!c.$$is_boolean||!0==c)?a.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())!==b&&(!c.$$is_boolean||!0==c)?b:" "+d.$prev_line_info()+":")+" invalid empty "+v+" detected in style attribute"):b;f=v;"role"["$==="](f)||"option"["$==="](f)?(c=v,a=t,!1!==(e=a["$[]"](c))&&e!==b?e:a["$[]="](c,[]),t["$[]"](v).$push(C.$join())):("id"["$==="](f)&&(c=t["$has_key?"]("id"))!==b&&(!c.$$is_boolean||!0==c)&&a.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())!==b&&(!c.$$is_boolean||
!0==c)?b:" "+d.$prev_line_info()+":")+" multiple ids detected in style attribute"),t["$[]="](v,C.$join()));return C=[]},h.$$s=this,h),e).call(f);(e=(g=s).$each_char,e.$$p=(k=function(a){var c,d,e,f=b;null==a&&(a=b);return(c=!1!==(d=!1!==(e=a["$=="]("."))&&e!==b?e:a["$=="]("#"))&&d!==b?d:a["$=="]("%"))!==b&&(!c.$$is_boolean||!0==c)?(A.$call(),f=a,"."["$==="](f)?v="role":"#"["$==="](f)?v="id":"%"["$==="](f)?v="option":b):C.$push(a)},k.$$s=this,k),e).call(g);if(v["$=="]("style"))g=a["$[]="]("style",
s);else{A.$call();g=(e=t["$has_key?"]("style"))!==b&&(!e.$$is_boolean||!0==e)?a["$[]="]("style",t["$[]"]("style")):b;if((e=t["$has_key?"]("id"))!==b&&(!e.$$is_boolean||!0==e))a["$[]="]("id",t["$[]"]("id"));if((e=t["$has_key?"]("role"))!==b&&(!e.$$is_boolean||!0==e))a["$[]="]("role",n(t["$[]"]("role")," "));if((e=t["$has_key?"]("option"))!==b&&(!e.$$is_boolean||!0==e))if((e=(l=s=t["$[]"]("option")).$each,e.$$p=(q=function(c){null==c&&(c=b);return a["$[]="](""+c+"-option","")},q.$$s=this,q),e).call(l),
(e=u=a["$[]"]("options"))!==b&&(!e.$$is_boolean||!0==e))a["$[]="]("options",n(m(s,u.$split(",")),","));else a["$[]="]("options",n(s,","))}return[g,r]}a["$[]="]("style",s);return[s,r]});a.defs(f,"$adjust_indentation!",function(a,d,e){var f,h,k,p,s,v,C,t=b,A=b,u=b;null==d&&(d=0);null==e&&(e=0);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||!0==f))return b;if((f=(h=r(e=e.$to_i(),0))?a.$join()["$include?"](c.get("TAB")):r(e=e.$to_i(),0))!==b&&(!f.$$is_boolean||!0==f))t=n(" ",e),(f=(h=a)["$map!"],f.$$p=
(k=function(a){var d=k.$$s||this,f,h,p,q,r,s=b;null==a&&(a=b);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||!0==f))return a;if((f=a["$start_with?"](c.get("TAB")))!==b&&(!f.$$is_boolean||!0==f))(f=(h=a)["$sub!"],f.$$p=(p=function(a){null==a&&(a=b);return n(t,a.$length())},p.$$s=d,p),f).call(h,c.get("TabIndentRx"));return(f=a["$include?"](c.get("TAB")))!==b&&(!f.$$is_boolean||!0==f)?(s=0,(f=(q=a)["$gsub!"],f.$$p=(r=function(){var a=b,a=b;null==g["~"]&&(g["~"]=b);if((a=m(g["~"].$begin(0),s))["$%"](e)["$=="](0))return s=
m(s,l(e,1)),t;if(!(a=l(e,a["$%"](e)))["$=="](1))s=m(s,l(a,1));return n(" ",a)},r.$$s=d,r),f).call(q,c.get("TabRx"))):a},k.$$s=this,k),f).call(h);if(!((f=(h=!1!==d&&d!==b)?r(d=d.$to_i(),-1):d)!==b&&(!f.$$is_boolean||!0==f)))return b;A=b;(f=(h=a).$each,f.$$p=(p=function(a){var c,d=b;null==a&&(a=b);return(c=a["$empty?"]())!==b&&(!c.$$is_boolean||!0==c)?b:(d=l(a.$length(),a.$lstrip().$length()))["$=="](0)?(A=b,w.$v=b,w):(c=!1!==A&&A!==b?r(d,A):A)!==b&&(!c.$$is_boolean||!0==c)?b:A=d},p.$$s=this,p),f).call(h);
d["$=="](0)?!1!==A&&A!==b&&(f=a["$map!"],f.$$p=(s=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())!==b&&(!c.$$is_boolean||!0==c)?a:a["$[]"](q(A,-1,!1))},s.$$s=this,s),f).call(a):(u=n(" ",d),!1!==A&&A!==b?(f=a["$map!"],f.$$p=(v=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())!==b&&(!c.$$is_boolean||!0==c)?a:m(u,a["$[]"](q(A,-1,!1)))},v.$$s=this,v),f).call(a):(f=a["$map!"],f.$$p=(C=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())!==b&&(!c.$$is_boolean||!0==c)?a:m(u,a)},C.$$s=
this,C),f).call(a));return b});a.defs(f,"$sanitize_attribute_name",function(a){return a.$gsub(c.get("InvalidAttributeNameCharsRx"),"").$downcase()});return(a.defs(f,"$roman_numeral_to_int",function(a){var c,e,f,g=b,h=b;a=a.$downcase();g=p(["i","v","x"],{i:1,v:5,x:10});h=0;(c=(e=q(0,l(a.$length(),1),!1)).$each,c.$$p=(f=function(c){var e,f=b;null==c&&(c=b);f=g["$[]"](a["$[]"](q(c,c,!1)));return(e=d(m(c,1),a.$length())?r(g["$[]"](a["$[]"](q(m(c,1),m(c,1),!1))),f):d(m(c,1),a.$length()))!==b&&(!e.$$is_boolean||
!0==e)?h=l(h,f):h=m(h,f)},f.$$s=this,f),c).call(e);return h}),b)&&"roman_numeral_to_int"})(z(k,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}a.dynamic_require_severity="ignore";var r=a.nil,n=a.module,h=a.klass,l=a.hash2,e=a.range;return function(d){(function(d,$super){function n(){}var z=n=h(d,$super,"PathResolver",n),u=z.$$proto,p=z.$$scope;u.file_separator=u._partition_path_web=u._partition_path_sys=u.working_dir=r;a.cdecl(p,"DOT",".");a.cdecl(p,"DOT_DOT","..");a.cdecl(p,"DOT_SLASH","./");a.cdecl(p,"SLASH",
"/");a.cdecl(p,"BACKSLASH","\\");a.cdecl(p,"DOUBLE_SLASH","//");a.cdecl(p,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);z.$attr_accessor("file_separator");z.$attr_accessor("working_dir");a.defn(z,"$initialize",function(d,e){var h;null==d&&(d=r);null==e&&(e=r);this.file_separator=!1!==d&&d!==r?d:!1!==(h=a.get("File").$$scope.get("ALT_SEPARATOR"))&&h!==r?h:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==e&&e!==r?(h=this["$is_root?"](e))!==r&&(!h.$$is_boolean||!0==h)?e:a.get("File").$expand_path(e):
a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=l([],{});return this._partition_path_web=l([],{})});a.defn(z,"$is_root?",function(a){var d;return(d=a["$start_with?"](p.get("SLASH")))!==r&&(!d.$$is_boolean||!0==d)?!0:(d=this.file_separator["$=="](p.get("BACKSLASH"))?p.get("WindowsRootRx")["$=~"](a):this.file_separator["$=="](p.get("BACKSLASH")))!==r&&(!d.$$is_boolean||!0==d)?!0:!1});a.defn(z,"$is_unc?",function(a){return a["$start_with?"](p.get("DOUBLE_SLASH"))});a.defn(z,
"$is_web_root?",function(a){return a["$start_with?"](p.get("SLASH"))});a.defn(z,"$posixfy",function(a){var d;return(d=a["$nil_or_empty?"]())!==r&&(!d.$$is_boolean||!0==d)?"":(d=a["$include?"](p.get("BACKSLASH")))!==r&&(!d.$$is_boolean||!0==d)?a.$tr(p.get("BACKSLASH"),p.get("SLASH")):a});a.defn(z,"$expand_path",function(d){var e=r,h=r;d=a.to_ary(this.$partition_path(d));e=null==d[0]?r:d[0];h=null==d[1]?r:d[1];return this.$join_path(e,h)});a.defn(z,"$partition_path",function(a,d){var h,m=r,l=m=r,n=
r;null==d&&(d=!1);if((h=m=!1!==d&&d!==r?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==r&&(!h.$$is_boolean||!0==h))return m;m=this.$posixfy(a);l=!1!==d&&d!==r?(h=this["$is_web_root?"](m))!==r&&(!h.$$is_boolean||!0==h)?p.get("SLASH"):(h=m["$start_with?"](p.get("DOT_SLASH")))!==r&&(!h.$$is_boolean||!0==h)?p.get("DOT_SLASH"):r:(h=this["$is_root?"](m))!==r&&(!h.$$is_boolean||!0==h)?(h=this["$is_unc?"](m))!==r&&(!h.$$is_boolean||!0==h)?p.get("DOUBLE_SLASH"):(h=m["$start_with?"](p.get("SLASH")))!==
r&&(!h.$$is_boolean||!0==h)?p.get("SLASH"):m["$[]"](e(0,m.$index(p.get("SLASH")),!1)):(h=m["$start_with?"](p.get("DOT_SLASH")))!==r&&(!h.$$is_boolean||!0==h)?p.get("DOT_SLASH"):r;n=m.$split(p.get("SLASH"));l["$=="](p.get("DOUBLE_SLASH"))?n=n["$[]"](e(2,-1,!1)):!1!==l&&l!==r&&n.$shift();n.$delete(p.get("DOT"));return(!1!==d&&d!==r?this._partition_path_web:this._partition_path_sys)["$[]="](a,[n,l,m])});a.defn(z,"$join_path",function(a,d){null==d&&(d=r);return!1!==d&&d!==r?""+d+m(a,p.get("SLASH")):m(a,
p.get("SLASH"))});a.defn(z,"$system_path",function(d,e,h,m){var n,t,f,c=r,v=r,u=r,C=r,w=r,E=w=u=r,x=r;null==h&&(h=r);null==m&&(m=l([],{}));!1!==h&&h!==r&&((n=this["$is_root?"](h))!==r&&(!n.$$is_boolean||!0==n)||this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+h),h=this.$posixfy(h));(n=d["$nil_or_empty?"]())!==r&&(!n.$$is_boolean||!0==n)?c=[]:(n=a.to_ary(this.$partition_path(d)),c=null==n[0]?r:n[0],v=null==n[1]?r:n[1]);if((n=c["$empty?"]())!==r&&(!n.$$is_boolean||!0==n)){if((n=e["$nil_or_empty?"]())!==
r&&(!n.$$is_boolean||!0==n))return!1!==h&&h!==r?h:this.working_dir;if((n=this["$is_root?"](e))!==r&&(!n.$$is_boolean||!0==n)){if(!(!1!==h&&h!==r))return this.$expand_path(e)}else return this.$system_path(e,h,h,m)}if((n=(t=!1!==v&&v!==r)?v["$!="](p.get("DOT_SLASH")):v)!==r&&(!n.$$is_boolean||!0==n))if(u=this.$join_path(c,v),(n=!1!==(t=h["$!"]())&&t!==r?t:u["$start_with?"](h))!==r&&(!n.$$is_boolean||!0==n))return u;e=(n=e["$nil_or_empty?"]())!==r&&(!n.$$is_boolean||!0==n)?!1!==h&&h!==r?h:this.working_dir:
(n=this["$is_root?"](e))!==r&&(!n.$$is_boolean||!0==n)?this.$posixfy(e):this.$system_path(e,h,h,m);if(h["$=="](e))n=a.to_ary(this.$partition_path(h)),C=null==n[0]?r:n[0],w=null==n[1]?r:n[1],u=C.$dup();else{if(!1!==h&&h!==r){if(!((n=e["$start_with?"](h))!==r&&(!n.$$is_boolean||!0==n)))this.$raise(a.get("SecurityError"),""+(!1!==(n=m["$[]"]("target_name"))&&n!==r?n:"Start path")+" "+e+" is outside of jail: "+h+" (disallowed in safe mode)");n=a.to_ary(this.$partition_path(e));u=null==n[0]?r:n[0];w=null==
n[1]?r:n[1];n=a.to_ary(this.$partition_path(h));C=null==n[0]?r:n[0]}else n=a.to_ary(this.$partition_path(e)),u=null==n[0]?r:n[0];w=null==n[1]?r:n[1]}E=u.$dup();x=!1;(n=(t=c).$each,n.$$p=(f=function(c){var e=f.$$s||this,g;null==c&&(c=r);if(c["$=="](p.get("DOT_DOT"))){if(!1!==h&&h!==r){c=E.$length();var l=C.$length();return("number"===typeof c&&"number"===typeof l?c>l:c["$>"](l))?E.$pop():(g=(!1!==r&&r!==r?r:m.$fetch("recover",!0))["$!"]())!==r&&(!g.$$is_boolean||!0==g)?e.$raise(a.get("SecurityError"),
""+(!1!==(g=m["$[]"]("target_name"))&&g!==r?g:"path")+" "+d+" refers to location outside jail: "+h+" (disallowed in safe mode)"):(g=x["$!"]())!==r&&(!g.$$is_boolean||!0==g)?(e.$warn("asciidoctor: WARNING: "+(!1!==(g=m["$[]"]("target_name"))&&g!==r?g:"path")+" has illegal reference to ancestor of jail, auto-recovering"),x=!0):r}return E.$pop()}return E.$push(c)},f.$$s=this,f),n).call(t);return this.$join_path(E,w)});a.defn(z,"$web_path",function(d,g){var h,m,l,n=r,f=r,c=r,v=r;null==g&&(g=r);d=this.$posixfy(d);
g=this.$posixfy(g);n=r;if(!((h=!1!==(m=g["$nil_or_empty?"]())&&m!==r?m:this["$is_web_root?"](d))!==r&&(!h.$$is_boolean||!0==h)))if(d=""+g+p.get("SLASH")+d,(h=n=p.get("Helpers").$uri_prefix(d))!==r&&(!h.$$is_boolean||!0==h))d=d["$[]"](e(n.$length(),-1,!1));h=a.to_ary(this.$partition_path(d,!0));f=null==h[0]?r:h[0];c=null==h[1]?r:h[1];v=[];(h=(m=f).$each,h.$$p=(l=function(a){var d;null==a&&(a=r);return a["$=="](p.get("DOT_DOT"))?(d=v["$empty?"]())!==r&&(!d.$$is_boolean||!0==d)?(d=!1!==c&&c!==r?c["$!="](p.get("DOT_SLASH")):
c)!==r&&(!d.$$is_boolean||!0==d)?r:v["$<<"](a):v["$[]"](-1)["$=="](p.get("DOT_DOT"))?v["$<<"](a):v.$pop():v["$<<"](a)},l.$$s=this,l),h).call(m);return!1!==n&&n!==r?""+n+this.$join_path(v,c):this.$join_path(v,c)});return(a.defn(z,"$relative_path",function(a,d){var h,m,l=r;return(h=(m=this["$is_root?"](a),!1!==m&&m!==r?this["$is_root?"](d):m))!==r&&(!h.$$is_boolean||!0==h)?(h=d.$chomp(this.file_separator).$length(),l="number"===typeof h?h+1:h["$+"](1),a["$[]"](e(l,-1,!1))):a}),r)&&"relative_path"})(n(d,
"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var e=a.nil,d=a.breaker,t=
a.slice,b=a.module,w=a.klass,z=a.hash2,u=a.range;return function(p){p=b(p,"Asciidoctor").$$scope;(function(b,$super){function k(){}var l=k=w(b,$super,"Reader",k),p=l.$$proto,t=l.$$scope,f;p.file=p.dir=p.lines=p.process_lines=p.look_ahead=p.eof=p.unescape_next_line=p.lineno=p.path=p.source_lines=e;(function(b,$super){function d(){}var f=d=w(b,$super,"Cursor",d);f.$attr_accessor("file");f.$attr_accessor("dir");f.$attr_accessor("path");f.$attr_accessor("lineno");a.defn(f,"$initialize",function(a,b,c,
d){null==b&&(b=e);null==c&&(c=e);null==d&&(d=e);this.file=a;this.dir=b;this.path=c;return this.lineno=d});a.defn(f,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(f,"to_s","line_info")})(t.base,null);l.$attr_reader("file");l.$attr_reader("dir");l.$attr_reader("path");l.$attr_reader("lineno");l.$attr_reader("source_lines");l.$attr_accessor("process_lines");a.defn(l,"$initialize",function(b,d,f){var h;null==b&&(b=e);null==d&&(d=e);null==f&&(f=z(["normalize"],
{normalize:!1}));if((h=d["$!"]())!==e&&(!h.$$is_boolean||!0==h))this.file=this.dir=e,this.path="<stdin>",this.lineno=1;else if((h=d["$is_a?"](a.get("String")))!==e&&(!h.$$is_boolean||!0==h))this.file=d,h=a.to_ary(a.get("File").$split(this.file)),this.dir=null==h[0]?e:h[0],this.path=null==h[1]?e:h[1],this.lineno=1;else{this.file=d.$file();this.dir=d.$dir();this.path=!1!==(h=d.$path())&&h!==e?h:"<stdin>";if((h=this.file)!==e&&(!h.$$is_boolean||!0==h)){if(!((h=this.dir)!==e&&(!h.$$is_boolean||!0==h)))this.dir=
a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if(!((h=d.$path())!==e&&(!h.$$is_boolean||!0==h)))this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(h=d.$lineno())&&h!==e?h:1}this.lines=!1!==b&&b!==e?this.$prepare_lines(b,f):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(l,"$prepare_lines",function(b,d){var f;null==d&&(d=z([],{}));return(f=b["$is_a?"](a.get("String")))!==
e&&(!f.$$is_boolean||!0==f)?(f=d["$[]"]("normalize"))!==e&&(!f.$$is_boolean||!0==f)?t.get("Helpers").$normalize_lines_from_string(b):b.$split(t.get("EOL")):(f=d["$[]"]("normalize"))!==e&&(!f.$$is_boolean||!0==f)?t.get("Helpers").$normalize_lines_array(b):b.$dup()});a.defn(l,"$process_line",function(a){var b;if((b=this.process_lines)!==e&&(!b.$$is_boolean||!0==b))this.look_ahead=m(this.look_ahead,1);return a});a.defn(l,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==e?a:this.eof=
this.$peek_line()["$nil?"]())["$!"]()});a.defn(l,"$next_line_empty?",function(){return this.$peek_line()["$nil_or_empty?"]()});a.defn(l,"$peek_line",function(a){var b,d,f=e;null==a&&(a=!1);return(b=!1!==(d=a)&&d!==e?d:r(this.look_ahead,0))!==e&&(!b.$$is_boolean||!0==b)?(b=this.unescape_next_line)!==e&&(!b.$$is_boolean||!0==b)?this.lines["$[]"](0)["$[]"](u(1,-1,!1)):this.lines["$[]"](0):(b=!1!==(d=this.eof)&&d!==e?d:this.lines["$empty?"]())!==e&&(!b.$$is_boolean||!0==b)?(this.eof=!0,this.look_ahead=
0,e):(b=(f=this.$process_line(this.lines["$[]"](0)))["$!"]())!==e&&(!b.$$is_boolean||!0==b)?this.$peek_line():f});a.defn(l,"$peek_lines",function(a,b){var f,h,k,m,l,p=e,n=e;null==a&&(a=1);null==b&&(b=!0);p=this.look_ahead;n=[];(f=(h=a).$times,f.$$p=(k=function(){var a,c=e;return(a=c=(k.$$s||this).$read_line(b))!==e&&(!a.$$is_boolean||!0==a)?n["$<<"](c):(d.$v=e,d)},k.$$s=this,k),f).call(h);if(!((f=n["$empty?"]())!==e&&(!f.$$is_boolean||!0==f)))(f=(m=n).$reverse_each,f.$$p=(l=function(a){var b=l.$$s||
this;null==a&&(a=e);return b.$unshift(a)},l.$$s=this,l),f).call(m),!1!==b&&b!==e&&(this.look_ahead=p);return n});a.defn(l,"$read_line",function(a){var b,d,f;null==a&&(a=!1);return(b=!1!==(d=!1!==(f=a)&&f!==e?f:r(this.look_ahead,0))&&d!==e?d:this["$has_more_lines?"]())!==e&&(!b.$$is_boolean||!0==b)?this.$shift():e});a.defn(l,"$read_lines",function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&(!a.$$is_boolean||!0==a);)b["$<<"](this.$shift());return b});a.alias(l,"readlines","read_lines");
a.defn(l,"$read",function(){return n(this.$read_lines(),t.get("EOL"))});a.defn(l,"$advance",function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});a.defn(l,"$unshift_line",function(a){this.$unshift(a);return e});a.alias(l,"restore_line","unshift_line");a.defn(l,"$unshift_lines",function(a){var b,d;(b=a.$reverse_each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$unshift(a)},d.$$s=this,d),b).call(a);return e});a.alias(l,"restore_lines","unshift_lines");a.defn(l,"$replace_line",
function(a){this.$advance();this.$unshift(a);return e});a.defn(l,"$skip_blank_lines",function(){var a,b,d=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||!0==a))return 0;for(d=0;(b=f=this.$peek_line())!==e&&(!b.$$is_boolean||!0==b);)if((b=f["$empty?"]())!==e&&(!b.$$is_boolean||!0==b))this.$advance(),d=m(d,1);else break;return d});a.defn(l,"$skip_comment_lines",function(b){var d,f,h=e,k=e,m=e,l=e,p=e;null==b&&(b=z([],{}));if((d=this["$eof?"]())!==e&&(!d.$$is_boolean||!0==d))return[];h=[];for(k=
b["$[]"]("include_blank_lines");(f=m=this.$peek_line())!==e&&(!f.$$is_boolean||!0==f);)if((f=(b=!1!==k&&k!==e)?m["$empty?"]():k)!==e&&(!f.$$is_boolean||!0==f))h["$<<"](this.$shift());else if((f=(b=l=m["$start_with?"]("//"),!1!==b&&b!==e?p=t.get("CommentBlockRx").$match(m):b))!==e&&(!f.$$is_boolean||!0==f))h["$<<"](this.$shift()),(f=h).$push.apply(f,a.to_a(this.$read_lines_until(z(["terminator","read_last_line","skip_processing"],{terminator:p["$[]"](0),read_last_line:!0,skip_processing:!0}))));else if((b=
!1!==l&&l!==e?t.get("CommentLineRx")["$=~"](m):l)!==e&&(!b.$$is_boolean||!0==b))h["$<<"](this.$shift());else break;return h});a.defn(l,"$skip_line_comments",function(){var a,b,d=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||!0==a))return[];for(d=[];(b=f=this.$peek_line())!==e&&(!b.$$is_boolean||!0==b);)if((b=t.get("CommentLineRx")["$=~"](f))!==e&&(!b.$$is_boolean||!0==b))d["$<<"](this.$shift());else break;return d});a.defn(l,"$terminate",function(){this.lineno=m(this.lineno,this.lines.$size());
this.lines.$clear();this.eof=!0;this.look_ahead=0;return e});a.defn(l,"$eof?",function(){return this["$has_more_lines?"]()["$!"]()});a.alias(l,"empty?","eof?");a.defn(l,"$read_lines_until",f=function(b){var k,m,l,p,n,q=f.$$p||e,r=e,s=e,u=e,y=e,w=e,R=e,ga=e,X=e,$=e,aa=e;null==b&&(b=z([],{}));f.$$p=null;r=[];(k=b["$[]"]("skip_first_line"))!==e&&(!k.$$is_boolean||!0==k)&&this.$advance();(k=(m=this.process_lines,!1!==m&&m!==e?b["$[]"]("skip_processing"):m))!==e&&(!k.$$is_boolean||!0==k)?(this.process_lines=
!1,s=!0):s=!1;(k=u=b["$[]"]("terminator"))!==e&&(!k.$$is_boolean||!0==k)?w=y=!1:(y=b["$[]"]("break_on_blank_lines"),w=b["$[]"]("break_on_list_continuation"));R=b["$[]"]("skip_line_comments");for($=X=ga=!1;(m=(l=$["$!"](),!1!==l&&l!==e?aa=this.$read_line():l))!==e&&(!m.$$is_boolean||!0==m);)if($=function(){for(;(l=!0)!==e&&(!l.$$is_boolean||!0==l);)return(l=(p=!1!==u&&u!==e)?aa["$=="](u):u)!==e&&(!l.$$is_boolean||!0==l)||(l=(p=!1!==y&&y!==e)?aa["$empty?"]():y)!==e&&(!l.$$is_boolean||!0==l)?!0:(l=(p=
(n=!1!==w&&w!==e)?ga:w,!1!==p&&p!==e?aa["$=="](t.get("LIST_CONTINUATION")):p))!==e&&(!l.$$is_boolean||!0==l)?(b["$[]="]("preserve_last_line",!0),!0):(l=(p=q!==e)?(n=a.yield1(q,aa))===d?d.$v:n:q!==e)!==e&&(!l.$$is_boolean||!0==l)?!0:!1;return e}(),!1!==$&&$!==e){if((m=b["$[]"]("read_last_line"))!==e&&(!m.$$is_boolean||!0==m))r["$<<"](aa),ga=!0;if((m=b["$[]"]("preserve_last_line"))!==e&&(!m.$$is_boolean||!0==m))this.$restore_line(aa),X=!0}else if(!((m=(l=(p=!1!==R&&R!==e)?aa["$start_with?"]("//"):R,
!1!==l&&l!==e?t.get("CommentLineRx")["$=~"](aa):l))!==e&&(!m.$$is_boolean||!0==m)))r["$<<"](aa),ga=!0;if(!1!==s&&s!==e&&(this.process_lines=!0,(k=(m=!1!==X&&X!==e)?u["$!"]():X)!==e&&(!k.$$is_boolean||!0==k)))this.look_ahead=h(this.look_ahead,1);return r});a.defn(l,"$shift",function(){this.lineno=m(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=h(this.look_ahead,1));return this.lines.$shift()});a.defn(l,"$unshift",function(a){this.lineno=h(this.lineno,1);this.look_ahead=m(this.look_ahead,
1);this.eof=!1;return this.lines.$unshift(a)});a.defn(l,"$cursor",function(){return t.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(l,"$line_info",function(){return""+this.path+": line "+this.lineno});a.alias(l,"next_line_info","line_info");a.defn(l,"$prev_line_info",function(){return""+this.path+": line "+h(this.lineno,1)});a.defn(l,"$lines",function(){return this.lines.$dup()});a.defn(l,"$string",function(){return n(this.lines,t.get("EOL"))});a.defn(l,"$source",function(){return n(this.source_lines,
t.get("EOL"))});return(a.defn(l,"$to_s",function(){return this.$line_info()}),e)&&"to_s"})(p.base,null);(function(b,$super){function k(){}var p=k=w(b,$super,"PreprocessorReader",k),y=p.$$proto,A=p.$$scope,f,c,v,G;y.document=y.lineno=y.process_lines=y.look_ahead=y.skipping=y.include_stack=y.conditional_stack=y.path=y.include_processor_extensions=y.maxdepth=y.dir=y.lines=y.file=y.includes=y.unescape_next_line=e;p.$attr_reader("include_stack");p.$attr_reader("includes");a.defn(p,"$initialize",f=function(b,
c,d){var h,k,m=e;null==c&&(c=e);null==d&&(d=e);f.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",f,null).apply(this,[c,d,z(["normalize"],{normalize:!0})]);m=b.$attributes().$fetch("max-include-depth",64).$to_i();if("number"===typeof m?0>m:m["$<"](0))m=0;this.maxdepth=z(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=(h=b.$references(),!1!==(k=h["$[]"]("includes"))&&k!==e?k:h["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=
e});a.defn(p,"$prepare_lines",c=function(b,d){var f=t.call(arguments,0),h,k,l,p=c.$$p,q=e,r=e,s=e,v=e;null==d&&(d=z([],{}));c.$$p=null;q=a.find_super_dispatcher(this,"prepare_lines",c,p).apply(this,f);if((h=(k=this.document,!1!==k&&k!==e?this.document.$attributes()["$has_key?"]("skip-front-matter"):k))!==e&&(!h.$$is_boolean||!0==h))if((h=r=this["$skip_front_matter!"](q))!==e&&(!h.$$is_boolean||!0==h))this.document.$attributes()["$[]="]("front-matter",n(r,A.get("EOL")));if((h=d.$fetch("condense",!0))!==
e&&(!h.$$is_boolean||!0==h)){for(;(k=(l=s=q["$[]"](0),!1!==l&&l!==e?s["$empty?"]():l))!==e&&(!k.$$is_boolean||!0==k);)k=q.$shift(),!1!==k&&k!==e?this.lineno=m(this.lineno,1):k;for(;(k=(l=v=q["$[]"](-1),!1!==l&&l!==e?v["$empty?"]():l))!==e&&(!k.$$is_boolean||!0==k);)q.$pop()}if((h=d["$[]"]("indent"))!==e&&(!h.$$is_boolean||!0==h))A.get("Parser")["$adjust_indentation!"](q,d["$[]"]("indent"),this.document.$attr("tabsize"));return q});a.defn(p,"$process_line",function(b){var c,d,f,h,k=e,l=e;if(!((c=this.process_lines)!==
e&&(!c.$$is_boolean||!0==c)))return b;if((c=b["$empty?"]())!==e&&(!c.$$is_boolean||!0==c))return this.look_ahead=m(this.look_ahead,1),"";if((c=(d=(f=b["$end_with?"]("]"),!1!==f&&f!==e?b["$start_with?"]("[")["$!"]():f),!1!==d&&d!==e?b["$include?"]("::"):d))!==e&&(!c.$$is_boolean||!0==c)){if((c=(d=b["$include?"]("if"),!1!==d&&d!==e?k=A.get("ConditionalDirectiveRx").$match(b):d))!==e&&(!c.$$is_boolean||!0==c)){if((c=b["$start_with?"]("\\"))!==e&&(!c.$$is_boolean||!0==c))return this.unescape_next_line=
!0,this.look_ahead=m(this.look_ahead,1),b["$[]"](u(1,-1,!1));if((c=(d=this).$preprocess_conditional_inclusion.apply(d,a.to_a(k.$captures())))!==e&&(!c.$$is_boolean||!0==c))return this.$advance(),e;this.look_ahead=m(this.look_ahead,1);return b}if((c=this.skipping)!==e&&(!c.$$is_boolean||!0==c))return this.$advance(),e;if((c=(f=!1!==(h=l=b["$start_with?"]("\\include::"))&&h!==e?h:b["$start_with?"]("include::"),!1!==f&&f!==e?k=A.get("IncludeDirectiveRx").$match(b):f))!==e&&(!c.$$is_boolean||!0==c)){if(!1!==
l&&l!==e)return this.unescape_next_line=!0,this.look_ahead=m(this.look_ahead,1),b["$[]"](u(1,-1,!1));if((c=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))!==e&&(!c.$$is_boolean||!0==c))return e;this.look_ahead=m(this.look_ahead,1);return b}this.look_ahead=m(this.look_ahead,1);return b}if((c=this.skipping)!==e&&(!c.$$is_boolean||!0==c))return this.$advance(),e;this.look_ahead=m(this.look_ahead,1);return b});a.defn(p,"$peek_line",v=function(b){var c=t.call(arguments,0),d,f=v.$$p,h=e;null==
b&&(b=!1);v.$$p=null;if((d=h=a.find_super_dispatcher(this,"peek_line",v,f).apply(this,c))!==e&&(!d.$$is_boolean||!0==d))return h;if((d=this.include_stack["$empty?"]())!==e&&(!d.$$is_boolean||!0==d))return e;this.$pop_include();return this.$peek_line(b)});a.defn(p,"$preprocess_conditional_inclusion",function(a,b,c,d){var f,h,k,m,l,p,n,q,s,v,t=e,u=t=e,y=e,w=y=u=t=e,u=e;if((f=!1!==(h=(k=!1!==(m=a["$=="]("ifdef"))&&m!==e?m:a["$=="]("ifndef"),!1!==k&&k!==e?b["$empty?"]():k))&&h!==e?h:(k=a["$=="]("endif"))?
d:a["$=="]("endif"))!==e&&(!f.$$is_boolean||!0==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return t=this.conditional_stack.$size(),r(t,0)?(t=this.conditional_stack["$[]"](-1),(f=!1!==(h=b["$empty?"]())&&h!==e?h:b["$=="](t["$[]"]("target")))!==e&&(!f.$$is_boolean||!0==f)?(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())!==e&&(!f.$$is_boolean||!0==f)?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+
": mismatched macro: endif::"+b+"[], expected endif::"+t["$[]"]("target")+"[]")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;u=!1;if(!((f=this.skipping)!==e&&(!f.$$is_boolean||!0==f)))if(y=a,"ifdef"["$==="](y))y=c,e["$==="](y)?u=this.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](y)?u=(f=(h=b.$split(",")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},
l.$$s=this,l),f).call(h)["$!"]():"+"["$==="](y)&&(u=(f=(k=b.$split("+")).$detect,f.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p),f).call(k));else if("ifndef"["$==="](y))y=c,e["$==="](y)?u=this.document.$attributes()["$has_key?"](b):","["$==="](y)?u=(f=(m=b.$split(",")).$detect,f.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},
n.$$s=this,n),f).call(m)["$!"]():"+"["$==="](y)&&(u=(f=(q=b.$split("+")).$detect,f.$$p=(s=function(a){var b=s.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},s.$$s=this,s),f).call(q));else if("ifeval"["$==="](y)){if((f=!1!==(v=b["$empty?"]()["$!"]())&&v!==e?v:(t=A.get("EvalExpressionRx").$match(d.$strip()))["$!"]())!==e&&(!f.$$is_boolean||!0==f))return!1;u=this.$resolve_expr_val(t["$[]"](1));y=this.$resolve_expr_val(t["$[]"](3));u=(w=t["$[]"](2))["$=="]("!=")?
u.$send("==",y):u.$send(w.$to_sym(),y)["$!"]()}if((f=!1!==(v=a["$=="]("ifeval"))&&v!==e?v:d["$!"]())!==e&&(!f.$$is_boolean||!0==f))!1!==u&&u!==e&&(this.skipping=!0),this.conditional_stack["$<<"](z(["target","skip","skipping"],{target:b,skip:u,skipping:this.skipping}));else if(!((f=!1!==(v=this.skipping)&&v!==e?v:u)!==e&&(!f.$$is_boolean||!0==f)))u=this.$peek_line(!0),this.$replace_line(d.$rstrip()),this.$unshift(u);return!0});a.defn(p,"$preprocess_include",function(b,c){var f,k,p,q,s,v,t,u,y,w=e,
G=e,aa=e,S=e,Z=e,K=e,N=e,Y=e,V=e,Q=e,W=e,T=e,F=e,ba=e,H=e;if((f=(w=this.document.$sub_attributes(b,z(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())!==e&&(!f.$$is_boolean||!0==f))return this.document.$attributes().$fetch("attribute-missing",A.get("Compliance").$attribute_missing())["$=="]("skip")?this.$replace_line("Unresolved directive in "+this.path+" - include::"+b+"["+c+"]"):this.$advance(),!0;if((f=(k=this["$include_processors?"](),!1!==k&&k!==e?G=(p=(q=this.include_processor_extensions).$find,
p.$$p=(s=function(a){null==a&&(a=e);return a.$instance()["$handles?"](w)},s.$$s=this,s),p).call(q):k))!==e&&(!f.$$is_boolean||!0==f))return this.$advance(),G.$process_method()["$[]"](this.document,this,w,A.get("AttributeList").$new(c).$parse()),!0;if(l(this.document.$safe(),A.get("SafeMode").$$scope.get("SECURE")))return this.$replace_line("link:"+w+"[]"),!0;if((f=(k=r(aa=this.maxdepth["$[]"]("abs"),0))?l(this.include_stack.$size(),aa):r(aa=this.maxdepth["$[]"]("abs"),0))!==e&&(!f.$$is_boolean||!0==
f))return this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded"),!1;if(r(aa,0)){if((f=a.get("RUBY_ENGINE_OPAL"))!==e&&(!f.$$is_boolean||!0==f))S="file",Z=K=(f=this.include_stack["$empty?"]())!==e&&(!f.$$is_boolean||!0==f)?a.get("Dir").$pwd()["$=="](this.document.$base_dir())?w:a.get("File").$join(this.dir,w):a.get("File").$join(this.dir,w);else if((f=A.get("Helpers")["$uriish?"](w))!==e&&(!f.$$is_boolean||!0==f)){if(!((f=this.document.$attributes()["$has_key?"]("allow-uri-read"))!==
e&&(!f.$$is_boolean||!0==f)))return this.$replace_line("link:"+w+"[]"),!0;S="uri";Z=K=w;if((f=this.document.$attributes()["$has_key?"]("cache-uri"))!==e&&(!f.$$is_boolean||!0==f)){var P;try{P=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(ja){if(ja.$$class===a.NameError)P=e;else throw ja;}(f=P)!==e&&(!f.$$is_boolean||!0==f)||A.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}else(f=a.get("RUBY_ENGINE_OPAL")["$!"]())!==e&&(!f.$$is_boolean||!0==f)&&a.get("OpenURI")}else{S=
"file";Z=this.document.$normalize_system_path(w,this.dir,e,z(["target_name"],{target_name:"include file"}));if(!((f=a.get("File")["$file?"](Z))!==e&&(!f.$$is_boolean||!0==f)))return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+Z),this.$replace_line("Unresolved directive in "+this.path+" - include::"+w+"["+c+"]"),!0;K=A.get("PathResolver").$new().$relative_path(Z,this.document.$base_dir())}Y=N=e;V=z([],{});if((f=c["$empty?"]()["$!"]())!==e&&(!f.$$is_boolean||!0==
f))if(V=A.get("AttributeList").$new(c).$parse(),(f=V["$has_key?"]("lines"))!==e&&(!f.$$is_boolean||!0==f))N=[],(f=(k=V["$[]"]("lines").$split(A.get("DataDelimiterRx"))).$each,f.$$p=(v=function(b){var c,d,f,h=e,k=e;null==b&&(b=e);return(c=b["$include?"](".."))!==e&&(!c.$$is_boolean||!0==c)?(c=a.to_ary((d=(f=b.$split("..")).$map,d.$$p="to_i".$to_proc(),d).call(f)),h=null==c[0]?e:c[0],k=null==c[1]?e:c[1],k["$=="](-1)?(N["$<<"](h),N["$<<"](1/0)):N.$concat(a.get("Range").$new(h,k).$to_a())):N["$<<"](b.$to_i())},
v.$$s=this,v),f).call(k),N=N.$sort().$uniq();else if((f=V["$has_key?"]("tag"))!==e&&(!f.$$is_boolean||!0==f))Y=[V["$[]"]("tag")].$to_set();else if((f=V["$has_key?"]("tags"))!==e&&(!f.$$is_boolean||!0==f))Y=V["$[]"]("tags").$split(A.get("DataDelimiterRx")).$to_set();if(!1!==N&&N!==e){if(!((f=N["$empty?"]())!==e&&(!f.$$is_boolean||!0==f))){Q=[];T=W=0;try{(f=(p=this).$open,f.$$p=(t=function(b){var c=t.$$s||this,f,h,k;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(k=function(c){var f,h,k=e;null==c&&
(c=e);T=m(T,1);k=N["$[]"](0);if((f=(h=k["$is_a?"](a.get("Float")),!1!==h&&h!==e?k["$infinite?"]():h))!==e&&(!f.$$is_boolean||!0==f))return Q.$push(c),W["$=="](0)?W=T:e;b.$lineno()["$=="](k)&&(Q.$push(c),W["$=="](0)&&(W=T),N.$shift());return(f=N["$empty?"]())!==e&&(!f.$$is_boolean||!0==f)?(d.$v=e,d):e},k.$$s=c,k),f).call(h)},t.$$s=this,t),f).call(p,Z,"r")}catch(ka){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+S+" not readable: "+Z),this.$replace_line("Unresolved directive in "+
this.path+" - include::"+w+"["+c+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(Q,Z,K,W,V)}}else if(!1!==Y&&Y!==e){if(!((f=Y["$empty?"]())!==e&&(!f.$$is_boolean||!0==f))){Q=[];T=W=0;F=e;ba=a.get("Set").$new();try{(f=this.$open,f.$$p=(u=function(b){var c=u.$$s||this,f,h,k;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(k=function(b){var c=k.$$s||this,f,h,l,p=e;null==b&&(b=e);T=m(T,1);(f=A.get("FORCE_ENCODING"))!==e&&(!f.$$is_boolean||!0==f)&&b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));
b=b.$rstrip();p=b.$chomp("--\x3e").$rstrip();if(!1!==F&&F!==e){if((f=p["$end_with?"]("end::"+F+"[]"))!==e&&(!f.$$is_boolean||!0==f))return F=e;(f=(h=p["$end_with?"]("[]"),!1!==h&&h!==e?A.get("TagDirectiveRx")["$=~"](p):h))!==e&&(!f.$$is_boolean||!0==f)||Q.$push(b);return W["$=="](0)?W=T:e}return(f=(h=p["$end_with?"]("[]"),!1!==h&&h!==e?A.get("TagDirectiveRx")["$=~"](p):h))!==e&&(!f.$$is_boolean||!0==f)?(f=(h=Y).$each,f.$$p=(l=function(a){var b;null==a&&(a=e);return(b=p["$end_with?"]("tag::"+a+"[]"))!==
e&&(!b.$$is_boolean||!0==b)?(F=a,ba["$<<"](a),d.$v=e,d):e},l.$$s=c,l),f).call(h):e},k.$$s=c,k),f).call(h)},u.$$s=this,u),f).call(this,Z,"r")}catch(ha){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+S+" not readable: "+Z),this.$replace_line("Unresolved directive in "+this.path+" - include::"+w+"["+c+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}(f=(H=h(Y.$to_a(),ba.$to_a()))["$empty?"]())!==e&&(!f.$$is_boolean||!0==f)||this.$warn("asciidoctor: WARNING: "+this.$line_info()+
": tag"+(r(H.$size(),1)?"s":e)+" '"+n(H,",")+"' not found in include "+S+": "+Z);this.$advance();this.$push_include(Q,Z,K,W,V)}}else try{this.$advance(),this.$push_include((f=this.$open,f.$$p=(y=function(a){null==a&&(a=e);return a.$read()},y.$$s=this,y),f).call(this,Z,"r"),Z,K,1,V)}catch(U){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+S+" not readable: "+Z),this.$replace_line("Unresolved directive in "+this.path+" - include::"+w+"["+c+"]")}finally{a.gvars["!"]=a.exceptions.pop()||
a.nil}}return!0}return!1});a.defn(p,"$push_include",function(b,c,d,f,k){var l,p=e,n=e;null==c&&(c=e);null==d&&(d=e);null==f&&(f=1);null==k&&(k=z([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==c&&c!==e?(this.file=c,this.dir=A.get("File").$dirname(c),this.process_lines=A.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(c))):(this.file=e,this.dir=".",this.process_lines=!0);!1!==d&&d!==e?(this.includes["$<<"](A.get("Helpers").$rootname(d)),
c=d):c="<stdin>";this.path=c;this.lineno=f;if((l=k["$has_key?"]("depth"))!==e&&(!l.$$is_boolean||!0==l)){p=k["$[]"]("depth").$to_i();if("number"===typeof p?0>=p:p["$<="](0))p=1;this.maxdepth=z(["abs","rel"],{abs:m(h(this.include_stack.$size(),1),p),rel:p})}if((l=(this.lines=this.$prepare_lines(b,z(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())!==e&&(!l.$$is_boolean||!0==l))this.$pop_include();else{if((l=k["$has_key?"]("leveloffset"))!==e&&(!l.$$is_boolean||
!0==l))this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(l=n=this.document.$attr("leveloffset"))!==e&&(!l.$$is_boolean||!0==l)?this.lines.$push(":leveloffset: "+n):this.lines.$push(":leveloffset!:"),this.lineno=h(this.lineno,2);this.eof=!1;this.look_ahead=0}return e});a.defn(p,"$pop_include",function(){var b;r(this.include_stack.$size(),0)&&(b=a.to_ary(this.include_stack.$pop()),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=
null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:b[4],this.maxdepth=null==b[5]?e:b[5],this.process_lines=null==b[6]?e:b[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return e});a.defn(p,"$include_depth",function(){return this.include_stack.$size()});a.defn(p,"$exceeded_max_depth?",function(){var a,b=e;return(a=r(b=this.maxdepth["$[]"]("abs"),0)?l(this.include_stack.$size(),b):r(this.maxdepth["$[]"]("abs"),0))!==e&&(!a.$$is_boolean||!0==a)?this.maxdepth["$[]"]("rel"):
!1});a.defn(p,"$shift",G=function(){var b=t.call(arguments,0),c,d=G.$$p;G.$$p=null;return(c=this.unescape_next_line)!==e&&(!c.$$is_boolean||!0==c)?(this.unescape_next_line=!1,a.find_super_dispatcher(this,"shift",G,d).apply(this,b)["$[]"](u(1,-1,!1))):a.find_super_dispatcher(this,"shift",G,d).apply(this,b)});a.defn(p,"$skip_front_matter!",function(b,c){var d,f,h,k=e,l=e;null==c&&(c=!0);k=e;if(b["$[]"](0)["$=="]("---")){l=b.$dup();k=[];b.$shift();!1!==c&&c!==e&&(this.lineno=m(this.lineno,1));for(;(f=
(h=b["$empty?"]()["$!"](),!1!==h&&h!==e?b["$[]"](0)["$!="]("---"):h))!==e&&(!f.$$is_boolean||!0==f);)k.$push(b.$shift()),!1!==c&&c!==e&&(this.lineno=m(this.lineno,1));(d=b["$empty?"]())!==e&&(!d.$$is_boolean||!0==d)?((d=b).$unshift.apply(d,a.to_a(l)),!1!==c&&c!==e&&(this.lineno=0),k=e):(b.$shift(),!1!==c&&c!==e&&(this.lineno=m(this.lineno,1)))}return k});a.defn(p,"$resolve_expr_val",function(a){var b,c,d,f=e;(b=!1!==(c=(d=a["$start_with?"]('"'),!1!==d&&d!==e?a["$end_with?"]('"'):d))&&c!==e?c:(d=a["$start_with?"]("'"),
!1!==d&&d!==e?a["$end_with?"]("'"):d))!==e&&(!b.$$is_boolean||!0==b)?(f=!0,a=a["$[]"](u(1,-1,!0))):f=!1;if((b=a["$include?"]("{"))!==e&&(!b.$$is_boolean||!0==b))a=this.document.$sub_attributes(a,z(["attribute_missing"],{attribute_missing:"drop"}));return!1!==f&&f!==e?a:(b=a["$empty?"]())!==e&&(!b.$$is_boolean||!0==b)?e:a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())!==e&&(!b.$$is_boolean||!0==b)?" ":(b=a["$include?"]("."))!==e&&(!b.$$is_boolean||!0==b)?a.$to_f():a.$to_i()});
a.defn(p,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())!==e&&(!a.$$is_boolean||!0==a)?(a=(b=this.document["$extensions?"](),!1!==b&&b!==e?this.document.$extensions()["$include_processors?"]():b))!==e&&(!a.$$is_boolean||!0==a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)});return(a.defn(p,"$to_s",function(){var a,
b,c;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(c=function(a){null==a&&(a=e);return a.$to_s()},c.$$s=this,c),a).call(b).$join(", ")+"]}>"}),e)&&"to_s"})(p.base,p.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}a.dynamic_require_severity="ignore";var n=a.nil,h=a.slice,l=a.module,e=a.klass,d=a.hash2,t=a.range;return function(b){b=l(b,"Asciidoctor").$$scope;(function(b,$super){function l(){}var p=l=e(b,$super,"Section",l),q=p.$$proto,g=p.$$scope,k,s,y;q.level=q.document=q.parent=q.number=q.title=q.numbered=
q.blocks=n;p.$attr_accessor("index");p.$attr_accessor("number");p.$attr_accessor("sectname");p.$attr_accessor("special");p.$attr_accessor("numbered");a.defn(p,"$initialize",k=function(b,e,c,g){null==b&&(b=n);null==e&&(e=n);null==c&&(c=!0);null==g&&(g=d([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,null).apply(this,[b,"section",g]);this.level=!1!==e&&e!==n?e:!1!==b&&b!==n?m(b.$level(),1):1;this.numbered=(e=!1!==c&&c!==n)?r(this.level,0):c;this.special=(e=!1!==b&&b!==n?b.$context()["$=="]("section"):
b,!1!==e&&e!==n?b.$special():e);this.index=0;return this.number=1});a.alias(p,"name","title");a.defn(p,"$generate_id",function(){var a,b,c=n,d=n,e=n,h=d=n;if((a=this.document.$attributes()["$has_key?"]("sectids"))!==n&&(!a.$$is_boolean||!0==a)){c=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==n?a:"_";d=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==n?a:"_";e=""+d+this.$title().$downcase().$gsub(g.get("InvalidSectionIdCharsRx"),c).$tr_s(c,c).$chomp(c);if((a=(b=d["$empty?"](),
!1!==b&&b!==n?e["$start_with?"](c):b))!==n&&(!a.$$is_boolean||!0==a))for(e=e["$[]"](t(1,-1,!1));(b=e["$start_with?"](c))!==n&&(!b.$$is_boolean||!0==b);)e=e["$[]"](t(1,-1,!1));d=e;for(h=g.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](d))!==n&&(!b.$$is_boolean||!0==b);)d=""+e+c+h,h=m(h,1);return d}return n});a.defn(p,"$sectnum",function(a,b){var c,d,e,g;null==a&&(a=".");null==b&&(b=n);!1!==(c=b)&&c!==n?c:b=b["$=="](!1)?"":a;return(c=(d=(e=(g=this.level,
!1!==g&&g!==n?r(this.level,1):g),!1!==e&&e!==n?this.parent:e),!1!==d&&d!==n?this.parent.$context()["$=="]("section"):d))!==n&&(!c.$$is_boolean||!0==c)?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b});a.defn(p,"$<<",s=function(b){var d=h.call(arguments,0),c=s.$$p;s.$$p=null;a.find_super_dispatcher(this,"<<",s,c).apply(this,d);return b.$context()["$=="]("section")?this.$assign_index(b):n});return(a.defn(p,"$to_s",y=function(){var b=h.call(arguments,0),d,c=y.$$p,e=n;y.$$p=null;return(d=this.title["$!="](n))!==
n&&(!d.$$is_boolean||!0==d)?(e=(d=this.numbered)!==n&&(!d.$$is_boolean||!0==d)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+e.$inspect()+", blocks: "+this.blocks.$size()+"}>"):a.find_super_dispatcher(this,"to_s",y,c).apply(this,b)}),n)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var m=a.nil,r=a.module,n=a.klass,h=a.hash2;return function(l){(function(e,$super){function l(){}var b=l=n(e,$super,"Stylesheets",l),r=b.$$proto,z=b.$$scope;r.primary_stylesheet_data=r.coderay_stylesheet_data=r.pygments_stylesheet_data=m;a.cdecl(z,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(z,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(z,"STYLESHEETS_DATA_PATH",a.get("File").$join(z.get("DATA_PATH"),"stylesheets"));
b.__instance__=b.$new();a.defs(b,"$instance",function(){null==this.__instance__&&(this.__instance__=m);return this.__instance__});a.defn(b,"$primary_stylesheet_name",function(){return z.get("DEFAULT_STYLESHEET_NAME")});a.defn(b,"$primary_stylesheet_data",function(){var b;return!1!==(b=this.primary_stylesheet_data)&&b!==m?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(z.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(b,"$embed_primary_stylesheet",function(){return"<style>\n"+
this.$primary_stylesheet_data()+"\n</style>"});a.defn(b,"$write_primary_stylesheet",function(b){var e,h,g;return(e=(h=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=m);return a.$write(b.$primary_stylesheet_data())},g.$$s=this,g),e).call(h,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(b,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(b,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&
b!==m?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(z.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(b,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"});a.defn(b,"$write_coderay_stylesheet",function(b){var e,h,g;return(e=(h=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=m);return a.$write(b.$coderay_stylesheet_data())},g.$$s=this,g),e).call(h,a.get("File").$join(b,this.$coderay_stylesheet_name()),
"w")});a.defn(b,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=m);return"pygments-"+(!1!==(b=a)&&b!==m?b:z.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(b,"$pygments_stylesheet_data",function(a){var b;return(b=this.$load_pygments())!==m&&(!b.$$is_boolean||!0==b)?!1!==(b=this.pygments_stylesheet_data)&&b!==m?b:this.pygments_stylesheet_data=h([],{}):"/* Pygments styles disabled. Pygments is not available. */"});a.defn(b,"$embed_pygments_stylesheet",function(a){null==a&&(a=m);return"<style>\n"+
this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(b,"$write_pygments_stylesheet",function(b,e){var h,g,k;null==e&&(e=m);return(h=(g=a.get("File")).$open,h.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=m);return a.$write(b.$pygments_stylesheet_data(e))},k.$$s=this,k),h).call(g,a.get("File").$join(b,this.$pygments_stylesheet_name(e)),"w")});return(a.defn(b,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?m:"constant")!==m&&(!b.$$is_boolean||!0==b)?!0:z.get("Helpers").$require_library("pygments",
"pygments.rb","ignore")["$nil?"]()["$!"]()}),m)&&"load_pygments"})(r(l,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,d=a.slice,t=a.module,
b=a.klass,w=a.hash2,z=a.range;return function(u){u=t(u,"Asciidoctor").$$scope;(function(d,$super){function g(){}var k=g=b(d,$super,"Table",g),s=k.$$proto,t=k.$$scope,u;s.attributes=s.document=s.has_header_option=s.rows=e;(function(d,$super){function e(){}var g=e=b(d,$super,"Rows",e);g.$attr_accessor("head","foot","body");a.defn(g,"$initialize",function(a,b,d){null==a&&(a=[]);null==b&&(b=[]);null==d&&(d=[]);this.head=a;this.foot=b;return this.body=d});return a.alias(g,"[]","send")})(t.base,null);a.cdecl(t,
"DEFAULT_DATA_FORMAT","psv");a.cdecl(t,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(t,"DEFAULT_DELIMITERS",w(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(t,"TEXT_STYLES",w("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(t,"ALIGNMENTS",w(["h","v"],{h:w(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:w(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));k.$attr_accessor("columns");k.$attr_accessor("rows");
k.$attr_accessor("has_header_option");a.defn(k,"$initialize",u=function(b,c){var d,g,h,k=e,l=e;u.$$p=null;a.find_super_dispatcher(this,"initialize",u,null).apply(this,[b,"table"]);this.rows=t.get("Rows").$new();this.columns=[];this.has_header_option=c["$key?"]("header-option");k=c["$[]"]("width");l=k.$to_i().$abs();if((d=!1!==(g=(h=l["$=="](0))?k["$!="]("0"):l["$=="](0))&&g!==e?g:m(l,100))!==e&&(!d.$$is_boolean||!0==d))l=100;this.attributes["$[]="]("tablepcwidth",l);return(d=this.document.$attributes()["$key?"]("pagewidth"))!==
e&&(!d.$$is_boolean||!0==d)?(d="tableabswidth",g=this.attributes,!1!==(h=g["$[]"](d))&&h!==e?h:g["$[]="](d,r(n(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round())):e});a.defn(k,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==e?this.rows.$body()["$empty?"]():a});a.defn(k,"$create_columns",function(a){var b,d,g,k,l=e,m=e,p=e,l=0,m=[];(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);l=h(l,a["$[]"]("width"));
return m["$<<"](t.get("Column").$new(b,m.$size(),a))},d.$$s=this,d),b).call(a);if(!((b=m["$empty?"]())!==e&&(!b.$$is_boolean||!0==b)))this.attributes["$[]="]("colcount",m.$size()),p=n(100,m.$size()).$floor(),(b=(g=m).$each,b.$$p=(k=function(a){null==a&&(a=e);return a.$assign_width(l,p)},k.$$s=this,k),b).call(g);this.columns=m;return e});return(a.defn(k,"$partition_header_footer",function(a){var b,d,g,h=e,k=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());h=this.rows.$body().$size();
if((b=(d=m(h,0))?this.has_header_option:m(h,0))!==e&&(!b.$$is_boolean||!0==b))k=this.rows.$body().$shift(),h=l(h,1),(b=(d=k).$each,b.$$p=(g=function(a){var b,c;null==a&&(a=e);return b=[e],c=a,c["$style="].apply(c,b),b[b.length-1]},g.$$s=this,g),b).call(d),b=[[k]],d=this.rows,d["$head="].apply(d,b),b[b.length-1];if((b=(d=m(h,0))?a["$key?"]("footer-option"):m(h,0))!==e&&(!b.$$is_boolean||!0==b))b=[[this.rows.$body().$pop()]],d=this.rows,d["$foot="].apply(d,b),b[b.length-1];return e}),e)&&"partition_header_footer"})(u.base,
u.get("AbstractBlock"));(function(d,$super){function g(){}var k=g=b(d,$super,"Column",g),l;k.$$proto.attributes=e;k.$attr_accessor("style");a.defn(k,"$initialize",l=function(b,d,f){var c;null==f&&(f=w([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,"column"]);this.style=f["$[]"]("style");f["$[]="]("colnumber",h(d,1));b="width";d=f;!1!==(c=d["$[]"](b))&&c!==e?c:d["$[]="](b,1);b="halign";d=f;!1!==(c=d["$[]"](b))&&c!==e?c:d["$[]="](b,"left");b="valign";d=f;!1!==(c=
d["$[]"](b))&&c!==e?c:d["$[]="](b,"top");return this.$update_attributes(f)});a.alias(k,"table","parent");return(a.defn(k,"$assign_width",function(a,b){var d,c=e,c=m(a,0)?r(n(this.attributes["$[]"]("width").$to_f(),a),100).$floor():b;this.attributes["$[]="]("colpcwidth",c);if((d=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&(!d.$$is_boolean||!0==d))this.attributes["$[]="]("colabswidth",r(n(c.$to_f(),100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return e}),e)&&
"assign_width"})(u.get("Table"),u.get("AbstractNode"));(function(h,$super){function g(){}var k=g=b(h,$super,"Cell",g),l=k.$$proto,m=k.$$scope,n,f;l.style=l.document=l.text=l.inner_document=l.colspan=l.rowspan=l.attributes=e;k.$attr_accessor("style");k.$attr_accessor("colspan");k.$attr_accessor("rowspan");a.alias(k,"column","parent");k.$attr_reader("inner_document");a.defn(k,"$initialize",n=function(b,d,f,g){var h,k=e,l=e,p=e,r=e;null==f&&(f=w([],{}));null==g&&(g=e);n.$$p=null;a.find_super_dispatcher(this,
"initialize",n,null).apply(this,[b,"cell"]);this.text=d;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));if(!1!==f&&f!==e){this.colspan=f.$delete("colspan");this.rowspan=f.$delete("rowspan");if((h=f["$key?"]("style"))!==e&&(!h.$$is_boolean||!0==h))this.style=f["$[]"]("style");this.$update_attributes(f)}if((h=(d=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))!==
e&&(!h.$$is_boolean||!0==h)){k=this.document.$attributes().$delete("doctitle");l=this.text.$split(m.get("EOL"));if(!((h=!1!==(d=l["$empty?"]())&&d!==e?d:l["$[]"](0)["$include?"]("::")["$!"]())!==e&&(!h.$$is_boolean||!0==h)))if(p=l["$[]"](0),r=m.get("PreprocessorReader").$new(this.document,p).$readlines(),(h=r["$!="](p))!==e&&(!h.$$is_boolean||!0==h))l.$shift(),(h=l).$unshift.apply(h,a.to_a(r));this.inner_document=m.get("Document").$new(l,w(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,
cursor:g}));return(d=k["$nil?"]())!==e&&(!d.$$is_boolean||!0==d)?e:this.document.$attributes()["$[]="]("doctitle",k)}return e});a.defn(k,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(k,"$content",function(){var a,b,d;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.style&&(b.style=e);null==a&&(a=e);return(c=!1!==(f=b.style["$!"]())&&f!==e?f:b.style["$=="]("header"))!==
e&&(!c.$$is_boolean||!0==c)?a:m.get("Inline").$new(b.$parent(),"quoted",a,w(["type"],{type:b.style})).$convert()},d.$$s=this,d),a).call(b)});return(a.defn(k,"$to_s",f=function(){var b=d.call(arguments,0),g,h=f.$$p;f.$$p=null;return""+a.find_super_dispatcher(this,"to_s",f,h).apply(this,b).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(g=this.colspan)&&g!==e?g:1)+", rowspan: "+(!1!==(g=this.rowspan)&&g!==e?g:1)+", attributes: "+this.attributes+"]"}),e)&&"to_s"})(u.get("Table"),u.get("AbstractNode"));
(function(d,$super){function g(){}var k=g=b(d,$super,"ParserContext",g),n=k.$$proto,r=k.$$scope;n.format=n.delimiter=n.delimiter_re=n.buffer=n.cell_specs=n.cell_open=n.last_cursor=n.table=n.current_row=n.col_count=n.col_visits=n.active_rowspans=n.linenum=e;k.$attr_accessor("table");k.$attr_accessor("format");k.$attr_reader("col_count");k.$attr_accessor("buffer");k.$attr_reader("delimiter");k.$attr_reader("delimiter_re");a.defn(k,"$initialize",function(a,b,c){var d,g;null==c&&(c=w([],{}));this.reader=
a;this.table=b;this.last_cursor=a.$cursor();(d=this.format=c["$[]"]("format"))!==e&&(!d.$$is_boolean||!0==d)?(d=r.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))!==e&&(!d.$$is_boolean||!0==d)||this.$raise("Illegal table format: "+this.format):this.format=r.get("Table").$$scope.get("DEFAULT_DATA_FORMAT");this.delimiter=(d=(g=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==g&&g!==e?b.$document()["$nested?"]():g))!==e&&(!d.$$is_boolean||!0==
d)?"!":!1!==(d=c["$[]"]("separator"))&&d!==e?d:r.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format);this.delimiter_re=RegExp(""+r.get("Regexp").$escape(this.delimiter));this.col_count=(d=b.$columns()["$empty?"]())!==e&&(!d.$$is_boolean||!0==d)?-1:b.$columns().$size();this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(k,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});
a.defn(k,"$match_delimiter",function(a){return this.delimiter_re.$match(a)});a.defn(k,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(k,"$buffer_has_unclosed_quotes?",function(a){var b,c,d=e;null==a&&(a=e);d=(""+this.buffer+a).$strip();return b=(c=d["$start_with?"]('"'),!1!==c&&c!==e?d["$start_with?"]('""')["$!"]():c),!1!==b&&b!==e?d["$end_with?"]('"')["$!"]():b});
a.defn(k,"$buffer_quoted?",function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(k,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(k,"$push_cell_spec",function(a){var b;null==a&&(a=w([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==e?b:w([],{}));return e});a.defn(k,"$keep_cell_open",function(){this.cell_open=!0;return e});a.defn(k,"$mark_cell_closed",function(){this.cell_open=
!1;return e});a.defn(k,"$cell_open?",function(){return this.cell_open});a.defn(k,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(k,"$close_open_cell",function(a){var b;null==a&&(a=w([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())!==e&&(!b.$$is_boolean||!0==b)&&this.$close_cell(!0);this.$advance();return e});a.defn(k,"$close_cell",function(b){try{var d,c,g,k=e,p=e,n=e;null==b&&(b=!1);k=this.buffer.$strip();this.buffer="";if(this.format["$=="]("psv"))p=this.$take_cell_spec(),
!1!==p&&p!==e?(n=p.$fetch("repeatcol",1),p.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=w([],{}),n=1);else if(p=e,n=1,this.format["$=="]("csv")&&(d=(c=k["$empty?"]()["$!"](),!1!==c&&c!==e?k["$include?"]('"'):c))!==e&&(!d.$$is_boolean||!0==d)){if((d=(c=k["$start_with?"]('"'),!1!==c&&c!==e?k["$end_with?"]('"'):c))!==e&&(!d.$$is_boolean||!0==d))k=k["$[]"](z(1,-1,!0)).$strip();k=k.$tr_s('"','"')}(d=
(c=1).$upto,d.$$p=(g=function(c){var d=g.$$s||this,f,s,t,u,w,z,E=e,$=e,aa=e,E=e;null==d.col_count&&(d.col_count=e);null==d.table&&(d.table=e);null==d.current_row&&(d.current_row=e);null==d.last_cursor&&(d.last_cursor=e);null==d.reader&&(d.reader=e);null==d.col_visits&&(d.col_visits=e);null==d.linenum&&(d.linenum=e);null==c&&(c=e);if(d.col_count["$=="](-1)){if(d.table.$columns()["$<<"](E=r.get("Table").$$scope.get("Column").$new(d.table,l(h(d.table.$columns().$size(),c),1))),(f=(s=(t=!1!==p&&p!==e)?
p["$key?"]("colspan"):p,!1!==s&&s!==e?m($=l(p["$[]"]("colspan").$to_i(),1),0):s))!==e&&(!f.$$is_boolean||!0==f))aa=d.table.$columns().$size(),(f=(s=$).$times,f.$$p=(u=function(a){var b=u.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](r.get("Table").$$scope.get("Column").$new(b.table,h(aa,a)))},u.$$s=d,u),f).call(s)}else if(!((f=E=d.table.$columns()["$[]"](d.current_row.$size()))!==e&&(!f.$$is_boolean||!0==f)))d.$warn("asciidoctor: ERROR: "+d.last_cursor.$line_info()+
": dropping cell because it exceeds specified number of columns"),a.ret(e);E=r.get("Table").$$scope.get("Cell").$new(E,k,p,d.last_cursor);d.last_cursor=d.reader.$cursor();if(!((f=!1!==(t=E.$rowspan()["$!"]())&&t!==e?t:E.$rowspan()["$=="](1))!==e&&(!f.$$is_boolean||!0==f)))d.$activate_rowspan(E.$rowspan(),!1!==(f=E.$colspan())&&f!==e?f:1);d.col_visits=h(d.col_visits,!1!==(f=E.$colspan())&&f!==e?f:1);d.current_row["$<<"](E);return(f=(t=d["$end_of_row?"](),!1!==t&&t!==e?!1!==(w=!1!==(z=d.col_count["$!="](-1))&&
z!==e?z:m(d.linenum,0))&&w!==e?w:(z=!1!==b&&b!==e)?c["$=="](n):b:t))!==e&&(!f.$$is_boolean||!0==f)?d.$close_row():e},g.$$s=this,g),d).call(c,n);this.cell_open=!1;return e}catch(s){if(s===a.returner)return s.$v;throw s;}});a.defn(k,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e?b:a["$[]="](0,
0);return e});a.defn(k,"$activate_rowspan",function(a,b){var c,d,g;(c=(d=(1).$upto(l(a,1))).$each,c.$$p=(g=function(a){var c=g.$$s||this,d;null==c.active_rowspans&&(c.active_rowspans=e);null==a&&(a=e);return c.active_rowspans["$[]="](a,h(!1!==(d=c.active_rowspans["$[]"](a))&&d!==e?d:0,b))},g.$$s=this,g),c).call(d);return e});a.defn(k,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==e?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(k,"$effective_col_visits",
function(){return h(this.col_visits,this.active_rowspans["$[]"](0))});return(a.defn(k,"$advance",function(){return this.linenum=h(this.linenum,1)}),e)&&"advance"})(u.get("Table"),null)}(a.base)};
Opal.modules.asciidoctor=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var h,l=a.top,e=a.nil,d=a.gvars,t=a.module,b=a.hash2,w=a.range,z=a.hash;null==d[":"]&&(d[":"]=e);(h=null!=a.RUBY_ENGINE)!==e&&(!h.$$is_boolean||!0==h)||a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,
"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",m(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",m(a.get("RUBY_VERSION"),"2"));l.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&l.$require("asciidoctor/opal_ext");d[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(d){d=t(d,"Asciidoctor");var h=d.$$scope,l,g,k,s=e,y=e;a.cdecl(h,"RUBY_ENGINE",a.get("RUBY_ENGINE"));
(function(b){b=t(b,"SafeMode").$$scope;a.cdecl(b,"UNSAFE",0);a.cdecl(b,"SAFE",1);a.cdecl(b,"SERVER",10);a.cdecl(b,"SECURE",20)})(h.base);(function(b){b=t(b,"Compliance");b.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(b));a.defs(b,"$define",function(b,d){var f,g;null==this.keys&&(this.keys=e);(f=!1!==(g=b["$=="]("keys"))&&g!==e?g:this["$respond_to?"](b))!==e&&(!f.$$is_boolean||!0==f)&&this.$raise(a.get("ArgumentError"),"illegal key name: "+b);this.$instance_variable_set("@"+
b,d);a.get_singleton_class(this).$send("attr_accessor",b);return this.keys["$<<"](b)});b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(h.base);a.cdecl(h,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(h,"LIB_PATH",a.get("File").$join(h.get("ROOT_PATH"),"lib"));a.cdecl(h,"DATA_PATH",a.get("File").$join(h.get("ROOT_PATH"),"data"));try{a.cdecl(h,"USER_HOME",a.get("Dir").$home())}catch(A){try{a.cdecl(h,"USER_HOME",!1!==(l=a.get("ENV")["$[]"]("HOME"))&&l!==e?l:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(h,"COERCE_ENCODING",(l=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==l&&l!==e?a.get("RUBY_MIN_VERSION_1_9"):l));a.cdecl(h,"FORCE_ENCODING",(l=h.get("COERCE_ENCODING"),
!1!==l&&l!==e?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):l));a.cdecl(h,"BOM_BYTES_UTF_8","".$bytes().$to_a());a.cdecl(h,"BOM_BYTES_UTF_16LE","".$bytes().$to_a());a.cdecl(h,"BOM_BYTES_UTF_16BE","".$bytes().$to_a());a.cdecl(h,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(h,"SUPPORTS_GSUB_RESULT_HASH",(l=a.get("RUBY_MIN_VERSION_1_9"),!1!==l&&l!==e?a.get("RUBY_ENGINE_OPAL")["$!"]():l));a.cdecl(h,"EOL","\n");a.cdecl(h,"NULL",
"\x00");a.cdecl(h,"TAB","\t");a.cdecl(h,"DEFAULT_DOCTYPE","article");a.cdecl(h,"DEFAULT_BACKEND","html5");a.cdecl(h,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(h,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(h,"BACKEND_ALIASES",b(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(h,"DEFAULT_PAGE_WIDTHS",b(["docbook"],{docbook:425}));a.cdecl(h,"DEFAULT_EXTENSIONS",b(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));
a.cdecl(h,"ASCIIDOC_EXTENSIONS",b([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(h,"SECTION_LEVELS",b(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(h,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(h,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(h,"VERBATIM_STYLES",["literal","listing","source",
"verse"].$to_set());a.cdecl(h,"DELIMITED_BLOCKS",b('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],
"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(h,"DELIMITED_BLOCK_LEADERS",(l=(g=h.get("DELIMITED_BLOCKS").$keys()).$map,l.$$p=(k=function(a){null==a&&(a=e);return a["$[]"](w(0,1,!1))},k.$$s=d,k),l).call(g).$to_set());a.cdecl(h,"LAYOUT_BREAK_LINES",
b(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(h,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(h,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(h,"ORDERED_LIST_KEYWORDS",b(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(h,"LIST_CONTINUATION","+");a.cdecl(h,"LINE_BREAK"," +");
a.cdecl(h,"LINE_CONTINUATION"," \\");a.cdecl(h,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(h,"BLOCK_MATH_DELIMITERS",b(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(h,"INLINE_MATH_DELIMITERS",b(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(h,"FLEXIBLE_ATTRIBUTES",["sectnums"]);h.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(h,"CC_ALPHA","a-zA-Z"),a.cdecl(h,"CG_ALPHA","[a-zA-Z]"),a.cdecl(h,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(h,
"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(h,"CG_BLANK","[ \\t]"),a.cdecl(h,"CC_EOL","(?=\\n|$)"),a.cdecl(h,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(h,"CC_ALL","[\\s\\S]"),a.cdecl(h,"CC_WORD","a-zA-Z0-9_"),a.cdecl(h,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(h,"AuthorInfoLineRx",RegExp("^("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*)(?: +("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*))?(?: +("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(h,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);
a.cdecl(h,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(h,"ManpageNamePurposeRx",RegExp("^(.*?)"+h.get("CG_BLANK")+"+-"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(h,"EvalExpressionRx",RegExp("^(\\S.*?)"+h.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+h.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(h,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(h,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(h,
"AttributeEntryRx",RegExp("^:(!?\\w.*?):(?:"+h.get("CG_BLANK")+"+(.*))?$"));a.cdecl(h,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(h,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(h,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(h,"BlockAnchorRx",RegExp("^\\[\\[(?:|(["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(h,"BlockAttributeListRx",RegExp("^\\[(|"+h.get("CG_BLANK")+"*["+h.get("CC_WORD")+
"\\{,.#\"'%].*)\\]$"));a.cdecl(h,"BlockAttributeLineRx",RegExp("^\\[(|"+h.get("CG_BLANK")+"*["+h.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*(?:,"+h.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(h,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(h,"AdmonitionParagraphRx",RegExp("^("+r(h.get("ADMONITION_STYLES").$to_a(),"|")+"):"+h.get("CG_BLANK")));a.cdecl(h,"LiteralParagraphRx",RegExp("^("+h.get("CG_BLANK")+"+.*)$"));a.cdecl(h,"CommentBlockRx",/^\/{4,}$/);a.cdecl(h,
"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(h,"AtxSectionRx",RegExp("^((?:=|#){1,6})"+h.get("CG_BLANK")+"+(\\S.*?)(?:"+h.get("CG_BLANK")+"+\\1)?$"));a.cdecl(h,"SetextSectionTitleRx",RegExp("^((?=.*"+h.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(h,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(h,"InlineSectionAnchorRx",RegExp("^(.*?)"+h.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(h,"InvalidSectionIdCharsRx",
RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+h.get("CC_WORD")+"]+?"));a.cdecl(h,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(h,"AnyListRx",RegExp("^(?:<?\\d+>"+h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|"+h.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|"+h.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|$))"));a.cdecl(h,"UnorderedListRx",RegExp("^"+h.get("CG_BLANK")+
"*(-|\\*{1,5}|\\u2022{1,5})"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"OrderedListRx",RegExp("^"+h.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"OrderedListMarkerRxMap",b(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.cdecl(h,"DefinitionListRx",RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+h.get("CG_BLANK")+
"+(.*))?$"));a.cdecl(h,"DefinitionListSiblingRx",b(["::",":::","::::",";;"],{"::":RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),":::":RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),"::::":RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),";;":RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*(.*)(;;)(?:"+h.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(h,"CalloutListRx",RegExp("^<?(\\d+)>"+
h.get("CG_BLANK")+"+(.*)"));a.cdecl(h,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(h,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(h,"CalloutQuickScanRx",RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+h.get("CC_EOL")+")"));a.cdecl(h,"CalloutSourceRx",RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+h.get("CC_EOL")+")"));a.cdecl(h,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+
h.get("CC_EOL")+")");a.cdecl(h,"ListRxMap",b(["ulist","olist","dlist","colist"],{ulist:h.get("UnorderedListRx"),olist:h.get("OrderedListRx"),dlist:h.get("DefinitionListRx"),colist:h.get("CalloutListRx")}));a.cdecl(h,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(h,"CellSpecStartRx",RegExp("^"+h.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(h,"CellSpecEndRx",RegExp(""+
h.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(h,"GenericBlockMacroRx",RegExp("^("+h.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(h,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(h,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(h,"InlineAnchorRx",RegExp("\\\\?(?:\\[\\[(["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));
a.cdecl(h,"InlineBiblioAnchorRx",RegExp("\\\\?\\[\\[\\[(["+h.get("CC_WORD")+":]["+h.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(h,"EmailInlineMacroRx",RegExp("([\\\\>:\\/])?"+h.get("CG_WORD")+"["+h.get("CC_WORD")+".%+-]*@"+h.get("CG_ALNUM")+"["+h.get("CC_ALNUM")+".-]*\\."+h.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(h,"FootnoteInlineMacroRx",RegExp("\\\\?(footnote(?:ref)?):\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(h,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(h,
"IndextermInlineMacroRx",RegExp("\\\\?(?:(indexterm2?):\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+h.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(h,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(h,"KbdDelimiterRx",RegExp("(?:\\+|,)(?="+h.get("CG_BLANK")+"*[^\\1])"));a.cdecl(h,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);a.cdecl(h,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);
a.cdecl(h,"StemInlineMacroRx",RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(h,"MenuInlineMacroRx",RegExp("\\\\?menu:("+h.get("CG_WORD")+"|"+h.get("CG_WORD")+".*?\\S)\\["+h.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(h,"MenuInlineRx",RegExp('\\\\?"('+h.get("CG_WORD")+'[^"]*?'+h.get("CG_BLANK")+"*&gt;"+h.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(h,"PassInlineRx",z(!1,["+","`",RegExp("(^|[^"+h.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+
h.get("CC_ALL")+"*?\\S)\\4)(?!"+h.get("CG_WORD")+")")],!0,["`",e,RegExp("(^|[^`"+h.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+h.get("CC_ALL")+"*?\\S)\\4)(?![`"+h.get("CC_WORD")+"])")]));a.cdecl(h,"PassInlineMacroRx",RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+h.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+h.get("CC_ALL")+"*?[^\\\\])\\])"));a.cdecl(h,"XrefInlineMacroRx",RegExp("\\\\?(?:&lt;&lt;(["+h.get("CC_WORD")+'":.\\/]'+h.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+
h.get("CC_WORD")+'":.\\/]'+h.get("CC_ALL")+"*?)\\[("+h.get("CC_ALL")+"*?)\\])"));h.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(h,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(h,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(h,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(h,"BlankLineRx",RegExp("^"+h.get("CG_BLANK")+"*\\n"));a.cdecl(h,"DataDelimiterRx",/,|;/);a.cdecl(h,"DigitsRx",/^\d+$/);a.cdecl(h,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(h,"DoubleQuotedMultiRx",RegExp('^("|)('+
h.get("CC_ALL")+"*)\\1$"));a.cdecl(h,"TrailingDigitsRx",/\d+$/);a.cdecl(h,"EscapedSpaceRx",RegExp("\\\\("+h.get("CG_BLANK")+")"));a.cdecl(h,"SpaceDelimiterRx",RegExp("([^\\\\])"+h.get("CG_BLANK")+"+"));a.cdecl(h,"SubModifierSniffRx",/[+-]/);a.cdecl(h,"UnicodeCharScanRx",function(){h.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(h,"UriSniffRx",RegExp("^"+h.get("CG_ALPHA")+"["+h.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(h,"UriTerminator",/[);:]$/);a.cdecl(h,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(h,
"INTRINSIC_ATTRIBUTES",b("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",
rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));s=[["strong","unconstrained",RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+h.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+h.get("CC_ALL")+"*?\\S)\\*(?!"+h.get("CG_WORD")+")")],["double","constrained",RegExp("(^|[^"+h.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+h.get("CC_ALL")+'*?\\S)`"(?!'+h.get("CG_WORD")+")")],["single","constrained",
RegExp("(^|[^"+h.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+h.get("CC_ALL")+"*?\\S)`'(?!"+h.get("CG_WORD")+")")],["monospaced","unconstrained",RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+h.get("CC_ALL")+"+?)``")],["monospaced","constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+h.get("CC_ALL")+"*?\\S)`(?!["+h.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+h.get("CC_ALL")+"+?)__")],["emphasis","constrained",RegExp("(^|[^"+
h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+h.get("CC_ALL")+"*?\\S)_(?!"+h.get("CG_WORD")+")")],["mark","unconstrained",RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+h.get("CC_ALL")+"+?)##")],["mark","constrained",RegExp("(^|[^"+h.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+h.get("CC_ALL")+"*?\\S)#(?!"+h.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];y=s.$dup();y["$[]="](2,["double",
"constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+h.get("CC_ALL")+"*?\\S)''(?!"+h.get("CG_WORD")+")")]);y["$[]="](3,["single","constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+h.get("CC_ALL")+"*?\\S)'(?!"+h.get("CG_WORD")+")")]);y["$[]="](4,["monospaced","unconstrained",RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+h.get("CC_ALL")+"+?)\\+\\+")]);y["$[]="](5,["monospaced","constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+
h.get("CC_ALL")+"*?\\S)\\+(?!"+h.get("CG_WORD")+")")]);y.$insert(3,["emphasis","constrained",RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+h.get("CC_ALL")+"*?\\S)'(?!"+h.get("CG_WORD")+")")]);a.cdecl(h,"QUOTE_SUBS",z(!1,s,!0,y));y=s=e;a.cdecl(h,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[RegExp("("+h.get("CG_WORD")+")\\\\?--(?="+h.get("CG_WORD")+")"),"&#8212;&#8203;",
"leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[RegExp("("+h.get("CG_ALNUM")+")\\\\?'(?="+h.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]);(function(d){var c=d.$$scope;a.defn(d,"$load",function(d,f){var g,h,k,l,m,n,p,r,q,s=this,t=e,u=e,y=e,w=e,A=e,z=e,K=e,N=e,Y=e,V=e,Q=e,W=e,T=e,
F=e;null==f&&(f=b([],{}));try{f=f.$dup();(g=t=f["$[]"]("timings"))!==e&&(!g.$$is_boolean||!0==g)&&t.$start("read");u=f["$[]="]("attributes",function(){return(g=(y=f["$[]"]("attributes"))["$!"]())!==e&&(!g.$$is_boolean||!0==g)?b([],{}):(g=!1!==(h=a.get("Hash")["$==="](y))&&h!==e?h:(k=a.get("RUBY_ENGINE_JRUBY"),!1!==k&&k!==e?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](y):k))!==e&&(!g.$$is_boolean||!0==g)?y.$dup():(g=a.get("Array")["$==="](y))!==e&&(!g.$$is_boolean||!0==g)?(g=(h=
y).$inject,g.$$p=(l=function(b,c){var d,f=e,g=e;null==b&&(b=e);null==c&&(c=e);d=a.to_ary(c.$split("=",2));f=null==d[0]?e:d[0];g=null==d[1]?e:d[1];b["$[]="](f,!1!==(d=g)&&d!==e?d:"");return b},l.$$s=s,l),g).call(h,b([],{})):(g=a.get("String")["$==="](y))!==e&&(!g.$$is_boolean||!0==g)?(w="\\1",y=y.$gsub(c.get("SpaceDelimiterRx"),""+w+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),w),(g=(k=y.$split(c.get("NULL"))).$inject,g.$$p=(m=function(b,c){var d,f=e,g=e;null==b&&(b=e);null==c&&(c=e);d=a.to_ary(c.$split("=",
2));f=null==d[0]?e:d[0];g=null==d[1]?e:d[1];b["$[]="](f,!1!==(d=g)&&d!==e?d:"");return b},m.$$s=s,m),g).call(k,b([],{}))):(g=(n=y["$respond_to?"]("keys"),!1!==n&&n!==e?y["$respond_to?"]("[]"):n))!==e&&(!g.$$is_boolean||!0==g)?(A=y,y=b([],{}),(g=(n=A.$keys()).$each,g.$$p=(p=function(a){null==a&&(a=e);return y["$[]="](a,A["$[]"](a))},p.$$s=s,p),g).call(n),y):s.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+y.$class().$ancestors())}());z=e;if((g=a.get("File")["$==="](d))!==e&&(!g.$$is_boolean||
!0==g))K=a.get("File").$expand_path(d.$path()),N=d.$mtime(),z=d.$readlines(),u["$[]="]("docfile",K),u["$[]="]("docdir",a.get("File").$dirname(K)),u["$[]="]("docname",c.get("Helpers").$basename(K,!0)),Y=(g="docdate",r=u,!1!==(q=r["$[]"](g))&&q!==e?q:r["$[]="](g,N.$strftime("%Y-%m-%d"))),V=(g="doctime",r=u,!1!==(q=r["$[]"](g))&&q!==e?q:r["$[]="](g,N.$strftime("%H:%M:%S %Z"))),u["$[]="]("docdatetime",""+Y+" "+V);else if((g=d["$respond_to?"]("readlines"))!==e&&(!g.$$is_boolean||!0==g)){try{d.$rewind()}catch(ba){try{e}finally{a.gvars["!"]=
a.exceptions.pop()||a.nil}}z=d.$readlines()}else(g=a.get("String")["$==="](d))!==e&&(!g.$$is_boolean||!0==g)?z=d.$lines().$entries():(g=a.get("Array")["$==="](d))!==e&&(!g.$$is_boolean||!0==g)?z=d.$dup():s.$raise(a.get("ArgumentError"),"unsupported input type: "+d.$class());!1!==t&&t!==e&&(t.$record("read"),t.$start("parse"));Q=f["$[]"]("parse")["$=="](!1)?c.get("Document").$new(z,f):c.get("Document").$new(z,f).$parse();!1!==t&&t!==e&&t.$record("parse");return Q}catch(H){W=H;try{try{T="asciidoctor: FAILED: "+
(!1!==(g=u["$[]"]("docfile"))&&g!==e?g:"<stdin>")+": Failed to load AsciiDoc document",(g=W["$respond_to?"]("exception"))!==e&&(!g.$$is_boolean||!0==g)?(F=W.$exception(""+T+" - "+W.$message()),F.$set_backtrace(W.$backtrace())):(F=W.$class().$new(T,W),g=[W.$stack_trace()],r=F,r["$stack_trace="].apply(r,g),g[g.length-1])}catch(P){try{F=W}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return s.$raise(F)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(d,"$load_file",function(c,d){null==d&&
(d=b([],{}));return this.$load(a.get("File").$new(!1!==c&&c!==e?c:""),d)});a.defn(d,"$convert",function(d,f){var g,h,k,l,p,r,q,s=e,t=e,u=e,y=e,w=e,A=e,z=e,S=e,Z=e,K=e,N=w=e,Y=s=s=S=A=e,V=s=z=y=S=A=t=e,Q=u=e;null==f&&(f=b([],{}));f=f.$dup();f.$delete("parse");s=f.$delete("to_file");t=f.$delete("to_dir");u=!1!==(g=f.$delete("mkdirs"))&&g!==e?g:!1;y=f["$[]"]("timings");w=s;if((!0)["$==="](w)||e["$==="](w))A=(g=t["$!"](),!1!==g&&g!==e?a.get("File")["$==="](d):g),z=!1,S=t,s=e;else if((!1)["$==="](w))S=
z=A=!1,s=e;else{if("/dev/null"["$==="](w))return this.$load(d,f);A=!1;z=s["$respond_to?"]("write");S=!1!==z&&z!==e?!1:s}if(!((g=f["$key?"]("header_footer"))!==e&&(!g.$$is_boolean||!0==g)))if((g=!1!==(h=A)&&h!==e?h:S)!==e&&(!g.$$is_boolean||!0==g))f["$[]="]("header_footer",!0);if(!1!==A&&A!==e)Z=a.get("File").$expand_path(d.$path()),f["$[]="]("to_dir",K=a.get("File").$dirname(Z));else if(!1!==S&&S!==e)if(!1!==t&&t!==e)if(!1!==s&&s!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(t,
s))));else f["$[]="]("to_dir",a.get("File").$expand_path(t));else{if(!1!==s&&s!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(s)))}else f["$[]="]("to_dir",e);w=this.$load(d,f);if(!1!==A&&A!==e)N=a.get("File").$join(K,""+w.$attributes()["$[]"]("docname")+w.$outfilesuffix()),N["$=="](Z)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+N);else if(!1!==S&&S!==e){if(A=(g=f["$has_key?"]("base_dir"))!==e&&(!g.$$is_boolean||!0==g)?a.get("File").$expand_path(f["$[]"]("base_dir")):
a.get("File").$expand_path(a.get("Dir").$pwd()),S=m(w.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?A:e,!1!==t&&t!==e?(K=w.$normalize_system_path(t,A,S,b(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==s&&s!==e?(N=w.$normalize_system_path(s,K,e,b(["target_name","recover"],{target_name:"to_dir",recover:!1})),K=a.get("File").$dirname(N)):N=a.get("File").$join(K,""+w.$attributes()["$[]"]("docname")+w.$outfilesuffix())):!1!==s&&s!==e&&(N=w.$normalize_system_path(s,A,S,b(["target_name",
"recover"],{target_name:"to_dir",recover:!1})),K=a.get("File").$dirname(N)),!((g=a.get("File")["$directory?"](K))!==e&&(!g.$$is_boolean||!0==g)))!1!==u&&u!==e?a.get("FileUtils").$mkdir_p(K):this.$raise(a.get("IOError"),"target directory does not exist: "+t)}else N=s,K=e;!1!==y&&y!==e&&y.$start("convert");s=(g=(h=!1!==N&&N!==e)?z["$!"]():N)!==e&&(!g.$$is_boolean||!0==g)?b(["outfile","outdir"],{outfile:N,outdir:K}):b([],{});s=w.$convert(s);!1!==y&&y!==e&&y.$record("convert");if(!1!==N&&N!==e){!1!==
y&&y!==e&&y.$start("write");w.$write(s,N);!1!==y&&y!==e&&y.$record("write");if((g=(h=(k=(l=(p=(r=z["$!"](),!1!==r&&r!==e?n(w.$safe(),c.get("SafeMode").$$scope.get("SECURE")):r),!1!==p&&p!==e?w["$attr?"]("linkcss"):p),!1!==l&&l!==e?w["$attr?"]("copycss"):l),!1!==k&&k!==e?w["$attr?"]("basebackend-html"):k),!1!==h&&h!==e?(k=Y=w.$attr("stylesdir"),!1!==k&&k!==e?c.get("Helpers")["$uriish?"](Y):k)["$!"]():h))!==e&&(!g.$$is_boolean||!0==g)){A=t=!1;if((g=S=w.$attr("stylesheet"))!==e&&(!g.$$is_boolean||!0==
g))if((g=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](S))!==e&&(!g.$$is_boolean||!0==g))t=!0;else if((g=c.get("Helpers")["$uriish?"](S)["$!"]())!==e&&(!g.$$is_boolean||!0==g))A=!0;y=(g=w["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==e?w.$attr("coderay-css","class")["$=="]("class"):g);z=(g=w["$attr?"]("source-highlighter","pygments"),!1!==g&&g!==e?w.$attr("pygments-css","class")["$=="]("class"):g);if((g=!1!==(h=!1!==(k=!1!==(l=t)&&l!==e?l:A)&&k!==e?k:y)&&h!==e?h:z)!==e&&(!g.$$is_boolean||
!0==g)){s=w.$normalize_system_path(Y,K,m(w.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?K:e);!1!==u&&u!==e&&c.get("Helpers").$mkdir_p(s);if(!1!==t&&t!==e)c.get("Stylesheets").$instance().$write_primary_stylesheet(s);else if(!1!==A&&A!==e&&(V=(g=(V=w.$attr("copycss"))["$empty?"]())!==e&&(!g.$$is_boolean||!0==g)?w.$normalize_system_path(S):w.$normalize_system_path(V),u=w.$normalize_system_path(S,s,m(w.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?K:e),!((g=!1!==(h=V["$=="](u))&&h!==e?h:(Q=w.$read_asset(V))["$nil?"]())!==
e&&(!g.$$is_boolean||!0==g))))(g=(h=a.get("File")).$open,g.$$p=(q=function(a){null==a&&(a=e);return a.$write(Q)},q.$$s=this,q),g).call(h,u,"w");!1!==y&&y!==e?c.get("Stylesheets").$instance().$write_coderay_stylesheet(s):!1!==z&&z!==e&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(s,w.$attr("pygments-style"))}}return w}return s});a.alias(d,"render","convert");a.defn(d,"$convert_file",function(c,d){null==d&&(d=b([],{}));return this.$convert(a.get("File").$new(!1!==c&&c!==e?c:""),d)});
return a.alias(d,"render_file","convert_file")})(a.get_singleton_class(d));h.get("RUBY_ENGINE")["$=="]("opal")&&(d.$require("asciidoctor/version"),d.$require("asciidoctor/timings"))})(a.base);l.$require("asciidoctor/core_ext");l.$require("asciidoctor/helpers");l.$require("asciidoctor/substitutors");l.$require("asciidoctor/abstract_node");l.$require("asciidoctor/abstract_block");l.$require("asciidoctor/attribute_list");l.$require("asciidoctor/block");l.$require("asciidoctor/callouts");l.$require("asciidoctor/converter");
(h=a.get("RUBY_ENGINE_OPAL"))!==e&&(!h.$$is_boolean||!0==h)&&l.$require("asciidoctor/converter/html5");l.$require("asciidoctor/document");l.$require("asciidoctor/inline");l.$require("asciidoctor/list");l.$require("asciidoctor/parser");l.$require("asciidoctor/path_resolver");l.$require("asciidoctor/reader");l.$require("asciidoctor/section");l.$require("asciidoctor/stylesheets");return l.$require("asciidoctor/table")};
Opal.modules["asciidoctor/extensions"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.breaker,e=a.slice,d=a.module,t=a.klass,b=a.hash2,w=a.range,z=a.hash;return function(u){(function(p){p=d(p,"Extensions");var q=p.$$scope;(function(d,$super){function l(){}
var m=l=t(d,$super,"Processor",l),n=m.$$scope,f,c,p;m.$$proto.config=h;(function(c){a.defn(c,"$config",function(){var a;null==this.config&&(this.config=h);return!1!==(a=this.config)&&a!==h?a:this.config=b([],{})});a.defn(c,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(c,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())!==h&&(!a.$$is_boolean||!0==a)?(a=this.$constants().$grep("DSL"))!==h&&(!a.$$is_boolean||!0==a)?this.$include(this.$const_get("DSL")):h:(a=
this.$constants().$grep("DSL"))!==h&&(!a.$$is_boolean||!0==a)?this.$extend(this.$const_get("DSL")):h});a.alias(c,"extend_dsl","use_dsl");return a.alias(c,"include_dsl","use_dsl")})(a.get_singleton_class(m));m.$attr_reader("config");a.defn(m,"$initialize",function(a){null==a&&(a=b([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(m,"$update_config",function(a){return this.config.$update(a)});a.defn(m,"$process",function(){var b=arguments.length-0;0>b&&(b=0);for(var c=Array(b),d=
0;d<b;d++)c[d]=arguments[d+0];return this.$raise(a.get("NotImplementedError"))});a.defn(m,"$create_block",function(a,c,d,e,f){null==f&&(f=b([],{}));return n.get("Block").$new(a,c,b(["source","attributes"],{source:d,attributes:e}).$merge(f))});a.defn(m,"$create_image_block",function(a,c,d){null==d&&(d=b([],{}));return this.$create_block(a,"image",h,c,d)});a.defn(m,"$create_inline",function(a,c,d,e){null==e&&(e=b([],{}));return n.get("Inline").$new(a,c,d,e)});a.defn(m,"$parse_content",function(a,c,
d){var e,f,g=h,l=h;null==d&&(d=b([],{}));for(g=(e=c["$is_a?"](n.get("Reader")))!==h&&(!e.$$is_boolean||!0==e)?c:n.get("Reader").$new(c);(f=g["$has_more_lines?"]())!==h&&(!f.$$is_boolean||!0==f);)if(l=n.get("Parser").$next_block(g,a,d),!1!==l&&l!==h)a["$<<"](l);return h});return(f=(c=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block",
"listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,f.$$p=(p=function(b,c,d){var f=p.$$s||this,g,l;null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);return(g=f.$define_method,g.$$p=(l=function(b){var f=l.$$s||this,g;b=e.call(arguments,0);return(g=f).$send.apply(g,[c].concat(a.to_a(b.$dup().$insert(1,d))))},l.$$s=f,l),g).call(f,b)},p.$$s=m,p),f).call(c)})(q.base,null);(function(b){b=d(b,"ProcessorDsl");var e;a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,
b)});a.defn(b,"$process",e=function(){var b,d=e.$$p||h;null==this.process_block&&(this.process_block=h);var g=arguments.length-0;0>g&&(g=0);for(var f=Array(g),c=0;c<g;c++)f[c]=arguments[c+0];e.$$p=null;return d!==h?this.process_block=d:(b=this.process_block)!==h&&(!b.$$is_boolean||!0==b)?(b=this.process_block).$call.apply(b,a.to_a(f)):this.$raise(a.get("NotImplementedError"))});a.defn(b,"$process_block_given?",function(){var a;return(a=this.process_block,null!=a&&a!==h)?"instance-variable":h})})(q.base);
(function(b,$super){function d(){}var e=d=t(b,$super,"Preprocessor",d);return(a.defn(e,"$process",function(b,d){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(q.base,q.get("Processor"));a.casgn(q.get("Preprocessor"),"DSL",q.get("ProcessorDsl"));(function(b,$super){function d(){}var e=d=t(b,$super,"Treeprocessor",d);return(a.defn(e,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(q.base,q.get("Processor"));a.casgn(q.get("Treeprocessor"),
"DSL",q.get("ProcessorDsl"));(function(b,$super){function d(){}var e=d=t(b,$super,"Postprocessor",d);return(a.defn(e,"$process",function(b,d){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(q.base,q.get("Processor"));a.casgn(q.get("Postprocessor"),"DSL",q.get("ProcessorDsl"));(function(b,$super){function d(){}var e=d=t(b,$super,"IncludeProcessor",d);a.defn(e,"$process",function(b,d,c,e){return this.$raise(a.get("NotImplementedError"))});return(a.defn(e,"$handles?",function(a){return!0}),
h)&&"handles?"})(q.base,q.get("Processor"));a.casgn(q.get("IncludeProcessor"),"DSL",q.get("ProcessorDsl"));(function(d,$super){function e(){}var l=e=t(d,$super,"DocinfoProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("location");a.defn(l,"$initialize",m=function(d){var c,e;null==d&&(d=b([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[d]);return c=this.config,!1!==(e=c["$[]"]("location"))&&e!==h?e:c["$[]="]("location","head")});return(a.defn(l,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),
h)&&"process"})(q.base,q.get("Processor"));(function(b){b=d(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(q.base);a.casgn(q.get("DocinfoProcessor"),"DSL",q.get("DocinfoProcessorDsl"));(function(d,$super){function e(){}var l=e=t(d,$super,"BlockProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("name");a.defn(l,"$initialize",m=function(d,c){var e,g,l,n=h;null==d&&(d=h);null==c&&(c=b([],{}));m.$$p=null;a.find_super_dispatcher(this,
"initialize",m,null).apply(this,[c]);this.name=!1!==(e=d)&&e!==h?e:this.config["$[]"]("name");n=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](n))e="contexts",g=this.config,!1!==(l=g["$[]"](e))&&l!==h?l:g["$[]="](e,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](n))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return e="content_model",g=this.config,!1!==(l=g["$[]"](e))&&
l!==h?l:g["$[]="](e,"compound")});return(a.defn(l,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(q.base,q.get("Processor"));(function(b){b=d(b,"BlockProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))!==h&&(!b.$$is_boolean||!0==b)?this.name=a:this.$option("name",a)});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=
arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];return this.$option("contexts",b.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];return this.$option("pos_attrs",b.$flatten())});
a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(q.base);a.casgn(q.get("BlockProcessor"),"DSL",q.get("BlockProcessorDsl"));(function(d,$super){function e(){}var l=e=t(d,$super,"MacroProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("name");a.defn(l,"$initialize",
m=function(d,c){var e,g,l;null==d&&(d=h);null==c&&(c=b([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);this.name=!1!==(e=d)&&e!==h?e:this.config["$[]"]("name");return e="content_model",g=this.config,!1!==(l=g["$[]"](e))&&l!==h?l:g["$[]="](e,"attributes")});return(a.defn(l,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(q.base,q.get("Processor"));(function(b){b=d(b,"MacroProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));
a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))!==h&&(!b.$$is_boolean||!0==b)?this.name=a:this.$option("name",a)});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];return this.$option("pos_attrs",b.$flatten())});
a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(q.base);(function(a,$super){function b(){}b=t(a,$super,"BlockMacroProcessor",b);return h})(q.base,q.get("MacroProcessor"));a.casgn(q.get("BlockMacroProcessor"),"DSL",q.get("MacroProcessorDsl"));(function(b,
$super){function d(){}var e=d=t(b,$super,"InlineMacroProcessor",d),l=e.$$proto;l.config=l.name=h;a.defn(e,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==h?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(e,"$resolve_regexp",function(a,b){return b["$=="]("short")?RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),h)&&"resolve_regexp"})(q.base,q.get("MacroProcessor"));
(function(b){b=d(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(q.base);a.casgn(q.get("InlineMacroProcessor"),"DSL",q.get("InlineMacroProcessorDsl"));(function(b,$super){function d(){}var e=d=t(b,$super,"Extension",d);e.$attr("kind");e.$attr("config");e.$attr("instance");return(a.defn(e,"$initialize",function(a,b,c){this.kind=a;this.instance=
b;return this.config=c}),h)&&"initialize"})(q.base,null);(function(b,$super){function d(){}var e=d=t(b,$super,"ProcessorExtension",d),l;e.$attr("process_method");return(a.defn(e,"$initialize",l=function(b,c,d){var e;null==d&&(d=h);l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,c,c.$config()]);return this.process_method=!1!==(e=d)&&e!==h?e:c.$method("process")}),h)&&"initialize"})(q.base,q.get("Extension"));(function(b,$super){function d(){}var e=d=t(b,$super,"Group",d);
(function(b){var d=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=h);return d.get("Extensions").$register(a,this)}),h)&&"register"})(a.get_singleton_class(e));return(a.defn(e,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),h)&&"activate"})(q.base,null);(function(d,$super){function e(){}var p=e=t(d,$super,"Registry",e),q=p.$$proto,f=p.$$scope,c,u,z,C,I,E,x,B,J,M;q.groups=q.preprocessor_extensions=q.treeprocessor_extensions=q.postprocessor_extensions=q.include_processor_extensions=
q.docinfo_processor_extensions=q.block_extensions=q.block_macro_extensions=q.inline_macro_extensions=h;p.$attr_reader("document");p.$attr_reader("groups");a.defn(p,"$initialize",function(a){null==a&&(a=b([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=h});a.defn(p,"$activate",
function(b){var c,d,e;this.document=b;(c=(d=m(f.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=h;null==b&&(b=h);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?b.$call(c):h):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);return b},e.$$s=this,e),c).call(d);return this});a.defn(p,"$preprocessor",c=function(){var a,b=c.$$p||h,d=arguments.length-
0;0>d&&(d=0);for(var e=Array(d),f=0;f<d;f++)e[f]=arguments[f+0];c.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",e)});a.defn(p,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(p,"$treeprocessor",u=function(){var a,b=u.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];u.$$p=null;return(a=this.$add_document_processor,
a.$$p=b.$to_proc(),a).call(this,"treeprocessor",d)});a.defn(p,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(p,"$postprocessor",z=function(){var a,b=z.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];z.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",d)});a.defn(p,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});
a.defn(p,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(p,"$include_processor",C=function(){var a,b=C.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];C.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"include_processor",d)});a.defn(p,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(p,"$include_processors",function(){return this.include_processor_extensions});
a.defn(p,"$docinfo_processor",I=function(){var a,b=I.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];I.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",d)});a.defn(p,"$docinfo_processors?",function(a){var b,c,d;null==a&&(a=h);return(b=this.docinfo_processor_extensions)!==h&&(!b.$$is_boolean||!0==b)?!1!==a&&a!==h?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d),b).call(c):!0:!1});a.defn(p,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=h);return(b=this.docinfo_processor_extensions)!==h&&(!b.$$is_boolean||!0==b)?!1!==a&&a!==h?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):this.docinfo_processor_extensions:h});a.defn(p,"$block",E=function(){var a,b=E.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=
arguments[e+0];E.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",d)});a.defn(p,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block?",function(a,b){var c,d=h;return(c=d=this.block_extensions["$[]"](a.$to_sym()))!==h&&(!c.$$is_boolean||!0==c)?(c=d.$config()["$[]"]("contexts")["$include?"](b))!==h&&(!c.$$is_boolean||!0==c)?d:!1:!1});a.defn(p,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});
a.defn(p,"$block_macro",x=function(){var a,b=x.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];x.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",d)});a.defn(p,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block_macro?",function(a){var b,c=h;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))!==h&&(!b.$$is_boolean||!0==b)?c:!1});a.defn(p,"$find_block_macro_extension",
function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macro",B=function(){var a,b=B.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];B.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",d)});a.defn(p,"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_inline_macro?",function(a){var b,c=h;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))!==
h&&(!b.$$is_boolean||!0==b)?c:!1});a.defn(p,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macros",function(){return this.inline_macro_extensions.$values()});p.$private();a.defn(p,"$add_document_processor",J=function(b,c){var d,e,g,l,m,n,p=this,q=J.$$p||h,s=h,t=h,u=h,v=h,x=t=h,y=h,z=h,A=h;J.$$p=null;s=b.$to_s().$tr("_"," ");t=(d=(e=s.$split(" ")).$map,d.$$p=(g=function(a){null==a&&(a=h);return""+a.$chr().$upcase()+a["$[]"](w(1,
-1,!1))},g.$$s=p,g),d).call(e).$join().$to_sym();u=f.get("Extensions").$const_get(t);v=(d=null==a.Object.$$scope.AsciidoctorJ?h:"constant")!==h&&(!d.$$is_boolean||!0==d)?a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t):h;t=!1!==(d=p.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==h?d:p.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);x=function(){if(q!==h)return y=p.$resolve_args(c,1),z=u.$new(y),(d=u.$constants().$grep("DSL"))!==h&&(!d.$$is_boolean||!0==d)&&z.$extend(u.$const_get("DSL")),
(d=(l=z).$instance_exec,d.$$p=q.$to_proc(),d).call(l),z.$freeze(),(d=z["$process_block_given?"]())!==h&&(!d.$$is_boolean||!0==d)||p.$raise(a.get("ArgumentError").$new("No block specified to process "+s+" extension at "+q.$source_location())),f.get("ProcessorExtension").$new(b,z);d=a.to_ary(p.$resolve_args(c,2));z=null==d[0]?h:d[0];y=null==d[1]?h:d[1];return(d=!1!==(m=z["$is_a?"](a.get("Class")))&&m!==h?m:(n=z["$is_a?"](a.get("String")),!1!==n&&n!==h?z=f.get("Extensions").$class_for_name(z):n))!==
h&&(!d.$$is_boolean||!0==d)?((d=!1!==(m=r(z,u))&&m!==h?m:(n=!1!==v&&v!==h)?r(z,v):v)!==h&&(!d.$$is_boolean||!0==d)||p.$raise(a.get("ArgumentError").$new("Invalid type for "+s+" extension: "+z)),A=z.$new(y),A.$freeze(),f.get("ProcessorExtension").$new(b,A)):(d=!1!==(m=z["$is_a?"](u))&&m!==h?m:(n=!1!==v&&v!==h)?z["$is_a?"](v):v)!==h&&(!d.$$is_boolean||!0==d)?(z.$update_config(y),z.$freeze(),f.get("ProcessorExtension").$new(b,z)):p.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+
s+" extension: "+c))}();return x.$config()["$[]"]("position")["$=="](">>")?t.$unshift(x):t["$<<"](x)});a.defn(p,"$add_syntax_processor",M=function(c,d){var e,g,m,n,p,q,s=M.$$p||h,t=h,u=h,v=h,x=u=h,y=v=h,z=h,A=h,u=h;M.$$p=null;t=c.$to_s().$tr("_"," ");u=(e=(g=t.$split(" ")).$map,e.$$p=(m=function(a){null==a&&(a=h);return""+a.$chr().$upcase()+a["$[]"](w(1,-1,!1))},m.$$s=this,m),e).call(g).$join();v=(""+u+"Processor").$to_sym();u=f.get("Extensions").$const_get(v);x=(e=null==a.Object.$$scope.AsciidoctorJ?
h:"constant")!==h&&(!e.$$is_boolean||!0==e)?a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(v):h;v=!1!==(e=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&e!==h?e:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),b([],{}));if(s!==h){e=a.to_ary(this.$resolve_args(d,2));y=null==e[0]?h:e[0];z=null==e[1]?h:e[1];A=u.$new(this.$as_symbol(y),z);(e=u.$constants().$grep("DSL"))!==h&&(!e.$$is_boolean||!0==e)&&A.$extend(u.$const_get("DSL"));if(s.$arity()["$=="](1)){if(a.yield1(s,
A)===l)return l.$v}else(e=(n=A).$instance_exec,e.$$p=s.$to_proc(),e).call(n);(e=y=this.$as_symbol(A.$name()))!==h&&(!e.$$is_boolean||!0==e)||this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension at "+s.$source_location()));(e=A["$process_block_given?"]())!==h&&(!e.$$is_boolean||!0==e)||this.$raise(a.get("NoMethodError").$new("No block specified to process "+t+" extension at "+s.$source_location()));A.$freeze();return v["$[]="](y,f.get("ProcessorExtension").$new(c,A))}e=a.to_ary(this.$resolve_args(d,
3));A=null==e[0]?h:e[0];y=null==e[1]?h:e[1];z=null==e[2]?h:e[2];return(e=!1!==(p=A["$is_a?"](a.get("Class")))&&p!==h?p:(q=A["$is_a?"](a.get("String")),!1!==q&&q!==h?A=f.get("Extensions").$class_for_name(A):q))!==h&&(!e.$$is_boolean||!0==e)?((e=!1!==(p=r(A,u))&&p!==h?p:(q=!1!==x&&x!==h)?r(A,x):x)!==h&&(!e.$$is_boolean||!0==e)||this.$raise(a.get("ArgumentError").$new("Class specified for "+t+" extension does not inherit from "+u+": "+A)),u=A.$new(this.$as_symbol(y),z),(e=y=this.$as_symbol(u.$name()))!==
h&&(!e.$$is_boolean||!0==e)||this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension: "+A)),A.$freeze(),v["$[]="](y,f.get("ProcessorExtension").$new(c,u))):(e=!1!==(p=A["$is_a?"](u))&&p!==h?p:(q=!1!==x&&x!==h)?A["$is_a?"](x):x)!==h&&(!e.$$is_boolean||!0==e)?(A.$update_config(z),(e=y=!1!==y&&y!==h?(p=[this.$as_symbol(y)],q=A,q["$name="].apply(q,p),p[p.length-1]):this.$as_symbol(A.$name()))!==h&&(!e.$$is_boolean||!0==e)||this.$raise(a.get("ArgumentError").$new("No name specified for "+
t+" extension: "+A)),A.$freeze(),v["$[]="](y,f.get("ProcessorExtension").$new(c,A))):this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+d))});a.defn(p,"$resolve_args",function(c,d){var e,f=h,g=h,l=h,f=(e=c["$[]"](-1)["$is_a?"](a.get("Hash")))!==h&&(!e.$$is_boolean||!0==e)?c.$pop():b([],{});if(d["$=="](1))return f;g=c.$size();e=l=n(n(d,1),g);("number"===typeof e?0<e:e["$>"](0))?c.$fill(h,g,l):r(l,0)&&c.$pop(l["$-@"]());c["$<<"](f);return c});return(a.defn(p,
"$as_symbol",function(b){var c;return!1!==b&&b!==h?(c=b["$is_a?"](a.get("Symbol")))!==h&&(!c.$$is_boolean||!0==c)?b:b.$to_sym():h}),h)&&"as_symbol"})(q.base,null);(function(d){var e=d.$$scope,l,n;a.defn(d,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(d,"$next_auto_id",function(){var a;null==this.auto_id&&(this.auto_id=h);!1!==(a=this.auto_id)&&a!==h?a:this.auto_id=-1;return this.auto_id=m(this.auto_id,1)});a.defn(d,"$groups",function(){var a;null==this.groups&&(this.groups=
h);return!1!==(a=this.groups)&&a!==h?a:this.groups=b([],{})});a.defn(d,"$build_registry",l=function(a){var b,c=l.$$p||h;null==a&&(a=h);l.$$p=null;return c!==h?(!1!==(b=a)&&b!==h?b:a=this.$generate_name(),e.get("Registry").$new(z(a,c))):e.get("Registry").$new()});a.defn(d,"$register",n=function(){var b,d=n.$$p||h,c=h,e=h,g=e=h,g=h,c=arguments.length-0;0>c&&(c=0);for(var k=Array(c),e=0;e<c;e++)k[e]=arguments[e+0];n.$$p=null;c=k.$length();d===h&&((b=(e=k.$pop())["$!"]())!==h&&(!b.$$is_boolean||!0==b)?
d=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")):(g=e,d=a.get("Class")["$==="](g)?e:a.get("String")["$==="](g)?this.$class_for_name(e):a.get("Symbol")["$==="](g)?this.$class_for_name(e.$to_s()):e));e=d;g=!1!==(b=k.$pop())&&b!==h?b:this.$generate_name();(b=k["$empty?"]())!==h&&(!b.$$is_boolean||!0==b)||this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+c+" for 1..2)"));return this.$groups()["$[]="](g,e)});a.defn(d,"$unregister_all",function(){return this.groups=
b([],{})});a.defn(d,"$resolve_class",function(b){var d;return(d=b["$is_a?"](a.get("Class")))!==h&&(!d.$$is_boolean||!0==d)?b:this.$class_for_name(b.$to_s())});return(a.defn(d,"$class_for_name",function(b){var d,c,e,g=h,g=a.get("Object");(d=(c=b.$split("::")).$each,d.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=h);return(d=a["$empty?"]())!==h&&(!d.$$is_boolean||!0==d)?h:(d=g["$const_defined?"](a))!==h&&(!d.$$is_boolean||!0==d)?g=g.$const_get(a):c.$raise("Could not resolve class for name: "+b)},
e.$$s=this,e),d).call(c);return g}),h)&&"class_for_name"})(a.get_singleton_class(p))})(d(u,"Asciidoctor").$$scope.base)}(a.base)};("undefined"===typeof AsciidoctorConfiguration||"undefined"===typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor");("undefined"===typeof AsciidoctorConfiguration||"undefined"===typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor/extensions");
